"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-AlbumDetail-Block"],{77534:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(43961),l=n(98766),i=n(42779),o=n(1530),r=n(65663),m=n(1684),c=n(25304),s=n(69508),u=n(99221),p=n(18851),d=n(30758),b=n(32758);let g="AlbumDetailPhoto",h=(0,s.Ay)(u.A,{name:g})(({theme:e})=>({borderRadius:e.shape.borderRadius,margin:e.spacing("auto",-2),backgroundColor:e.palette.background.paper})),y=(0,s.Ay)(u.A,{name:g})(({theme:e})=>({padding:e.spacing(2),position:"relative"})),A=(0,s.Ay)(u.A,{name:g})(({theme:e})=>({position:"absolute",top:e.spacing(1),right:e.spacing(1),"& > button":{padding:e.spacing(1),width:30,height:30,textAlign:"center"}})),E=(0,s.Ay)(a.N_E,{name:g})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"})),f=(0,s.Ay)(u.A,{name:g})(({theme:e})=>({overflow:"hidden",marginTop:e.spacing(2),display:"flex",alignItems:"center",width:"100%"})),v=(0,s.Ay)(u.A,{name:g})(({theme:e})=>({color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15)})),x=(0,a.$MH)((0,l.F)(function({item:e,user:t,identity:n,handleAction:l,state:s}){let{jsxBackend:g,i18n:x,ItemActionMenu:k,useGetItem:_,usePageParams:w}=(0,a.PCX)(),P=g.get("photo.block.pinView"),{comment_id:C}=w(),S=(0,a.IgF)(r.Zt,r.hO,"getAlbumItems"),F=_(null==e?void 0:e.owner),{apiUrl:B,apiMethod:R}=S||{};if(!e)return null;let V=`photo-album/${e.id}`,$="/photo/albums",D=x.formatMessage({id:"all_albums"}),{is_featured:I,is_sponsor:T,name:z,text_parsed:M,extra:H}=e;return F&&(null==F?void 0:F.resource_name)!=="user"&&($=`${null==F?void 0:F.link}/photo?stab=albums`,D=x.formatMessage({id:"all_albums_from_name"},{name:(0,m.b6)(F.resource_name)})),d.createElement(o.eB,{testid:`detailview ${e.resource_name}`},d.createElement(o.tD,null,d.createElement(h,null,d.createElement(y,null,d.createElement(A,null,d.createElement(k,{identity:n,state:s,handleAction:l},d.createElement(c.s4,{sx:{fontSize:"13px"},icon:"ico-dottedmore-vertical-o"}))),d.createElement(u.A,null,d.createElement(E,{to:$,color:"primary",children:D}),d.createElement(c.Et,{variant:"h3",component:"div",showFull:!0},d.createElement(c.rL,{variant:"itemView",value:I}),d.createElement(c.FN,{value:T,variant:"itemView",item:e}),d.createElement(p.A,{component:"h1",variant:"h3",sx:{display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},z)),d.createElement(f,null,d.createElement(c.at,{item:e,sx:{mt:0},statisticDisplay:!1})),M&&d.createElement(v,null,d.createElement(c.Zn,{truncateProps:{variant:"body1",lines:5}},d.createElement(c.np,null,d.createElement(b.Ay,{html:M}))))),d.createElement(i.A,{identity:n,handleAction:l,borderBottom:!0,hideListComment:!C})),d.createElement(u.A,{pb:2},d.createElement(P,{title:"",numColumns:3,pagingId:V,dataSource:{apiUrl:B,apiMethod:R,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==H?void 0:H.can_upload_media}})))))},l.m,{tags:!0,categories:!0}));var k=(0,a.WvA)({extendBlock:x,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base"},headerStyle:{},footerStyle:{}}}})},98766:function(e,t,n){n.d(t,{m:function(){return l},F:function(){return a.FB$}});var a=n(43961);function l(e){return{}}}}]);