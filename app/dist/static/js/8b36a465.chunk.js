"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-blocks-PollDetail-Block"],{28404:function(e,t,n){n.d(t,{m:function(){return l},F:function(){return a.FB$}});var a=n(43961);function l(e){return{deletePoll:()=>e("deleteItem")}}},30446:function(e,t,n){n.d(t,{A:function(){return ee}});var a=n(43961),l=n(25304),o=n(69508),i=n(99221),r=n(56332),s=n(89507),d=n(30758),c=n(82142),m=n(18851),p=n(98002),u=n.n(p);let g=(0,o.Ay)(i.A,{name:"ProgressAnswer"})(({theme:e})=>({color:e.palette.text.hint,marginBottom:e.spacing(1),"&:last-child":{marginBottom:e.spacing(0)}})),v=(0,o.Ay)(i.A,{name:"ProgressItem"})(({theme:e})=>({height:e.spacing(2.5),display:"flex",alignItems:"center"})),h=(0,o.Ay)(c.A,{name:"Progress"})(({theme:e})=>({flex:1,minWidth:0,margin:0,marginRight:e.spacing(1),height:`${e.spacing(1)} !important`,borderRadius:e.shape.borderRadius/2,"& > div":{borderRadius:e.shape.borderRadius/2}})),A=(0,o.Ay)(m.A,{name:"ProgressPercent"})(({theme:e})=>({width:20,marginLeft:e.spacing(1),color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(13),wordWrap:"normal"})),f=(0,o.Ay)(i.A,{name:"NoShowAnswer"})(({theme:e})=>({display:"flex",alignItems:"center",paddingBottom:e.spacing(2),"&:last-child":{paddingBottom:0}})),b=(0,o.Ay)(l.s4,{name:"IconNoShowAnswer"})(({theme:e})=>({padding:e.spacing(1,1,1,0),fontSize:e.mixins.pxToRem(16)})),y=(0,o.Ay)(i.A,{name:"ProgressAnswerWrapper"})(({theme:e})=>({paddingRight:e.spacing(3),"&:last-child":{marginBottom:e.spacing(0)}})),w=(0,o.Ay)("span",{name:"BtnToggle"})(({theme:e})=>({color:e.palette.text.primary,fontWeight:"bold","&:hover":{textDecoration:"underline"}})),E=(0,o.Ay)(m.A,{name:"Title",shouldForwardProp:e=>"styleGroup"!==e})(({theme:e,styleGroup:t})=>({..."votedAnswer"===t&&{fontWeight:"bold",color:e.palette.text.primary},..."answerLabel"===t&&{}})),x=({item:e,settings:t})=>d.createElement(g,null,d.createElement(E,{variant:e.voted?"h5":"body1",styleGroup:e.voted?"votedAnswer":"answerLabel"},e.answer),d.createElement(v,{"data-testid":u()(`process_bar ${e.id}`)},d.createElement(h,{variant:"determinate",value:e.vote_percentage||0}),(null==t?void 0:t.publicVote)&&d.createElement(A,{component:"span"},`${e.vote_percentage}%`))),_=({item:e,settings:t})=>{let{user:n}=(0,a.wVH)(),l=()=>{if(null==e?void 0:e.some_votes){var t;return!!(null==e||null==(t=e.some_votes)?void 0:t.map(e=>e.id===(null==n?void 0:n.id)))}return!1},o=(null==t?void 0:t.isMultiple)?"ico-square-o":" ico-circle-o";return(null==t?void 0:t.isMultiple)&&e.voted&&l()&&(o="ico-check-square"),!(null==t?void 0:t.isMultiple)&&e.voted&&l()&&(o="ico-check-circle"),d.createElement(f,null,d.createElement(b,{icon:o}),d.createElement(E,{variant:e.voted?"h5":"body1",styleGroup:e.voted?"votedAnswer":"answerLabel"},e.answer))};var k=(0,d.memo)(function({displayAnswers:e,answers:t,publicVote:n,LIMIT_ANSWER_DISPLAY:l,hideAnswers:o,isMultiple:i,isCanViewVoteAnswer:r,isCanViewResult:s}){let{i18n:c}=(0,a.PCX)(),[m,p]=d.useState(!1);return d.createElement(y,null,(null==e?void 0:e.length)>0&&e.map((e,t)=>r&&s?d.createElement(x,{key:t,item:e,settings:{publicVote:n}}):d.createElement(_,{key:t,item:e,settings:{publicVote:n,isMultiple:i}})),m&&(null==o?void 0:o.length)>0?o.map((e,t)=>r&&s?d.createElement(x,{key:t,item:e,settings:{publicVote:n}}):d.createElement(_,{key:t,item:e,settings:{publicVote:n,isMultiple:i}})):null,t.length>l?d.createElement(w,{onClick:()=>p(!m),role:"button"},c.formatMessage({id:m?"view_less":"view_more"})):null)}),C=n(42772),S=n(31680),I=n(83162),z=n(64304),R=n(43104),M=n(89271),P=n(28017);let V=(0,o.Ay)(C.A,{name:"AnswerItem"})(({theme:e})=>({marginLeft:0,marginBottom:e.spacing(1),"&:last-child":{marginBottom:e.spacing(0)}})),F=(0,o.Ay)(S.A,{name:"RadioAnswer",shouldForwardProp:e=>"isEmbedInFeed"!==e})(({theme:e,isEmbedInFeed:t})=>({padding:e.spacing(0,1),...t&&{paddingLeft:e.spacing(0)}})),T=(0,o.Ay)(I.A,{name:"CheckboxAnswer",shouldForwardProp:e=>"isEmbedInFeed"!==e})(({theme:e,isEmbedInFeed:t})=>({padding:e.spacing(0,1),...t&&{paddingLeft:e.spacing(0)}})),W=(0,o.Ay)("span",{name:"BtnToggle"})(({theme:e})=>({color:e.palette.primary.main,fontWeight:"bold","&:hover":{textDecoration:"underline"}})),B=(0,o.Ay)(i.A,{name:"ButtonWrapper"})(({theme:e})=>({display:"flex",marginTop:e.spacing(2)})),L=(0,o.Ay)(i.A,{name:"ButtonInner"})(({theme:e})=>({fontWeight:"bold",textTransform:"capitalize"})),$=(0,o.Ay)(i.A,{name:"CancelButton"})(({theme:e})=>({fontWeight:"bold",marginLeft:e.spacing(1)})),j=({displayAnswers:e,disabled:t,handleCheckboxChange:n,viewMore:a,hideAnswers:l,isEmbedInFeed:o})=>d.createElement(z.A,null,(null==e?void 0:e.length)>0?e.map((e,a)=>d.createElement(V,{key:e.id.toString(),control:d.createElement(T,{disabled:t,color:"primary",size:"small",name:e.id.toString(),onChange:n,isEmbedInFeed:o,"data-testid":u()(`checkbox_answer ${a+1}`)}),label:e.answer})):null,a&&(null==l?void 0:l.length)>0?l.map((e,a)=>d.createElement(V,{key:e.id.toString(),control:d.createElement(T,{disabled:t,color:"primary",size:"small",name:e.id.toString(),onChange:n,isEmbedInFeed:o,"data-testid":u()(`checkbox_answer ${a+1}`)}),label:e.answer})):null),D=({value:e,handleRadioChange:t,displayAnswers:n,disabled:a,viewMore:l,hideAnswers:o,isEmbedInFeed:i})=>d.createElement(R.A,{value:e,onChange:t},(null==n?void 0:n.length)>0&&n.map((e,t)=>d.createElement(V,{key:e.id.toString(),value:e.id.toString(),control:d.createElement(F,{color:"primary",size:"small",disabled:a,isEmbedInFeed:i,"data-testid":u()(`radio_answer ${t+1}`)}),label:e.answer})),l&&(null==o?void 0:o.length)>0?o.map((e,t)=>d.createElement(V,{key:e.id.toString(),value:e.id.toString(),control:d.createElement(F,{color:"primary",size:"small",disabled:a,isEmbedInFeed:i,"data-testid":u()(`radio_answer ${t+1}`)}),label:e.answer})):null);var H=(0,d.memo)(function({voteAgain:e,pollId:t,identity:n,displayAnswers:o,isClosed:s,hideAnswers:c,isMultiple:m,answers:p,LIMIT_ANSWER_DISPLAY:g,isPending:v,canVote:h,canVoteAgain:A,isEmbedInFeed:f,setVoteAgain:b,setShowPoll:y,setIsCanViewVoteAnswer:w,canViewResultAfter:E,setIsCanViewResult:x,disabled:_}){let{i18n:k,dispatch:C,useSession:S}=(0,a.PCX)(),{loggedIn:I}=S(),[z,R]=d.useState(!1),[V,F]=d.useState(""),[T,H]=d.useState(""),[N,O]=d.useState([]),X=a=>{if(!N.length)return F(k.formatMessage({id:"please_select_an_option"})),a(),null;C({type:"submitPoll",payload:{voteAgain:e,pollId:t,answers:N,identity:n},meta:{onSuccess:e=>{y(!1),w(null==e?void 0:e.can_view_result_after_vote),x(null==e?void 0:e.can_view_result),a()}}})},G=_||s||!h&&!A;return d.createElement("form",{onSubmit:X},m?d.createElement(j,{displayAnswers:o,disabled:G,handleCheckboxChange:e=>{let{checked:t,name:n}=e.target,a=parseInt(n);t?(F(""),O(e=>(0,P.Ay)(e,e=>{0>e.findIndex(e=>e===a)&&e.push(a)}))):O(e=>(0,P.Ay)(e,e=>{let t=e.findIndex(e=>e===a);t>-1&&e.splice(t,1)}))},viewMore:z,hideAnswers:c,isEmbedInFeed:f}):d.createElement(D,{value:T,handleRadioChange:e=>{let{value:t}=e.target,n=parseInt(t);H(t),O([n]),F("")},displayAnswers:o,disabled:G,viewMore:z,hideAnswers:c,isEmbedInFeed:f}),p.length>g?d.createElement(i.A,{mt:1.5},d.createElement(W,{onClick:()=>R(!z),role:"button"},k.formatMessage({id:z?"view_less":"view_more"}))):null,V?d.createElement(M.A,null,V):null,(h||A)&&d.createElement(B,null,!v&&I&&d.createElement(L,null,d.createElement(l.dz,{action:X,variant:"outlined",disabled:G,size:f?"smaller":"medium",color:"primary",sx:{fontWeight:"bold"},"data-testid":u()("button_vote")},k.formatMessage({id:"vote"}))),e&&d.createElement($,null,d.createElement(r.A,{variant:"outlined",disabled:G,size:f?"smaller":"medium",color:"primary",sx:{fontWeight:"bold"},onClick:()=>{b(!1),y(!1)},"data-testid":u()("button_cancel")},k.formatMessage({id:"cancel"})))))}),N=n(21658),O=n.n(N);let X=(0,o.Ay)("span",{name:"PollVoteFormRoot",slot:"flagWrapper"})(({theme:e})=>({marginLeft:"auto","& > .MuiFlag-root":{marginLeft:e.spacing(2.5),[e.breakpoints.down("sm")]:{marginLeft:e.spacing(.5)}}})),G=(0,o.Ay)(i.A,{name:"ClosedStyled"})(({theme:e})=>({"&:before":{color:e.palette.text.secondary,content:'"\xb7"',paddingLeft:"0.25em",paddingRight:"0.25em"}})),q=(0,o.Ay)(i.A,{name:"Root",shouldForwardProp:e=>"isEmbedInFeed"!==e})(({theme:e,isEmbedInFeed:t})=>({...!t&&{border:e.mixins.border("secondary"),borderRadius:e.shape.borderRadius,padding:e.spacing(2)},...t&&{paddingTop:e.spacing(1)}})),Y=(0,o.Ay)(i.A,{name:"ButtonWrapper"})(({theme:e})=>({display:"flex",marginTop:e.spacing(2)})),U=(0,o.Ay)(r.A,{name:"ButtonInner"})(({theme:e})=>({fontWeight:"bold",textTransform:"capitalize"})),Z=(0,o.Ay)(i.A,{name:"VoteStatistic"})(({theme:e})=>({marginTop:e.spacing(2),color:e.palette.text.hint,fontSize:e.mixins.pxToRem(13),display:"flex"})),J=(0,o.Ay)(i.A,{name:"ActiveTotalVote"})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer","&:hover":{textDecoration:"underline"}})),K=(0,o.Ay)(l.C8,{name:"TotalVote"})(({theme:e})=>({"&:hover":{textDecoration:"underline"}})),Q=(0,o.Ay)(s.A,{name:"TimeLeft"})(({theme:e})=>({marginLeft:e.spacing(2)}));function ee(e){let{answers:t,statistic:n,closeTime:o,pollId:i,isVoted:r,isMultiple:s,publicVote:c,identity:m,isPending:p,canVoteAgain:g,canVote:v,canViewResult:h,canViewResultAfter:A,canViewResultBefore:f,isEmbedInFeed:b,isFeatured:y,isSponsor:w,isClosed:E,disabled:x=!1}=e,_=t.sort((e,t)=>(null==e?void 0:e.ordering)-(null==t?void 0:t.ordering)),{i18n:C,dialogBackend:S}=(0,a.PCX)(),[I,z]=d.useState(!0),[R,M]=d.useState(!1),[P,V]=d.useState(!1),[F,T]=d.useState(h),W=b?3:_.length,B=_.slice(0,W),L=_.slice(W,_.length);return d.useEffect(()=>{F&&(r?V(A):V(f))},[F,h,r,A,f]),d.useEffect(()=>{0===n.total_vote&&V(!1)},[n]),d.useEffect(()=>{z(!r)},[r]),d.createElement(q,{isEmbedInFeed:b},I?d.createElement(H,{voteAgain:R,pollId:i,identity:m,displayAnswers:B,isClosed:E,hideAnswers:L,isMultiple:s,answers:_,LIMIT_ANSWER_DISPLAY:W,isPending:p,canVote:v,canVoteAgain:g,isEmbedInFeed:b,setShowPoll:z,setVoteAgain:M,setIsCanViewVoteAnswer:V,setIsCanViewResult:T,canViewResultAfter:A,disabled:x}):d.createElement(k,{displayAnswers:B,answers:_,publicVote:c,LIMIT_ANSWER_DISPLAY:W,hideAnswers:L,isMultiple:s,isCanViewVoteAnswer:P,isCanViewResult:F}),!I&&g&&d.createElement(Y,null,d.createElement(U,{variant:"outlined",size:b?"smaller":"medium",color:"primary",onClick:()=>{M(!0),z(!0)},sx:{fontWeight:"bold"},disabled:x,"data-testid":u()("button_vote_again")},C.formatMessage({id:"vote_again"}))),d.createElement(Z,null,P&&F&&!x?d.createElement(J,{"data-testid":u()("button_total"),onClick:()=>S.present({component:"poll.dialog.PeopleWhoVotedAnswer",props:{listAnswers:_}})},C.formatMessage({id:"total_vote"},{value:n.total_vote})):d.createElement(K,{color:"textHint",values:n,display:"total_vote",skipZero:!1,"data-testid":u()("button_total")}),o&&!E?d.createElement(Q,{title:O()(o).format("llll")},d.createElement("span",{"data-testid":u()("span_TimeLeft")},C.formatMessage({id:"time_left"},{time:O()(o).fromNow(!0)}))):null,E?d.createElement(G,{color:"text.hint"},C.formatMessage({id:"voting_closed"})):null,b?d.createElement(X,null,d.createElement(l.rL,{variant:"text",value:y,color:"primary",showTitleMobile:!1}),d.createElement(l.FN,{variant:"text",value:w,color:"yellow",showTitleMobile:!1})):null))}},83162:function(e,t,n){n.d(t,{A:function(){return z}});var a=n(30758),l=n(13526),o=n(85206),i=n(1161),r=n(80016),s=n(4533),d=n(86070),c=(0,s.A)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=(0,s.A)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,s.A)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),u=n(96238),g=n(87614),v=n(67864),h=n(98216);function A(e){return(0,h.Ay)("MuiCheckbox",e)}let f=(0,v.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);var b=n(69508),y=n(24521),w=n(10512),E=n(78473),x=n(17206),_=n(51773);let k=(0,b.Ay)(r.A,{shouldForwardProp:e=>(0,g.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,u.A)(n.size)}`],"default"!==n.color&&t[`color${(0,u.A)(n.color)}`]]}})((0,y.A)(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,i.X4)(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter((0,w.A)()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,i.X4)(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter((0,w.A)()).map(([t])=>({props:{color:t},style:{[`&.${f.checked}, &.${f.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),C=(0,d.jsx)(m,{}),S=(0,d.jsx)(c,{}),I=(0,d.jsx)(p,{});var z=a.forwardRef(function(e,t){let n=(0,E.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:i=C,color:r="primary",icon:s=S,indeterminate:c=!1,indeterminateIcon:m=I,inputProps:p,size:g="medium",disableRipple:v=!1,className:h,slots:f={},slotProps:b={},...y}=n,w=c?m:s,z=c?m:i,R={...n,disableRipple:v,color:r,indeterminate:c,size:g},M=(e=>{let{classes:t,indeterminate:n,color:a,size:l}=e,i={root:["root",n&&"indeterminate",`color${(0,u.A)(a)}`,`size${(0,u.A)(l)}`]},r=(0,o.A)(i,A,t);return{...t,...r}})(R),P=b.input??p,[V,F]=(0,_.A)("root",{ref:t,elementType:k,className:(0,l.A)(M.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:b,...y},ownerState:R,additionalProps:{type:"checkbox",icon:a.cloneElement(w,{fontSize:w.props.fontSize??g}),checkedIcon:a.cloneElement(z,{fontSize:z.props.fontSize??g}),disableRipple:v,slots:f,slotProps:{input:(0,x.A)("function"==typeof P?P(R):P,{"data-indeterminate":c})}}});return(0,d.jsx)(V,{...F,classes:M})})},95797:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(43961),l=n(28404),o=n(32758),i=n(1530),r=n(25304),s=n(41349),d=n(69508),c=n(99221),m=n(18851),p=n(30758),u=n(30446);let g="PollDetail",v=(0,d.Ay)("div",{name:g,slot:"ContentWrapper"})(({theme:e})=>({position:"relative"})),h=(0,d.Ay)("div",{name:g,slot:"MessageWrapper"})(({theme:e})=>({borderRadius:e.shape.borderRadius,height:e.spacing(6),width:"auto",backgroundColor:e.palette.action.hover,display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(0,2),marginBottom:e.spacing(2)})),A=(0,d.Ay)("div",{name:g,slot:"bgCover"})(({theme:e})=>({position:"relative",zIndex:2,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",height:320})),f=(0,d.Ay)("div",{name:g,slot:"bgCover",shouldForwardProp:e=>"isModalView"!==e})(({theme:e})=>({position:"absolute",left:0,right:0,bottom:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:1,backgroundColor:e.palette.background.default,filter:"blur(100px)"})),b=(0,d.Ay)(c.A,{name:"ViewContainer"})(({theme:e})=>({width:"100%",padding:e.spacing(2),position:"relative"})),y=(0,d.Ay)(c.A,{name:"AttachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(4),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),w=(0,d.Ay)(c.A,{name:"Attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between",[e.breakpoints.down("sm")]:{flexDirection:"column"}})),E=(0,d.Ay)(c.A,{name:"AttachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"calc(50% - 8px)",minWidth:300,maxWidth:"100%"})),x=(0,d.Ay)(c.A,{name:"VoteForm"})(({theme:e})=>({marginTop:e.spacing(2),[e.breakpoints.up("sm")]:{maxWidth:450}})),_=(0,d.Ay)(c.A,{name:"ItemContent"})(({theme:e})=>({fontSize:15})),k=(0,d.Ay)(c.A,{name:"ActionMenu"})(({theme:e})=>({width:32,height:32,[e.breakpoints.down("sm")]:{position:"absolute",top:e.spacing(-1),right:e.spacing(-1)},"& .ico":{color:e.palette.text.secondary,fontSize:13},"& button:hover":{backgroundColor:e.palette.action.selected}})),C=(0,a.$MH)((0,l.F)(function({item:e,user:t,attachments:n,actions:l,answers:d,identity:g,handleAction:C,state:S}){let{ItemActionMenu:I,ItemDetailInteraction:z,i18n:R,jsxBackend:M,useSession:P}=(0,a.PCX)(),{user:V}=P(),F=(null==V?void 0:V.id)===(null==t?void 0:t.id),T=M.get("core.itemView.pendingReviewCard");if(!e||!t)return null;let{item_id:W,is_user_voted:B,is_multiple:L,public_vote:$,is_featured:j,is_sponsor:D,is_pending:H,is_closed:N,extra:O}=e,X=(0,s.AE)(null==e?void 0:e.image,"origin");return p.createElement(i.eB,{testid:`detailview ${e.resource_name}`},p.createElement(i.tD,null,p.createElement(v,null,X?p.createElement(c.A,{sx:{position:"relative",overflow:"hidden"}},p.createElement(A,{style:{backgroundImage:`url(${X})`}}),p.createElement(f,{style:{backgroundImage:`url(${X})`}})):null,p.createElement(b,null,T&&p.createElement(T,{sxWrapper:{mb:1},item:e}),N&&p.createElement(h,null,p.createElement(m.A,{variant:"h5",color:"text.hint"},R.formatMessage({id:"voting_for_the_poll_was_closed"}))),p.createElement(v,null,p.createElement(c.A,{display:"flex"},p.createElement(r.Et,{variant:"h3",component:"div",showFull:!0,sx:{flex:1}},p.createElement(r.rL,{variant:"itemView",value:j}),p.createElement(r.FN,{variant:"itemView",value:D,item:e}),p.createElement(m.A,{component:"h1",variant:"h3",sx:{display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},null==e?void 0:e.question)),p.createElement(k,null,p.createElement(I,{menuName:"detailActionMenu",identity:g,icon:"ico-dottedmore-vertical-o",state:S,handleAction:C}))),p.createElement(r.at,{item:e}),(null==e?void 0:e.text)&&p.createElement(_,null,p.createElement(r.wP,{maxHeight:"300px"},p.createElement(r.np,null,p.createElement(o.Ay,{html:e.text||""})))),p.createElement(x,{"data-testid":"voteFormPoll"},p.createElement(u.A,{isMultiple:L,isVoted:B,pollId:W,answers:d,statistic:e.statistic,closeTime:e.close_time,publicVote:F||$,identity:g,isPending:H,isClosed:N,canVoteAgain:O.can_change_vote,canVote:O.can_vote,canViewResult:O.can_view_result,canViewResultAfter:O.can_view_result_after_vote,canViewResultBefore:O.can_view_result_before_vote})),(null==n?void 0:n.length)>0&&p.createElement(p.Fragment,null,p.createElement(y,null,R.formatMessage({id:"attachments"})),p.createElement(w,null,n.map((e,t)=>p.createElement(E,{key:e.id.toString()},p.createElement(r.Hg,{fileName:e.file_name,downloadUrl:e.download_url,isImage:e.is_image,fileSizeText:e.file_size_text,image:null==e?void 0:e.image,size:"large",identity:null==e?void 0:e._identity,index:t}))))),p.createElement(z,{identity:g,state:S,handleAction:C}))))))},l.m,{poll_answer:!0,attachments:!0}));var S=(0,a.WvA)({extendBlock:C,defaults:{placeholder:"Search",blockLayout:"Detail - Paper - Radius Bottom"}})}}]);