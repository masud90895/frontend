"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-AttachPollPreview"],{32667:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}});var n=t(43961),a=t(25304),o=t(99221),i=t(56332),r=t(18851),s=t(69508),d=t(30758),u=t(21658),m=t.n(u),c=t(79765);let p=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),padding:e.spacing(3)})),f=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:e.shape.borderRadius/2,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)}));function g({value:e,formUrl:l,handleEdit:t,handleRemove:s}){var u,g,b;let{i18n:h,dialogBackend:_}=(0,n.PCX)(),v=(0,c.j7)(),x=d.useCallback(()=>{_.confirm({message:h.formatMessage({id:"are_you_sure"})}).then(e=>{e&&s&&s()})},[]);if(!e)return null;let{permissions:E}=e,A=null==(g=null==E?void 0:E.can_edit)||g,k=null==(b=null==E?void 0:E.can_delete)||b;return d.createElement(p,null,d.createElement(a.mE,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2}},e.poll_question),d.createElement("div",null,null==(u=e.poll_answers)?void 0:u.map((e,l)=>e.answer?d.createElement(f,{key:l.toString()},e.answer):null)),d.createElement(a.Fu,null,A?d.createElement(i.A,{disabled:null==v?void 0:v.isSubmitting,variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:()=>{_.present({component:"poll.dialog.AttachPollDialog",props:{initialValues:e,formUrl:l,isEdit:!0}}).then(e=>{e&&t(e)})}},h.formatMessage({id:"edit"})):null,k?d.createElement(i.A,{disabled:null==v?void 0:v.isSubmitting,variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:x},h.formatMessage({id:"remove"})):null),e.poll_close_time&&e.enable_close?d.createElement(o.A,{sx:{mt:2}},d.createElement(r.A,{variant:"body2",color:"text.hint",fontWeight:"bold"},h.formatMessage({id:"expire_on"})," ",m()(e.poll_close_time).format("LLL"))):null)}}}]);