(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["block.home"],{19549:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var r=o(43961),a=o(99221),n=o(20136),i=o(70368),l=o(69508),s=o(30758),p=o(22463);let c=(0,l.Ay)(a.A,{name:"AppBarLogo",slot:"Root",overridesResolver(e,t){return[t.root]}})({display:"inline-block",height:32,"& a":{display:"inline-block",lineHeight:0}});var d=s.forwardRef((e,t)=>{let o=(0,p.A)(),{offline:a}=e||{},{assetUrl:n,getSetting:i}=(0,r.PCX)(),l=i("core.homepage_url"),d=n("dark"===o.palette.mode?"layout.image_logo_dark":"layout.image_logo");return s.createElement(c,null,a?s.createElement("img",{draggable:!1,"data-testid":"imgLogo",src:d,height:"32",alt:"Home"}):s.createElement(r.Wti,{draggable:!1,to:l||"/",ref:t,"data-testid":"linkLogo",role:"link"},s.createElement("img",{draggable:!1,"data-testid":"imgLogo",src:d,height:"32",alt:"Home"})))}),u=o(39630),m=o(70709),g=o(49362),h=o(92376),f=o(57688);let x=(0,l.Ay)(a.A,{name:"PrimaryAppBar",slot:"Root"})(({theme:e})=>{var t,o;return{height:null!=(t=e.appBarHeight.normal)?t:58,minHeight:null!=(o=e.appBarHeight.normal)?o:58,minWidth:1,position:"relative",margin:0,padding:0,flexGrow:1,flexBasis:"100%",width:"100%","& form":{alignItems:"end"}}});var b=(0,r.WvA)({extendBlock:function(e){var t;let{useLoggedIn:o,usePageParams:l,getSetting:p,useTheme:c,getAcl:b}=(0,r.PCX)(),y=c(),v=o(),{menuHeaderGuestLogin:k}=l(),A=b("core.admincp.has_admin_access"),w=s.useMemo(()=>"hide"===k?null:k?s.createElement(m.A,null):s.createElement(u.A,null),[k]),R=p("core.offline");return!A&&R?s.createElement(f.A,null,s.createElement(x,null,s.createElement(n.A,{"data-testid":"appbar"},s.createElement(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},s.createElement(d,{offline:!0}))))):s.createElement(f.A,null,s.createElement(x,null,s.createElement(n.A,{"data-testid":"appbar",sx:{background:null==(t=y.palette)?void 0:t.appBar}},s.createElement(i.A,null,s.createElement(d,null),v?s.createElement(s.Fragment,null,s.createElement(g.A,null),s.createElement(h.A,null)):w))))},defaults:{},overrides:{noHeader:!0,noFooter:!0}})},20136:function(e,t,o){"use strict";o.d(t,{A:function(){return b}});var r=o(30758),a=o(13526),n=o(85206),i=o(69508),l=o(24521),s=o(78473),p=o(96238),c=o(10512),d=o(27759),u=o(67864),m=o(98216);function g(e){return(0,m.Ay)("MuiAppBar",e)}(0,u.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var h=o(86070);let f=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,x=(0,i.Ay)(d.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,t[`position${(0,p.A)(o.position)}`],t[`color${(0,p.A)(o.color)}`]]}})((0,l.A)(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter((0,c.A)(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?f(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?f(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]})));var b=r.forwardRef(function(e,t){let o=(0,s.b)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:l=!1,position:c="fixed",...d}=o,u={...o,color:i,position:c,enableColorOnDark:l},m=(e=>{let{color:t,position:o,classes:r}=e,a={root:["root",`color${(0,p.A)(t)}`,`position${(0,p.A)(o)}`]};return(0,n.A)(a,g,r)})(u);return(0,h.jsx)(x,{square:!0,component:"header",ownerState:u,elevation:4,className:(0,a.A)(m.root,r,"fixed"===c&&"mui-fixed"),ref:t,...d})})},20238:function(e,t,o){"use strict";o.r(t);var r=o(43961),a=o(69508),n=o(30758),i=o(1530),l=o(41349);let s=(0,a.Ay)("ul",{name:"FooterAppMenu",slot:"itemFooterAppMenu",overridesResolver(e,t){return[t.itemFooterAppMenu]}})(({theme:e})=>({listStyle:"none",padding:0,margin:0,display:"block",marginBottom:e.spacing(1),paddingBottom:e.spacing(1),borderBottom:e.mixins.border("secondary"),color:e.palette.default.contrastText,borderWidth:"0.5px","& > li":{display:"inline-block",paddingRight:e.spacing(3)}}));t.default=(0,r.WvA)({extendBlock:function({color:e="inherit"}){let{useAppMenu:t,getSetting:o,getAcl:a,useSession:p,usePageParams:c}=(0,r.PCX)(),d=c(),u=p(),m=a(),g=o(),h=t("core","appFooterMenu"),f=(0,l.Ue)(null==h?void 0:h.items,{acl:m,setting:g,session:u,params:d});return(null==f?void 0:f.length)?n.createElement(i.eB,null,n.createElement(i.tD,null,n.createElement(s,null,f?f.map((t,o)=>n.createElement("li",{key:o.toString()},n.createElement(r.N_E,{color:e,to:t.to,key:t.to},t.label))):null))):null},defaults:{title:"Footer Menu"},overrides:{noHeader:!0}})},34082:function(e,t,o){var r=o(59020),a=o(23480),n=o(3978),i=o(64139),l=o(87604),s=o(38752),p=o(68382);e.exports=function(e,t,o){if((e=p(e))&&(o||void 0===t))return a(e);if(!e||!(t=r(t)))return e;var c=s(e),d=s(t),u=l(c,d),m=i(c,d)+1;return n(c,u,m).join("")}},37197:function(e,t,o){"use strict";o.r(t);var r=o(43961),a=o(18851),n=o(69508),i=o(30758),l=o(41349);let s=(0,n.Ay)(a.A,{name:"Footer",slot:"content"})(({theme:e})=>({display:"flex",flexFlow:"wrap",alignItems:"center","& > span":{marginRight:e.spacing(2)}}));t.default=function({color:e="inherit",sx:t={},variant:o="body2"}){var a,n;let{useAppMenu:p,getSetting:c,getAcl:d,useSession:u,usePageParams:m}=(0,r.PCX)(),g=m(),h=u(),f=d(),x=c(),b=p("core","primaryFooterMenu"),y=p("core","secondaryFooterMenu"),v=(0,l.Ue)(null==b?void 0:b.items,{acl:f,setting:x,session:h,params:g}),k=(0,l.Ue)(null==y?void 0:y.items,{acl:f,setting:x,session:h,params:g}),A=null==x||null==(n=x.core)||null==(a=n.general)?void 0:a.site_copyright;return v||k?i.createElement(s,{component:"div",color:e,variant:o,sx:t},v?v.map((t,o)=>i.createElement("span",{key:o.toString()},i.createElement(r.N_E,{color:e,to:t.to,key:t.to},t.label))):null,k?k.map((t,o)=>i.createElement("span",{key:`k${o}`},"copyright"===t.name?`${A} ${new Date().getFullYear()}`:i.createElement(r.N_E,{color:e,to:t.to,key:t.to},t.label))):null):null}},39630:function(e,t,o){"use strict";o.d(t,{A:function(){return d}});var r=o(43961),a=o(98982),n=o(30758),i=o(56332),l=o(22463),s=o(69508),p=o(52520);let c=(0,s.Ay)(i.A,{name:"ButtonSignIn"})(({theme:e})=>({fontSize:15,height:32,padding:e.spacing(0,3),textTransform:"capitalize",position:"absolute",right:e.spacing(2)}));function d(){let e=(0,r.EkY)("user","user","small_login"),{navigate:t,i18n:o}=(0,r.PCX)(),i=(0,l.A)();return(0,p.A)(i.breakpoints.down("lg"))?n.createElement(c,{variant:"contained",color:"primary",size:"small",onClick:()=>{t({pathname:"/login"})},disableElevation:!0,type:"submit"},o.formatMessage({id:"sign_in"})):n.createElement(a.ok,{formSchema:e,navigationConfirmWhenDirty:!1})}},49362:function(e,t,o){"use strict";o.d(t,{A:function(){return P}});var r=o(43961),a=o(25304),n=o(99221),i=o(12695),l=o(69508),s=o(34082),p=o.n(s),c=o(4239),d=o.n(c),u=o(30758),m=o(28606),g=o(94215);let h=(0,m.A)(e=>{var t,o,r,a;return(0,g.A)({root:{width:320,position:"absolute",left:"50%",transform:"translateX(-50%)",top:0,paddingTop:13,overflow:"hidden",zIndex:e.zIndex.appBar},rootOpen:{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}},form:{width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"}},formFocused:{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:`${e.spacing(.5,1,.75,1)} !important`,boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"32px"},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightBold},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{display:"none"},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null==(t=e.palette.border)?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.2,2),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null==(o=e.palette.border)?void 0:o.secondary},clearButton:{fontWeight:"normal !important"},recentItem:{padding:e.spacing(1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null==(r=e.palette.border)?void 0:r.secondary}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center",borderTop:"solid 1px",borderTopColor:null==(a=e.palette.border)?void 0:a.secondary},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"}})},{name:"AppBar"});var f=o(56332),x=o(86725),b=o(13526),y=o(4633),v=o.n(y),k=o(24009),A=u.forwardRef(function({onSearch:e,limit:t=5,classes:o},n){let{dispatch:i,i18n:l}=(0,r.PCX)(),[s,p]=u.useState(-1),c=[],{data:d,loaded:m}=(0,k.d4)(e=>e.search.recentSearch);u.useImperativeHandle(n,()=>({moveNext:()=>{if(!(null==d?void 0:d.length))return;let e=Math.min(d.length,t);e&&p(t=>(t+1+e)%e)},movePrev:()=>{if(!(null==d?void 0:d.length))return;let e=Math.min(d.length,t);e&&p(t=>(Math.max(0,t)-1+e)%e)},selected:()=>s>-1?d[s]:void 0})),u.useEffect(()=>{p(-1)},[d]),u.useEffect(()=>{m||i({type:"recentSearch/INIT",payload:{}})},[i,m]);let g=u.useCallback((e,t)=>{e&&(e.preventDefault(),e.stopPropagation()),i({type:"recentSearch/REMOVE",payload:{text:t}})},[]),h=u.useCallback(()=>{i({type:"recentSearch/CLEAR",payload:{}})},[i]);return v()(d)?u.createElement("div",{className:o.menuList,"data-testid":"noRecentSearches"},u.createElement("span",{className:o.noOptions},l.formatMessage({id:"no_recent_searches"}))):m?u.createElement(u.Fragment,null,u.createElement("div",{className:(0,b.A)(o.headerPopup,o.headerRecent)},u.createElement("span",null,l.formatMessage({id:"recents"})),u.createElement(f.A,{onClick:h,className:o.clearButton,tabIndex:-1,size:"medium"},l.formatMessage({id:"clear"}))),u.createElement("div",{className:o.menuList},d.slice(0,5).map((t,r)=>u.createElement("div",{role:"option",tabIndex:-1,ref:e=>{c[r]=e},"aria-selected":s===r,key:t.toString(),onClick:()=>e(t),onMouseOver:()=>p(r),onMouseLeave:()=>p(-1),className:(0,b.A)(o.recentItem,s===r&&o.focusedItem)},u.createElement("span",{className:o.recentLabel},t),u.createElement(x.A,{tabIndex:-1,size:"smaller",onClick:e=>g(e,t),sx:{fontSize:16}},u.createElement(a.s4,{color:"textSecondary",icon:"ico-close"})))))):null}),w=o(41349),R=o(18851),I=o(64487),B=o(85481);let E=e=>e.search.suggestions;var S=u.forwardRef(function({limit:e=6,text:t,classes:o,onSearch:a,isActionSearch:i,blurSearch:l},s){let{i18n:p}=(0,r.PCX)(),[c,d]=u.useState(-1),{data:m,loaded:g}=Object.assign({},(0,k.d4)(E)[t]);return u.useImperativeHandle(s,()=>({moveNext:()=>{if(!(null==m?void 0:m.length))return;let t=Math.min(m.length,e);t&&d(e=>(e+1+t)%t)},movePrev:()=>{if(!(null==m?void 0:m.length))return;let t=Math.min(m.length,e);t&&d(e=>(Math.max(0,e)-1+t)%t)},selected:()=>c>-1?m[c]:void 0})),u.createElement(u.Fragment,null,!!t&&u.createElement(R.A,{paragraph:!0,padding:"16px",margin:"0",sx:{cursor:"pointer"}},i&&u.createElement("span",{onClick:()=>{"function"==typeof a&&a(t)}},`${p.formatMessage({id:"search"})} “${t}”`)),u.createElement("div",{className:o.menuList,"data-testid":"suggestions"},g&&m.length?m.slice(0,e).map((e,t)=>u.createElement(r.Wti,{role:"option","data-testid":"suggestion",key:e.to,to:e.to,onClick:l,onMouseOver:()=>d(t),onMouseLeave:()=>d(-1),className:(0,b.A)(o.searchItem,c===t&&o.focusedItem)},u.createElement(I.A,{className:o.searchAvatar,src:(0,w.AE)(null==e?void 0:e.image,"200"),children:(0,w.cb)(e.title),style:{backgroundColor:w.m6.hex((0,w.cb)(e.title)||"")}}),u.createElement("div",{className:o.searchContent},u.createElement(R.A,{variant:"h5",className:o.searchTitle},e.title),u.createElement("div",{className:o.searchNote},e.note)))):null,g?null:u.createElement(n.A,{sx:{display:"flex",justifyContent:"center",pb:2,color:"text.disabled"}},u.createElement(B.A,{variant:"indeterminate",color:"inherit"}))))}),C=o(76534);let T="search",z="MfHeaderSearchForm",M=(0,l.Ay)(n.A,{name:z,slot:"Root",overridesResolver:({placement:e},t)=>[t.root,"left"===e&&t.rootPlacementLeft,"float-left"===e&&t.rootPlacementFloatLeft,"center"===e&&t.rootPlacementCenter,"right"===e&&t.rootPlacementRight]})(({theme:e,open:t,placement:o})=>({width:320,position:"absolute",top:0,paddingTop:13,zIndex:e.zIndex.appBar,transform:"translateX(-50%)",left:"50%",...t&&{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}}})),W=(0,l.Ay)("form",{name:z,slot:"Form",skipSx:!0,skipVariantsResolver:!0,shouldForwardProp:e=>"focused"!==e,overridesResolver:(e,t)=>[t.form]})(({theme:e,focused:t})=>({width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"},...t&&{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"}})),F=(0,l.Ay)(i.Ay,{name:z,slot:"Input"})(({theme:e})=>({color:`${e.palette.text.secondary} !important`,width:"100%","& input::placeholder":{color:e.palette.text.hint}})),L=(0,l.Ay)(n.A,{name:z,slot:"ResultWrapper"})(({open:e})=>({display:e?"block":"none"})),$=(0,l.Ay)(a.s4,{name:z,slot:"SearchIcon",shouldForwardProp:e=>"active"!==e})(({active:e,theme:t})=>({color:t.palette.text.hint,...e&&{color:t.palette.primary.main}}));function P({openSearch:e,minimize:t,closeSearch:o,placement:n,menuRef:i}){var l;let s=h(),{dispatch:c,usePageParams:m,i18n:g,eventCenter:f,navigate:x,location:b,getSetting:y}=(0,r.PCX)(),v=(0,r.IgF)(T,T,"searchHashtagItem"),k=(0,r.IgF)(T,T,"viewAll"),{pathname:R}=b,{q:I}=m(),B=u.useMemo(()=>/^\/hashtag\/search/.test(R)?I?`#${I}`:"":/^\/search/.test(R)?I:"",[R,I]),[E,z]=u.useState({open:!1,text:B,focus:!1,minimize:!!t}),P=y("search"),N=g.formatMessage({id:"search"}),H=u.useRef(),D=u.useRef(),_=u.useRef();u.useEffect(()=>{let e=f.on("minimizeGlobalSearchForm",()=>{z(e=>({...e,minimize:!0}))});return()=>{f.off("minimizeGlobalSearchForm",e)}},[]),u.useEffect(()=>{!0===e&&K()},[e]);let O=u.useCallback(e=>{if(z(t=>({...t,text:e})),e&&c({type:"recentSearch/ADD",payload:{text:p()(e)}}),e.startsWith("#")&&e.substring(1)){let t={q:e.substring(1),...null==v?void 0:v.pageParams},o=null==k?void 0:k.apiRules,r=(0,w.FI)(t,o);x({pathname:"/hashtag/search",search:C.stringify(r)},{replace:!0})}else x(`/search/?q=${e}`);(null==D?void 0:D.current)&&D.current.blur(),U()},[]),j=u.useCallback(()=>{z(e=>({...e,focus:!1,open:!1}))},[]),G=u.useCallback(()=>{var e;(null==(e=H.current)?void 0:e.movePrev)&&H.current.movePrev()},[]),X=u.useCallback(()=>{var e;(null==(e=H.current)?void 0:e.moveNext)&&H.current.moveNext()},[]),U=u.useCallback(()=>{z(e=>({...e,focus:!1,open:!1})),o&&o()},[o]),Y=u.useCallback(e=>{var t;let r=null==(t=D.current)?void 0:t.value;if("#"===r)return;e&&(e.preventDefault(),e.stopPropagation());let a=p()(r);a||U(),a&&(c({type:"recentSearch/ADD",payload:{text:a}}),O(a)),o&&o()},[o]),q=u.useCallback(e=>{let t=e.currentTarget.value;z(e=>({...e,text:t,selectedIndex:0})),c({type:"suggestions/QUERY",payload:{text:t}})},[]),K=u.useCallback(()=>{if(!E.open&&(z(e=>({...e,focus:!0,open:!0})),D.current)){var e;null==(e=D.current)||e.focus()}c({type:"suggestions/QUERY",payload:{text:E.text}})},[E.open,E.text]),Q=u.useCallback(()=>{o&&o(),z(e=>({...e,open:!1,focus:!1}))},[o]),V=u.useCallback(()=>{var e,t;let o=null==(e=H.current)?void 0:e.selected();if(o){null==(t=D.current)||t.blur(),d()(o)?O(o):x(null==o?void 0:o.to);return}Y()},[E.text]),Z=u.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),J=u.useCallback(e=>{let t=null==e?void 0:e.keyCode;if(!e.metaKey&&!e.ctrlKey)switch(t){case 9:j();break;case 27:j(),Z(e);break;case 13:V(),Z(e);break;case 38:G(),Z(e);break;case 40:X(),Z(e);break;default:E.open||K()}},[E.open]);return(u.useEffect(()=>{let e=["/search","/hashtag/search"].some(e=>R.startsWith(e));z(t=>({...t,text:e?B:""}))},[R,B]),P)?u.createElement(a.qB,{onClickAway:Q,excludeRef:i},u.createElement(M,{ref:_,"data-testid":"formSearch",open:E.open,placement:null!=n?n:"center",role:"search",id:"globalSearchBox"},u.createElement(W,{method:"get",focused:!!E.open,"aria-expanded":!E.minimize,onSubmit:Y},u.createElement(F,{startAdornment:u.createElement($,{active:!!E.open,icon:"ico-search-o"}),placeholder:N,classes:{root:s.inputRoot,input:s.inputInput},autoComplete:"off",value:E.text,name:"globalSearch",inputProps:{"aria-label":"search","data-testid":"searchBox",autoComplete:"off",autoCapitalize:"off"},inputRef:D,onFocus:K,onChange:q,onKeyDown:J})),E.open?u.createElement(L,{open:E.open},E.text?u.createElement(S,{ref:H,onSearch:O,classes:s,text:E.text,isActionSearch:(null==(l=D.current)?void 0:l.value)!=="#",blurSearch:Q}):u.createElement(A,{onSearch:O,ref:H,classes:s})):null)):null}},57688:function(e,t,o){"use strict";var r=o(43562),a=o(30758);t.A=function({children:e}){let t=a.useState(!0);return a.createElement(r.A.Provider,{value:t},e)}},61209:function(e,t,o){"use strict";o.r(t);var r=o(43961),a=o(18851),n=o(69508),i=o(30758),l=o(1530),s=o(41349);let p="Footer",c=(0,n.Ay)("div",{name:"LayoutSlot",slot:"ContentLogin",shouldForwardProp:e=>"isSideSlot"!==e,overridesResolver(e,t){return[t.contentLogin]}})(({theme:e,isSideSlot:t})=>({display:t?"block":"flex",justifyContent:"space-between",flexFlow:"wrap",alignItems:"center",lineHeight:t?"1.5":"unset",marginBottom:t?void 0:e.spacing(-2),color:t?e.palette.text.hint:e.palette.default.contrastText})),d=(0,n.Ay)("ul",{name:p,slot:"itemFooter",shouldForwardProp:e=>"isSideSlot"!==e,overridesResolver(e,t){return[t.itemFooter]}})(({theme:e,isSideSlot:t})=>({listStyle:"none",padding:0,margin:0,display:t?"inline":"block",marginBottom:t?void 0:e.spacing(2),"& > li":{display:"inline-block",paddingRight:t?e.spacing(2):e.spacing(3)}})),u=(0,n.Ay)("div",{name:p,slot:"itemFooter",shouldForwardProp:e=>"isSideSlot"!==e,overridesResolver(e,t){return[t.itemFooter]}})(({theme:e,isSideSlot:t})=>({display:t?"inline":"block",marginBottom:t?void 0:e.spacing(2),"& > span":{display:"inline-block","&:not(:last-child)":{paddingRight:t?e.spacing(2):e.spacing(3)}}}));function m({color:e="inherit",slotName:t}){var o,n;let{useAppMenu:p,getSetting:m,getAcl:g,useSession:h,usePageParams:f}=(0,r.PCX)(),x=f(),b=h(),y=g(),v=m(),k=p("core","primaryFooterMenu"),A=p("core","secondaryFooterMenu"),w=(0,s.Ue)(null==k?void 0:k.items,{acl:y,setting:v,session:b,params:x}),R=(0,s.Ue)(null==A?void 0:A.items,{acl:y,setting:v,session:b,params:x}),I=null==v||null==(n=v.core)||null==(o=n.general)?void 0:o.site_copyright,B="subside"===t;return w||R?i.createElement(l.eB,null,i.createElement(l.tD,null,i.createElement(c,{"data-testid":"footerContent",isSideSlot:B},i.createElement(d,{isSideSlot:B},w?w.map((t,o)=>i.createElement("li",{"data-testid":"footerItemMenu",key:o.toString()},i.createElement(r.N_E,{color:e,to:t.to,key:t.to},t.label))):null),i.createElement(u,{isSideSlot:B},R?R.map((t,o)=>"copyright"===t.name?i.createElement(a.A,{component:"span",fontSize:"inherit",color:e,key:`k${o}`,"data-testid":"footerItemMenu"},`${I} ${new Date().getFullYear()}`):i.createElement("span",{"data-testid":"footerItemMenu",key:`k${o}`},i.createElement(r.N_E,{color:e,to:t.to,key:t.to},t.label))):null)))):null}m.displayName="FooterMenu",t.default=(0,r.WvA)({extendBlock:m,defaults:{title:"Footer Menu",blockLayout:"footer - login"},overrides:{noHeader:!0}})},64139:function(e,t,o){var r=o(31451);e.exports=function(e,t){for(var o=e.length;o--&&r(t,e[o],0)>-1;);return o}},70368:function(e,t,o){"use strict";o.d(t,{A:function(){return g}});var r=o(30758),a=o(13526),n=o(85206),i=o(69508),l=o(24521),s=o(78473),p=o(67864),c=o(98216);function d(e){return(0,c.Ay)("MuiToolbar",e)}(0,p.A)("MuiToolbar",["root","gutters","regular","dense"]);var u=o(86070);let m=(0,i.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})((0,l.A)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]})));var g=r.forwardRef(function(e,t){let o=(0,s.b)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:l=!1,variant:p="regular",...c}=o,g={...o,component:i,disableGutters:l,variant:p},h=(e=>{let{classes:t,disableGutters:o,variant:r}=e;return(0,n.A)({root:["root",!o&&"gutters",r]},d,t)})(g);return(0,u.jsx)(m,{as:i,className:(0,a.A)(h.root,r),ref:t,ownerState:g,...c})})},70709:function(e,t,o){"use strict";o.d(t,{A:function(){return c}});var r=o(43961),a=o(30758),n=o(99221),i=o(86633),l=o(19857);let s=(0,i.A)(r.Wti)(({theme:e})=>({marginLeft:e.spacing(2),fontSize:e.mixins.pxToRem(16)})),p=(0,i.A)(n.A)(({theme:e})=>({display:"flex",alignItems:"center",marginLeft:"auto"}));function c(){let e=(0,r.cbF)(l.wk,"headerSignInMenu").items;return a.createElement(p,null,e.map((e,t)=>a.createElement(s,{key:t,to:e.to,color:"primary"},e.label)))}},86633:function(e,t,o){"use strict";t.A=(0,o(31489).Ay)()},87604:function(e,t,o){var r=o(31451);e.exports=function(e,t){for(var o=-1,a=e.length;++o<a&&r(t,e[o],0)>-1;);return o}},92376:function(e,t,o){"use strict";o.d(t,{A:function(){return g}});var r=o(43961),a=o(25304),n=o(41349),i=o(85179),l=o(99221),s=o(30758),p=o(2675),c=o(28606),d=o(94215);let u=(0,c.A)(e=>{var t,o,r,a,n,i;return(0,d.A)({blockHeader:{height:e.appBarHeight.normal},rootHeader:{height:null!=(n=e.appBarHeight.normal)?n:58,boxShadow:"none",borderBottom:"solid 1px rgba(0, 0, 0, 0.1)","& .MuiToolbar-root":{minHeight:0,maxHeight:null!=(i=e.appBarHeight.normal)?i:58}},isGuest:{"& .MuiToolbar-gutters":{paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}},leftPane:{flex:1,display:"flex",flexDirection:"row"},rightPane:{display:"flex",flexDirection:"row",flex:1,justifyContent:"flex-end"},centerPane:{display:"flex",justifyContent:"center"},fixedAwareBottom:{position:"relative",height:e.appBarHeight.normal,backgroundColor:"transparent"},left:{display:"flex",alignItems:"center",minHeight:"40px",paddingLeft:e.spacing(2.5)},middle:{},right:{paddingRight:e.spacing(2.5)},logo:{height:"32px",display:"inline-block"},shortcutLink:{margin:e.spacing("auto",1),padding:e.spacing(.5,0),color:e.palette.text.secondary,flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center",height:"60px",borderBottom:"2px solid transparent",borderTop:"2px solid transparent","&:hover $tabLink":{background:e.palette.background.default}},menuButton:{padding:e.spacing(.5,0),flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center","&:hover $tabLink":{background:e.palette.background.default}},smallMenuButton:{width:e.spacing(5),height:e.spacing(5),cursor:"pointer",marginLeft:e.spacing(.5),color:e.palette.text.secondary,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:e.mixins.pxToRem(16),transition:"all 0.1s","& .MuiBadge-badge":{marginTop:0},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:"50%"}},activeMenu:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},menuButtonActive:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},smallMenuIcon:{fontSize:e.mixins.pxToRem(24),color:e.palette.text.secondary,"&.ico-caret-down":{fontSize:e.mixins.pxToRem(16)}},menuActive:{borderBottom:"2px solid",borderBottomColor:e.palette.primary.main,color:e.palette.primary.main},menuButtonIcon:{fontSize:e.mixins.pxToRem(28)},tabLink:{display:"block",width:"100%",height:"100%",textAlign:"center",padding:e.spacing(1),borderRadius:e.shape.borderRadius},rightMenu:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},userAvatarButton:{display:"flex",textDecoration:"none",alignItems:"center","& > .MuiAvatar-root":{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary}},userAvatarSpan:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,display:"inline-block",marginLeft:e.spacing(1),fontWeight:"bold",borderBottom:"solid 1px",borderBottomColor:"transparent"},userAvatar:{width:"32px",height:"32px",fontSize:"12px"},title:{flexGrow:1,display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",background:e.palette.action.selected,borderRadius:"999px",height:e.spacing(4),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{width:"288px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& #global-search":{marginLeft:"20px"}},searchFocused:{border:e.mixins.border("primary"),background:"white"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:e.spacing(1,2,1,0),boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"30px",[e.breakpoints.up("sm")]:{maxWidth:"288px",width:"100%","&:focus":{maxWidth:"288px"}}},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightRegular},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{paddingTop:e.spacing(1),minWidth:"288px",zIndex:e.zIndex.snackbar},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null==(t=e.palette.border)?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.5),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null==(o=e.palette.border)?void 0:o.secondary},clearButton:{textTransform:"capitalize",color:e.palette.primary.main,fontWeight:"normal",minWidth:"inherit"},recentItem:{padding:e.spacing(1,1,1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null==(r=e.palette.border)?void 0:r.secondary},"&:hover":{background:e.palette.action.selected}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},loadingItem:{padding:e.spacing(2)},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center","& + $searchItem":{borderTop:"solid 1px",borderTopColor:null==(a=e.palette.border)?void 0:a.secondary},"&:hover":{background:e.palette.action.selected}},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},openPopup:{height:"32px","& $inputRoot":{maxWidth:"237px",width:"100%",opacity:1}},searchForm:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:0},menuRefIndex:{display:"inline-flex"},popper:{width:290,maxHeight:"500px",boxShadow:e.shadows[20],borderRadius:e.shape.borderRadius,overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:e.spacing(-1)},moreHeaderMenu:{position:"relative",marginRight:e.spacing(1),"& $popper":{minWidth:200,boxShadow:"0px 2px 30px 0 rgba(0, 0, 0, 0.1)"}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"},searchBackdrop:{minHeight:"1000000vh",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,marginTop:"-5px",zIndex:1099,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}})},{name:"AppBar"}),m=(0,o(69508).Ay)(i.A,{name:"OfflineMode"})(({theme:e})=>({width:"fit-content",backgroundColor:e.palette.warning.main,color:"#fff",cursor:"pointer"}));function g(){let{useActionControl:e,getAcl:t,useSession:o,getSetting:i,usePageParams:c,i18n:d}=(0,r.PCX)(),g=c(),h=o(),f=t(),x=i(),{pathname:b,state:y}=(0,p.zy)(),[v]=e(null,{}),k=(0,r.cbF)("core","headerSubMenu"),A=u(),w=(null==y?void 0:y.as)||b,R=t("core.admincp.has_admin_access"),I=i("core.offline");if(!k||!k.items)return null;let B=(0,n.Ue)(k.items,{acl:f,setting:x,session:h,params:g});return s.createElement(l.A,{sx:{display:"flex",alignItems:"center",marginLeft:"auto"},"data-testid":"menuAppBar"},R&&I&&s.createElement("a",{href:r.vl,target:"_blank",rel:"noreferrer"},s.createElement(m,{size:"small",label:d.formatMessage({id:"offline_mode"})})),s.createElement(a.c,{prefixName:"appbar.item.",fallbackName:"popover",items:B,handleAction:v,classes:A,pathname:w}))}}}]);