"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-AlbumDetailMobile-Block"],{1888:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(43961),l=n(98766),o=n(42779),i=n(32758),r=n(1530),m=n(65663),c=n(1684),s=n(25304),p=n(30758),u=n(69508),d=n(99221);let g="AlbumDetailMobile",b=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({maxWidth:720,margin:"auto",backgroundColor:e.palette.background.paper})),h=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({position:"absolute",top:e.spacing(1),right:e.spacing(1),"& > button":{padding:e.spacing(1),width:30,height:30,textAlign:"center"}})),y=(0,u.Ay)(a.N_E,{name:g})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"})),f=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({marginBottom:e.spacing(.5),overflow:"hidden"})),A=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({overflow:"hidden",padding:e.spacing(1.5,0),display:"flex",alignItems:"center",width:"100%"})),E=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),padding:e.spacing(1,0)})),x=(0,u.Ay)(a.N_E,{name:g})(({theme:e})=>({color:e.palette.text.primary,fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold})),v=(0,u.Ay)(d.A,{name:g})(({theme:e})=>({padding:e.spacing(2),position:"relative"})),k=(0,a.$MH)((0,l.F)(function({item:e,user:t,identity:n,handleAction:l,state:u,blockProps:g}){let{jsxBackend:k,ItemActionMenu:_,useGetItem:w,i18n:P,usePageParams:C}=(0,a.PCX)(),S=k.get("photo.block.pinView"),B=(0,a.IgF)(m.Zt,m.hO,"getAlbumItems"),F=w(null==e?void 0:e.owner),{comment_id:$}=C();if(!e)return null;let{apiUrl:M,apiMethod:V}=B||{},z=`photo-album/${e.id}`,{is_featured:I,is_sponsor:R,name:T,text_parsed:W,id:D,extra:N}=e,H=`/photo/album/${D}`,L="/photo/albums",Z=P.formatMessage({id:"all_albums"});return F&&(null==F?void 0:F.resource_name)!=="user"&&(L=`${null==F?void 0:F.link}/photo?stab=albums`,Z=P.formatMessage({id:"all_albums_from_name"},{name:(0,c.b6)(F.resource_name)})),p.createElement(r.eB,{blockProps:g,testid:`detailview ${e.resource_name}`},p.createElement(r.tD,null,p.createElement(b,null,p.createElement(v,null,p.createElement(h,null,p.createElement(_,{identity:n,state:u,handleAction:l},p.createElement(s.s4,{icon:"ico-dottedmore-vertical-o",sx:{fontSize:"13px"}}))),p.createElement(d.A,null,p.createElement(d.A,{sx:{mb:1}},p.createElement(y,{to:L,color:"primary",children:Z})),p.createElement(f,null,I||R?p.createElement(d.A,{sx:{display:"inline-flex",mr:1}},p.createElement(s.rL,{variant:"itemView",value:I}),p.createElement(s.FN,{value:R,variant:"itemView",item:e})):null,p.createElement(x,{to:H,children:T,variant:"h4"})),p.createElement(A,null,p.createElement(s.at,{item:e,sx:{mt:0}})),W?p.createElement(E,null,p.createElement(s.Zn,{truncateProps:{variant:"body1",lines:5}},p.createElement(s.np,null,p.createElement(i.Ay,{html:W})))):null),p.createElement(o.A,{identity:n,handleAction:l,borderBottom:!0,hideListComment:!$})),p.createElement(S,{title:"",numColumns:2,pagingId:z,dataSource:{apiUrl:M,apiMethod:V,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==N?void 0:N.can_upload_media}}))))},l.m,{tags:!0,categories:!0}));var _=(0,a.WvA)({extendBlock:k,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base",pt:0,pb:2},headerStyle:{},footerStyle:{}}}})},98766:function(e,t,n){n.d(t,{m:function(){return l},F:function(){return a.FB$}});var a=n(43961);function l(e){return{}}}}]);