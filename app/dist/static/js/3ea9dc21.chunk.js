"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["colorPicker"],{6423:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(69508),a=r(99221),o=r(32367),l=r(36694),i=r(57955),u=r(39489),c=r(1161),s=r(79765),f=r(98002),d=r.n(f),v=r(68651),h=r.n(v),p=r(4239),m=r.n(p),g=r(30758),b=r(23718),_=r(28120);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}function A(e){var t=(0,g.useRef)(e),r=(0,g.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var w,y=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},C=function(e){return"touches"in e},M=function(e){return e&&e.ownerDocument.defaultView||self},k=function(e,t,r){var n=e.getBoundingClientRect(),a=C(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:y((a.pageX-(n.left+M(e).pageXOffset))/n.width),top:y((a.pageY-(n.top+M(e).pageYOffset))/n.height)}},N=function(e){C(e)||e.preventDefault()},I=g.memo(function(e){var t=e.onMove,r=e.onKey,n=x(e,["onMove","onKey"]),a=(0,g.useRef)(null),o=A(t),l=A(r),i=(0,g.useRef)(null),u=(0,g.useRef)(!1),c=(0,g.useMemo)(function(){var e=function(e){N(e),(C(e)?e.touches.length>0:e.buttons>0)&&a.current?o(k(a.current,e,i.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=u.current,o=M(a.current),l=r?o.addEventListener:o.removeEventListener;l(n?"touchmove":"mousemove",e),l(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=a.current;if(n&&(N(t),(!u.current||C(t))&&n)){if(C(t)){u.current=!0;var l=t.changedTouches||[];l.length&&(i.current=l[0].identifier)}n.focus(),o(k(n,t,i.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),l({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[l,o]),s=c[0],f=c[1],d=c[2];return(0,g.useEffect)(function(){return d},[d]),g.createElement("div",E({},n,{onTouchStart:s,onMouseDown:s,className:"react-colorful__interactive",ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))}),S=function(e){return e.filter(Boolean).join(" ")},O=function(e){var t=e.color,r=e.left,n=e.top,a=S(["react-colorful__pointer",e.className]);return g.createElement("div",{className:a,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},g.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},z=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},P=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?z(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?z(parseInt(e.substring(6,8),16)/255,2):1}},R=function(e){var t=e.s,r=e.v,n=e.a,a=(200-t)*r/100;return{h:z(e.h),s:z(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:z(a/2),a:z(n,2)}},j=function(e){var t=R(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},L=function(e){var t=R(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},$=function(e){var t=e.h,r=e.s,n=e.v,a=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),l=n*(1-r),i=n*(1-(t-o)*r),u=n*(1-(1-t+o)*r),c=o%6;return{r:z(255*[n,i,l,l,u,n][c]),g:z(255*[u,n,n,i,l,l][c]),b:z(255*[l,l,u,n,n,i][c]),a:z(a,2)}},H=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},T=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=a<1?H(z(255*a)):"";return"#"+H(t)+H(r)+H(n)+o},B=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=Math.max(t,r,n),l=o-Math.min(t,r,n),i=l?o===t?(r-n)/l:o===r?2+(n-t)/l:4+(t-r)/l:0;return{h:z(60*(i<0?i+6:i)),s:z(o?l/o*100:0),v:z(o/255*100),a:a}},F=g.memo(function(e){var t=e.hue,r=e.onChange,n=S(["react-colorful__hue",e.className]);return g.createElement("div",{className:n},g.createElement(I,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:y(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":z(t),"aria-valuemax":"360","aria-valuemin":"0"},g.createElement(O,{className:"react-colorful__hue-pointer",left:t/360,color:j({h:t,s:100,v:100,a:1})})))}),D=g.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:j({h:t.h,s:100,v:100,a:1})};return g.createElement("div",{className:"react-colorful__saturation",style:n},g.createElement(I,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:y(t.s+100*e.left,0,100),v:y(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+z(t.s)+"%, Brightness "+z(t.v)+"%"},g.createElement(O,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:j(t)})))}),K=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},q="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,V=new Map,X=function(e){q(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!V.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',V.set(t,n);var a=w||r.nc;a&&n.setAttribute("nonce",a),t.head.appendChild(n)}},[])},W=function(e){var t=e.className,r=e.hsva,n=e.onChange,a={backgroundImage:"linear-gradient(90deg, "+L(Object.assign({},r,{a:0}))+", "+L(Object.assign({},r,{a:1}))+")"},o=S(["react-colorful__alpha",t]),l=z(100*r.a);return g.createElement("div",{className:o},g.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),g.createElement(I,{onMove:function(e){n({a:e.left})},onKey:function(e){n({a:y(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},g.createElement(O,{className:"react-colorful__alpha-pointer",left:r.a,color:L(r)})))},Y=function(e){var t,r,n,a,o,l=e.className,i=e.colorModel,u=e.color,c=void 0===u?i.defaultColor:u,s=e.onChange,f=x(e,["className","colorModel","color","onChange"]),d=(0,g.useRef)(null);X(d);var v=(t=A(s),n=(r=(0,g.useState)(function(){return i.toHsva(c)}))[0],a=r[1],o=(0,g.useRef)({color:c,hsva:n}),(0,g.useEffect)(function(){if(!i.equal(c,o.current.color)){var e=i.toHsva(c);o.current={hsva:e,color:c},a(e)}},[c,i]),(0,g.useEffect)(function(){var e;K(n,o.current.hsva)||i.equal(e=i.fromHsva(n),o.current.color)||(o.current={hsva:n,color:e},t(e))},[n,i,t]),[n,(0,g.useCallback)(function(e){a(function(t){return Object.assign({},t,e)})},[])]),h=v[0],p=v[1],m=S(["react-colorful",l]);return g.createElement("div",E({},f,{ref:d,className:m}),g.createElement(D,{hsva:h,onChange:p}),g.createElement(F,{hue:h.h,onChange:p}),g.createElement(W,{hsva:h,onChange:p,className:"react-colorful__last-control"}))},G={defaultColor:"0001",toHsva:function(e){return B(P(e))},fromHsva:function(e){return T($(e))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||K(P(e),P(t))}},J=function(e){return g.createElement(Y,E({},e,{colorModel:G}))},Q=function({color:e="#000",onChange:t}){try{e=/#/i.test(e)?e:(0,c.Ob)(e)}catch(e){}let r=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,[n,o]=g.useState(e),[l,i]=g.useState(e),u=g.useCallback(e=>{i(e),r.test(e)&&o(e)},[]);return g.useEffect(()=>{try{(0,c.E2)(n),t(n)}catch(e){}},[n]),g.createElement(a.A,{sx:{p:2}},g.createElement(J,{color:n,onChange:o}),g.createElement(a.A,{sx:{pt:1}},g.createElement("input",{defaultValue:l,value:l,name:"hex_alpha",placeholder:"#aa00ccff",onChange:e=>u(e.currentTarget.value),onBlur:e=>{let t=e.currentTarget.value;r.test(t)||u(n||"#ffffff")}})))};let U=(0,n.Ay)(a.A,{name:"MuiButton",slot:"ColorPickerAdornment"})(({color:e})=>({width:28,height:28,border:"1px solid rgba(0,0,0,0.1)",backgroundColor:e,cursor:"pointer"}));var Z=({config:e,disabled:t,required:r,name:n,formik:a})=>{let[f,v,{setValue:p}]=(0,s.Mt)(null!=n?n:"TextField"),[E,x]=g.useState(!1),{label:A,disabled:w,placeholder:y,noFeedback:C,variant:M,margin:k,fullWidth:N,size:I,required:S,description:O,showErrorTooltip:z=!1,sx:P,sxFieldWrapper:R,startAdornment:j,endAdornment:L,warning:$,alwayShowDescription:H=!0,contextualDescription:T,picker:B="chrome",paletteName:F,component:D,...K}=e;if(g.useEffect(()=>{},[]),h()(f.value)||!m()(f.value)){var q;f.value=null!=(q=e.defaultValue)?q:""}let V=!!(v.error&&(v.touched||a.submitCount)),X=e=>{if(F){p(e);let t=(0,c.Ob)((0,c.e$)(f.value,.2)),r=(0,c.Ob)((0,c.a)(f.value,.2));a.setFieldValue(`${F}.dark`,t),a.setFieldValue(`${F}.light`,r)}else p(e)},W=!z&&V&&v.error,Y=null;O&&(Y=g.createElement(b.A,{text:O})),W&&(Y=v.error),O&&H&&W&&(Y=g.createElement(g.Fragment,null,g.createElement(b.A,{text:O}),g.createElement(b.A,{text:v.error,error:!0})));let G=g.useRef();return g.createElement(o.A,{margin:k,variant:M,fullWidth:N,"data-testid":d()(`field ${n}`),sx:R,id:n,ref:G},g.createElement(l.A,{...K,value:f.value,onChange:e=>X(e.currentTarget.value),error:V,disabled:w||t||a.isSubmitting,required:S||r,size:I,onBlur:e=>{m()(f.value)&&p(f.value.trim()),f.onBlur(e)},InputProps:{readOnly:!0,endAdornment:g.createElement(U,{color:f.value,onClick:()=>x(!0)}),startAdornment:j?g.createElement(i.A,{position:"start"},j):null},inputProps:{"data-testid":d()(`input ${n}`)},label:A,placeholder:y,helperText:Y,variant:M,sx:P}),g.createElement(u.Ay,{disablePortal:!1,open:E,anchorEl:G.current,onClose:()=>x(!1)},g.createElement(Q,{color:f.value,onChange:X,picker:B})),g.createElement(_.A,{warning:$}))}},23718:function(e,t,r){r.d(t,{A:function(){return d}});var n=r(43961),a=r(89271),o=r(99221),l=r(66521),i=r.n(l),u=r(4239),c=r.n(u),s=r(30758),f=r(32758);function d({text:e,sx:t,error:r=!1,component:l="span"}){let{i18n:u}=(0,n.PCX)();if(!e)return null;if(c()(e)&&e.startsWith("<html>"))return s.createElement(a.A,{sx:t,error:r},u.formatMessage({id:"[placeholder]",defaultMessage:e}));let d=i()(e)?e[0]:e;return s.createElement(a.A,{sx:t,error:r},s.createElement(o.A,{component:l,sx:{whiteSpace:"normal",wordBreak:"break-word",mb:.5}},s.createElement(f.Ay,{html:d})))}},28120:function(e,t,r){r.d(t,{A:function(){return l}});var n=r(93132),a=r(30758),o=r(32758);function l({warning:e}){return e?a.createElement(n.A,{color:"warning",variant:"standard",sx:{fontSize:"small",my:1,p:.5,alignItems:"center"}},a.createElement(o.Ay,{html:e||""})):null}},57955:function(e,t,r){r.d(t,{A:function(){return E}});var n,a=r(30758),o=r(13526),l=r(85206),i=r(96238),u=r(18851),c=r(18396),s=r(60464),f=r(69508),d=r(24521),v=r(78473),h=r(67864),p=r(98216);function m(e){return(0,p.Ay)("MuiInputAdornment",e)}let g=(0,h.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=r(86070);let _=(0,f.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`position${(0,i.A)(r.position)}`],!0===r.disablePointerEvents&&t.disablePointerEvents,t[r.variant]]}})((0,d.A)(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${g.positionStart}&:not(.${g.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]})));var E=a.forwardRef(function(e,t){let r=(0,v.b)({props:e,name:"MuiInputAdornment"}),{children:f,className:d,component:h="div",disablePointerEvents:p=!1,disableTypography:g=!1,position:E,variant:x,...A}=r,w=(0,s.A)()||{},y=x;x&&w.variant,w&&!y&&(y=w.variant);let C={...r,hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:p,position:E,variant:y},M=(e=>{let{classes:t,disablePointerEvents:r,hiddenLabel:n,position:a,size:o,variant:u}=e,c={root:["root",r&&"disablePointerEvents",a&&`position${(0,i.A)(a)}`,u,n&&"hiddenLabel",o&&`size${(0,i.A)(o)}`]};return(0,l.A)(c,m,t)})(C);return(0,b.jsx)(c.A.Provider,{value:null,children:(0,b.jsx)(_,{as:h,ownerState:C,className:(0,o.A)(M.root,d),ref:t,...A,children:"string"!=typeof f||g?(0,b.jsxs)(a.Fragment,{children:["start"===E?n||(n=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,f]}):(0,b.jsx)(u.A,{color:"textSecondary",children:f})})})})}}]);