"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-ProfileAlbumDetail-Block"],{95358:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=a(43961),n=a(98766),o=a(45126),l=a(32758),r=a(1530),s=a(65663),m=a(25304),p=a(69508),c=a(99221),d=a(18851),u=a(30758),g=a(28606),h=a(94215);let b=(0,g.A)(e=>(0,h.A)({root:{borderRadius:e.shape.borderRadius,maxWidth:"100%",margin:"auto"},albumContent:{padding:e.spacing(2,2,1,2),position:"relative"},category:{fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"},title:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold},albumContainer:{},info:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),padding:e.spacing(1,0),"& p":{margin:e.spacing(1.5,0)}},profileLink:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightBold},owner:{overflow:"hidden",padding:e.spacing(1.5,0),display:"flex",alignItems:"center",width:"100%"},ownerInfo:{overflow:"hidden",flexGrow:1},ownerAvatar:{float:"left",marginRight:e.spacing(2)},date:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5)},listingActions:{display:"inline-flex",marginTop:e.spacing(1),marginBottom:e.spacing(.5),[e.breakpoints.down("xs")]:{display:"flex"}},actionMenu:{border:"1px solid",width:"40px",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.primary.main,justifyContent:"center"},listingHeader:{display:"flex",[e.breakpoints.down("xs")]:{display:"block"}},listingComment:{marginTop:e.spacing(2),[e.breakpoints.down("xs")]:{padding:e.spacing(0,2)}},hasPhotos:{marginBottom:e.spacing(2)},actionsDropdown:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},iconButton:{fontSize:e.mixins.pxToRem(13)},dropdownButton:{padding:e.spacing(1),width:30,height:30,textAlign:"center"}}),{name:"MuiUserPhotoViewDetail"}),f=(0,p.Ay)(c.A,{name:"ProfileAlbumViewDetail"})(({theme:e})=>({backgroundColor:e.palette.background.paper,marginBottom:e.spacing(2),borderRadius:e.shape.borderRadius})),x=(0,i.$MH)((0,n.F)(function({item:e,handleAction:t}){let a=b(),{jsxBackend:n,i18n:p,useFetchDetail:c,ItemDetailInteraction:g,ItemActionMenu:h,useActionControl:x}=(0,i.PCX)(),y=n.get("photo.block.pinView"),{album_id:v,module_name:w}=(0,r.HX)(),{user:E={}}=(0,i.wVH)(),k=`photo.entities.photo_album.${v}`,[A,C]=x(k,{}),[P,_,B]=c({dataSource:{apiUrl:`photo-album/${v}`},normalize:!0}),R=(0,i.IgF)(s.Zt,s.hO,"getAlbumItems");if(!v)return null;let{apiMethod:S}=R||{};if(!e)return null;let T=`photo-album/${v}`,{is_featured:N,is_sponsor:V,name:$,text_parsed:z,extra:F}=Object.assign({},P);return u.createElement(r.eB,{testid:`detailview ${null==P?void 0:P.resource_name}`},u.createElement(r.tD,null,u.createElement(o.A,{loading:_,error:B,sx:{backgroundColor:"background.paper"}},u.createElement("div",{className:a.root},u.createElement(f,null,u.createElement("div",{className:a.albumContent},u.createElement("div",{className:a.actionsDropdown}),u.createElement("div",{className:a.albumContainer},u.createElement(i.N_E,{to:`/${w}/${e.id}/photo?stab=albums`,color:"primary",children:(null==E?void 0:E.id)===e.id?p.formatMessage({id:"my_albums"}):p.formatMessage({id:"user_s_albums"},{value:e.full_name}),className:a.category}),u.createElement(m.Et,{variant:"h3",component:"div",showFull:!0},u.createElement(m.rL,{variant:"itemView",value:N}),u.createElement(m.FN,{variant:"itemView",value:V}),u.createElement(d.A,{component:"h1",variant:"h3",sx:{display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},$)),u.createElement(m.sZ,{sx:{position:"absolute",top:8,right:8}},u.createElement(h,{identity:k,state:C,handleAction:A,icon:"ico-dottedmore-vertical-o"})),z&&u.createElement("div",{className:a.info},u.createElement(m.wP,{truncateProps:{variant:"body1",lines:5}},u.createElement(l.Ay,{html:z})))),u.createElement(g,{identity:k,handleAction:t,hideListComment:!0}))),u.createElement(f,{pt:2},u.createElement(y,{title:"",numColumns:3,pagingId:T,dataSource:{apiUrl:"/photo-album/items/:album_id",apiMethod:S,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==F?void 0:F.can_upload_media}}))))))},n.m,{tags:!0,categories:!0}));var y=(0,i.WvA)({extendBlock:x,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{sx:{pt:0,mt:2}},contentStyle:{},headerStyle:{},footerStyle:{}}}})},98766:function(e,t,a){a.d(t,{m:function(){return n},F:function(){return i.FB$}});var i=a(43961);function n(e){return{}}}}]);