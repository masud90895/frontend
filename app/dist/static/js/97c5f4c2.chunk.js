"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["formExtras"],{7985:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var n=l(98982),a=l(99221),r=l(18851),i=l(98791),o=l(69508),u=l(67194),s=l.n(u),d=l(30758),c=l(13889);let m=(0,o.Ay)(a.A,{name:"Form",slot:"Footer",shouldForwardProp:e=>!/separator|variant/.test(e)})(({theme:e,variant:t,separator:l,fixed:n})=>({...{display:"block",padding:e.spacing(2,0),marginTop:e.spacing(2),flexShrink:0,"& > div":{marginRight:e.spacing(1)},[e.breakpoints.down("sm")]:{paddingTop:e.spacing(1),"& > div":{marginTop:e.spacing(1)}}},..."horizontal"===t&&{display:"flex",flexDirection:"row"},...l?{borderTop:"1px solid",borderTopColor:e.palette.divider,paddingTop:e.spacing(2),paddingBottom:e.spacing(0)}:{marginTop:0,paddingTop:e.spacing(1.5)},...n&&{position:"fixed",bottom:0,background:e.palette.background.paper,display:"flex",left:0,right:0,padding:`${e.spacing(2)} !important`,flexDirection:"row-reverse",boxShadow:e.shadows[1],zIndex:10}}));function p({config:{description:e,isMultiStep:t,label:l,variant:o,style:u,elements:p,separator:f=!0,sx:v,fixed:g},name:h}){let{dialog:E,fixedFooter:b}=(0,n.$J)(),y=d.useRef(null),[x,A]=d.useState(0);return(d.useEffect(()=>{if(y.current){let{clientHeight:e=0}=y.current||{};A(Math.max(72,e))}},[y.current]),Object.keys(p).length)?E?d.createElement(c.default,{config:{elements:p,wrapAs:i.ii,name:h,label:l,sx:v,description:e,isMultiStep:t,wrapperProps:{separator:f}}}):(null!=g?g:b)?d.createElement(a.A,{sx:{height:x}},d.createElement(m,{variant:o,separator:f,style:u,sx:v,fixed:x>0,ref:y},s()(p,(e,t)=>d.createElement(n.Hg,{key:t,config:e})))):d.createElement(m,{variant:o,separator:f,style:u,sx:v},l||e?d.createElement("div",{className:"pt2 pb0"},l?d.createElement(r.A,{component:"div",color:"textPrimary",variant:"subtitle1"},l):null,e?d.createElement(r.A,{component:"p",color:"textPrimary",variant:"body2"},e):null):null,s()(p,(e,t)=>d.createElement(n.Hg,{key:t,config:e}))):null}},9279:function(e,t,l){l.r(t);var n=l(18851),a=l(30758),r=l(98002),i=l.n(r),o=l(43961);t.default=({config:e,name:t,disabled:l,formik:r})=>{let{i18n:u}=(0,o.PCX)(),{feePercentage:s,exchangeRate:d,exchangeRatePattern:c={decimal_separator:".",pattern:"",precision:2,thousand_separator:","},relatedField:m="points",testid:p,label:f,variant:v,tagName:g="span"}=e,h=isNaN(r.values[m])?0:r.values[m];return a.createElement(n.A,{"data-testid":i()(`field ${p}`),variant:v,component:g},a.createElement("div",{dangerouslySetInnerHTML:{__html:(({price:e,pattern:t,label:l})=>{let n=0;return e&&t?(n=t.replace(/{3\}/gi,e),`${l} <b>${n}</b>`):l})({price:u.formatNumber(h*d*(1-s),{maximumFractionDigits:c.precision,minimumFractionDigits:c.precision}),pattern:c.pattern,label:f})}}))}},10564:function(e,t,l){l.r(t),l.d(t,{default:function(){return X}});var n,a,r=l(69508),i=l(32239),o=l(56332),u=l(32367),s=l(99221),d=l(79765),c=l(98002),m=l.n(c),p=l(1384),f=l.n(p),v=l(20644),g=l.n(v),h=l(3029),E=l.n(h),b=l(57717),y=l.n(b),x=l(30758),A=l(43961),C=l(86725),w=l(36694),k=l(78613),S=l(89507),_=l(25304),M=l(58797),T=l(45940),F=l(32501);let R=(0,r.Ay)(s.A,{name:"FreeOptionsSortItem",slot:"FieldSortable",shouldForwardProp:e=>"sortable"!==e})(({theme:e,sortable:t})=>({width:"100%",display:"flex",alignItems:"center",padding:e.spacing(1),"&:not(:first-of-type)":{marginTop:e.spacing(1)},...t&&{"&:hover":{cursor:"move"}}}));var I=function({children:e,index:t,onMoveRow:l,handleDrop:n,sortable:a=!1,disabled:r=!1}){let i=x.useRef(null),[{handlerId:o},u]=(0,T.H)({accept:"row",collect(e){return{handlerId:e.getHandlerId()}},drop(){n()},hover(e,n){var a;if(!i.current)return;let r=e.index;if(r===t)return;let o=null==(a=i.current)?void 0:a.getBoundingClientRect(),u=(o.bottom-o.top)/2,s=n.getClientOffset().y-o.top;(!(r<t)||!(s<u))&&(r>t&&s>u||(l(r,t),e.index=t))}}),[{isDragging:s},d]=(0,F.i)({type:"row",item:()=>({index:t}),collect:e=>({isDragging:e.isDragging()}),canDrag:!r,end:(e,t)=>{t.didDrop()||n()}});return(d(u(i)),a)?x.createElement(R,{sortable:!0,ref:i,"data-handler-id":o,style:{opacity:+!s}},e):x.createElement(R,null,e)},z=((n=z||{}).Create="new",n.Remove="remove",n.Edit="update",n);let P="FreeOptionsField",$=(0,r.Ay)(C.A,{name:P,slot:"IconClose",shouldForwardProp:e=>"enable"!==e})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",width:e.spacing(5),height:e.spacing(5),margin:e.spacing(0,.5),"& .ico":{fontSize:e.mixins.pxToRem(16),color:e.palette.text.hint}})),O=(0,r.Ay)(s.A,{name:P,slot:"MutipleLanguage",shouldForwardProp:e=>"minimal"!==e})(({theme:e,minimal:t})=>({display:"block",padding:e.spacing(2,1,1,1),border:e.mixins.border("secondary"),borderRadius:e.shape.borderRadius,...t?{"& > .item-optional":{display:"none !important"}}:{}})),B=(0,r.Ay)(s.A,{name:P,slot:"RowItem"})(({theme:e})=>({width:"100%"}));var D=e=>{let{option:t,error:l,disabled:n,onChange:a,onRemove:r,canRemove:i,sortable:o,index:u,onMoveRow:d,handleDrop:c,setTouched:m,translatableOptions:p,collapseOptions:f=!0}=e,{i18n:v}=(0,A.PCX)(),[h,E]=x.useState(!!f);if(!t||(null==t?void 0:t.status)==="remove")return null;let{removable:b=!0,value:y}=t;return x.createElement(I,{sortable:o,index:u,onMoveRow:d,handleDrop:c,disabled:n},x.createElement(B,null,x.createElement(s.A,{sx:{display:"flex",width:"100%",alignItems:"center"}},o?x.createElement(s.A,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px"}},x.createElement(_.s4,{icon:"ico-arrows-move",sx:{mr:1}})):null,p?x.createElement(O,{sx:{flex:1,minWidth:0,"& > .item":{"& + .item":{mt:2}}},minimal:h},p.map(e=>x.createElement(s.A,{key:e.value,className:e.required?"item":"item item-optional"},x.createElement(w.A,{size:"small",fullWidth:!0,id:"outlined-basic",value:g()(y,e.value),variant:"outlined",onChange:t=>a({[e.value]:t.target.value}),error:g()(l,`value.${e.value}`),disabled:n,onBlur:()=>{m(!0)},required:e.required,label:e.label}),g()(l,`value.${e.value}`)?x.createElement(M.A,{error:g()(l,`value.${e.value}`)}):null)),f?x.createElement(s.A,{mt:1},x.createElement(k.A,{color:"primary",component:"span",onClick:()=>{E(e=>!e)},style:{cursor:"pointer"},variant:"body2"},v.formatMessage({id:h?(null==f?void 0:f.more_label)||"view_more":(null==f?void 0:f.less_label)||"view_less"}))):null):x.createElement(s.A,{sx:{flex:1,minWidth:0,width:"100%"}},x.createElement(w.A,{size:"small",fullWidth:!0,id:"outlined-basic",value:y,variant:"outlined",onChange:e=>a(e.target.value),error:l,disabled:n,onBlur:()=>{m(!0)}}),g()(l,"value")?x.createElement(M.A,{error:g()(l,"value")}):null),x.createElement(S.A,{title:v.formatMessage({id:"remove"}),placement:"top"},x.createElement($,{onClick:r,disabled:!i||!b},x.createElement(_.s4,{icon:"ico-close"}))))))},W=l(28017),L=l(23718),q=((a=q||{}).Create="new",a.Remove="remove",a.Edit="update",a);let j="FreeOptionsField",H=(0,r.Ay)(i.A,{name:j})(({theme:e})=>({display:"block",marginBottom:e.spacing(1)})),N=(0,r.Ay)(o.A,{name:j,slot:"MoreButton"})(({theme:e})=>({marginTop:e.spacing(.5)}));var X=({config:e,disabled:t,required:l,name:n,formik:a})=>{let{label:r,margin:i,disabled:o,fullWidth:c,required:p,variant:v,size:h,style:b,minLength:C,sxFieldWrapper:w,sortable:k,translatableOptions:S,description:_,collapseOptions:M}=e,[T,F,{setValue:R,setTouched:I}]=(0,d.Mt)(null!=n?n:"DropdownField"),z=t||o||a.isSubmitting,P=(null==T?void 0:T.value)||[],$=!!S,{i18n:O}=(0,A.PCX)();x.useEffect(()=>{(null==T?void 0:T.value)||!(C>0)||R(E()(0,C).map((e,t)=>({uid:f()("freeOption"),value:$?{}:"",status:"new",ordering:t+1})))},[]);let B=(e,t)=>{let l=[...T.value];l.splice(t,0,l.splice(e,1)[0]),R(l=null==l?void 0:l.map((e,t)=>({status:"update",...e,ordering:t+1})))},q=()=>{},j=P.filter(e=>"remove"!==e.status).length>C,X=!!(F.error&&(F.touched||a.submitCount));return x.createElement(u.A,{margin:null!=i?i:"none",disabled:z,fullWidth:c,required:p,style:b,size:h,variant:v,"data-testid":m()(`field ${n}`),sx:w},x.createElement(s.A,null,r?x.createElement(H,{focused:!1,required:p||l},r):null,_?x.createElement(L.A,{text:_,sx:{mb:1}}):null,P.map((e,t)=>x.createElement(D,{index:t,option:e,error:X?g()(F.error,`${t}`):void 0,disabled:z,onChange:e=>{P[t]&&R((0,W.Ay)(P,l=>{var n;l[t]={status:"update",...l[t],value:y()(e)?{...null==(n=l[t])?void 0:n.value,...e}:e}}))},onRemove:()=>{!z&&P[t]&&R((0,W.Ay)(P,e=>{"new"===e[t].status?e.splice(t,1):(e[t].status="remove",e.push(e.splice(t,1)[0])),e.forEach((t,l)=>{let n=l+1;if(e[l].ordering!==n){var a;e[l].ordering=n,e[l].status=null!=(a=e[l].status)?a:"update"}})}))},canRemove:j,sortable:k,key:(null==e?void 0:e.id)||(null==e?void 0:e.uid),onMoveRow:B,handleDrop:q,setTouched:I,translatableOptions:S,collapseOptions:M})),x.createElement(N,{onClick:()=>{R([...P.filter(e=>"remove"!==e.status),{uid:f()("freeOption"),value:"",status:"new"},...P.filter(e=>"remove"===e.status)].map((e,t)=>({...e,ordering:t+1})))},variant:"text",color:"primary",size:"small",disabled:z},O.formatMessage({id:"add_options"}))))}},13889:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var n=l(98982),a=l(99221),r=l(18851),i=l(69508),o=l(63478),u=l(98002),s=l.n(u),d=l(67194),c=l.n(d),m=l(78591),p=l.n(m),f=l(30758),v=l(25304),g=l(79765);let h=(0,i.Ay)(a.A,{name:"MuiFormContainer",slot:"Root",shouldForwardProp:e=>!/isSidePlacement|horizontal/i.test(e)})(({theme:e,isSidePlacement:t,horizontal:l})=>({position:"relative",...t&&{paddingRight:e.spacing(2)}})),E=(0,i.Ay)(a.A,{name:"BoxWrapper"})(({theme:e})=>({"&.multiStep":{marginRight:"auto",order:1}})),b=(0,i.Ay)(a.A,{name:"TitleWrapper",shouldForwardProp:e=>"collapsible"!==e})(({theme:e,collapsible:t})=>({display:"flex",justifyContent:"space-between",cursor:t?"pointer":"auto"})),y=({label:e,description:t,isMultiStep:l,collapsible:n,collapsed:i,setCollapsed:o,required:u,sx:s={}})=>{let d=f.useCallback(()=>{n&&o(e=>!e)},[]);return e||t?f.createElement(E,{sx:{pt:1,...s},className:l?"multiStep":""},f.createElement(b,{collapsible:!0,onClick:d},f.createElement(a.A,{component:"span",sx:{display:"inline-flex"}},e?f.createElement(r.A,{component:"h3",color:"text.primary",variant:"h5"},e):null,u?"*":""),n?f.createElement(a.A,{component:"span",sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"}},f.createElement(v.s4,{icon:i?"ico-angle-right":"ico-angle-down"})):null),t?f.createElement(r.A,{component:"p",color:"text.secondary",variant:"body2"},t):null):null},x=(0,i.Ay)(a.A,{name:"MuiFormContainer",slot:"Body",shouldForwardProp:e=>!/horizontal/.test(e)})(({theme:e,horizontal:t})=>({position:"relative",...t?{display:"flex",alignItems:"center",flexWrap:"wrap",columnGap:e.spacing(1)}:{display:"flex",flexDirection:"column"}}));function A({formik:e,config:t}){let{required:l,testid:a,description:r,isMultiStep:i,className:u,wrapAs:d,variant:m="vertical",label:v,elements:E,wrapperProps:b,sx:A,separator:C,sxContainer:w,collapsible:k=!1,collapsed:S,sxHeader:_={}}=t,[M,T]=f.useState(S),F=k&&M,{errors:R,submitCount:I}=(0,g.j7)();if(f.useEffect(()=>{I&&k&&((e,t)=>{let l=Object.keys(e),n=Object.keys(t);return p()(l,n).length>0})(R,E)&&T(!1)},[I]),d){let t=(null==b?void 0:b.separator)?"":"noSeparator";return f.createElement(d,{className:t,sx:A},f.createElement(y,{isMultiStep:i,label:v,description:r,required:l}),c()(E,(t,l)=>f.createElement(n.Hg,{formik:e,key:l.toString(),config:t})))}return f.createElement(h,{...b,"data-testid":s()(a),className:(0,o.A)(u,C),sx:A},f.createElement(y,{isMultiStep:i,label:v,description:r,collapsible:k,collapsed:M,setCollapsed:T,required:l,sx:_}),F?null:f.createElement(x,{horizontal:"horizontal"===m,className:(0,o.A)(u,C),sx:w},c()(E,(t,l)=>f.createElement(n.Hg,{formik:e,key:l.toString(),config:t}))))}},16353:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var n=l(43961),a=l(25304),r=l(41349),i=l(56332),o=l(99221),u=l(82142),s=l(32367),d=l(69508),c=l(79765),m=l(28017),p=l(98002),f=l.n(p),v=l(20644),g=l.n(v),h=l(1384),E=l.n(h),b=l(4239),y=l.n(b),x=l(30758),A=l(58797);let C={width:2,position:"absolute",right:0,opacity:0,display:"none"},w=(0,d.Ay)(a.s4,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)})),k=(0,d.Ay)(i.A,{name:"AttachmentButton"})(({theme:e})=>({fontWeight:"bold"})),S=(0,d.Ay)("div",{name:"AttachmentAction",shouldForwardProp:e=>"disabled"!==e})(({theme:e,disabled:t})=>({color:t?e.palette.text.disabled:e.palette.primary.main,marginLeft:e.spacing(1.5),cursor:"pointer",alignSelf:"center","&:hover":{textDecoration:"underline"}})),_=(0,d.Ay)(o.A,{name:"AttachmentItem",slot:"FormItem"})(({theme:e})=>({display:"flex",marginTop:e.spacing(1),fontSize:e.mixins.pxToRem(13),lineHeight:1.5,"& .info":{display:"flex",alignItems:"center"}})),M=(0,d.Ay)("div")(({theme:e})=>({overflowWrap:"anywhere"}));function T({item:e,index:t,handleDelete:l,error:i,isSubmitting:s,name:d,progress:c}){let{i18n:m}=(0,n.PCX)();return"remove"===e.status?null:x.createElement("div",null,x.createElement(_,null,x.createElement("div",{className:"info","data-testid":f()(`attachmentFile ${t}`)},x.createElement(w,{icon:"ico-paperclip-alt"}),(null==e?void 0:e.status)==="new"&&x.createElement(a.p2,{text:m.formatMessage({id:"new"}),sx:{mr:.5}}),x.createElement(M,null,(0,r.Tu)(e.file_name,30))),s?x.createElement(o.A,{sx:{marginLeft:"auto",minWidth:"100px",pl:1,mt:1}},x.createElement(u.A,{variant:"determinate",value:c||0})):x.createElement(S,{onClick:()=>l(t),disabled:s,"data-testid":f()(`button_remove ${d}`)},m.formatMessage({id:"remove"}))),i?x.createElement(A.A,{error:i}):null)}function F({config:e,name:t,disabled:l,formik:i}){let{dialogBackend:o,i18n:u}=(0,n.PCX)(),[d,p,{setValue:v,setTouched:h}]=(0,c.Mt)(null!=t?t:"AttachmentField"),[b,w]=x.useState({}),{upload_url:S,item_type:_,fullWidth:M=!0,margin:F="normal",size:R,max_upload_filesize:I,disabled:z,accept:P,storage_id:$}=e,O=(0,x.useRef)(),B=e.placeholder||"attach_files",D=x.useMemo(()=>d.value||[],[d.value]),W=Array.isArray(D)&&D.length>0,L=(0,x.useCallback)(e=>{o.confirm({message:u.formatMessage({id:"are_you_sure_you_want_to_delete_attachment_file"}),title:u.formatMessage({id:"are_you_sure"})}).then(t=>{t&&v((0,m.Ay)(D,t=>{t[e].id?t[e].status="remove":t.splice(e,1)}))})},[D]),q=(0,x.useCallback)(()=>{(null==p?void 0:p.touched)||h(!0);let e=O.current.files;if(!(null==e?void 0:e.length))return;let t=[];for(let l of Object.keys(e)){let n={status:"new",upload_url:S,download_url:URL.createObjectURL(e[l]),source:URL.createObjectURL(e[l]),file:e[l],file_name:e[l].name,file_size:e[l].size,file_type:e[l].type,uid:E()("file"),fileItemType:_,extension:(0,r.QC)(e[l].name),storage_id:null!=$?$:null},a=n.file.size,i=n.file_name;if(a>I&&0!==I){o.alert({message:u.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.Tu)(i,30),fileSize:(0,r.lT)(n.file.size),maxSize:(0,r.lT)(I)})});break}t.push(n)}(null==t?void 0:t.length)>0&&v([...D,...t].map((e,t)=>({...e,onUploadProgress:e=>((e,t)=>{let l=Math.round(100*e.loaded/e.total);w(e=>({...e,[t]:l}))})(e,t)})))},[D]),j=(0,x.useCallback)(()=>{O.current.click()},[]);return x.createElement(s.A,{fullWidth:M,margin:F,size:R,"data-testid":f()(`field ${t}`)},x.createElement("div",null,x.createElement(k,{variant:"outlined",size:"small",color:"primary","data-testid":f()(`button_add ${t}`),onClick:j,disabled:z||l||i.isSubmitting,startIcon:x.createElement(a.s4,{icon:"ico-paperclip-alt"})},u.formatMessage({id:B}))),W&&D.map((e,l)=>x.createElement(T,{key:l.toString(),handleDelete:L,index:l,item:e,name:t,error:y()(p.error)?"":g()(p.error,l),isSubmitting:i.isSubmitting,progress:b[l]})),y()(p.error)?x.createElement(A.A,{error:p.error}):null,x.createElement("input",{onClick:e=>{e.currentTarget.value=null},"data-testid":f()(`input ${t}`),ref:O,style:C,accept:P,"aria-hidden":!0,type:"file",multiple:!0,onChange:q,hidden:!0}))}},18162:function(e,t,l){l.d(t,{A:function(){return r}});var n=l(43961),a=l(30758);function r({text:e}){let{i18n:t}=(0,n.PCX)();return e?e.startsWith("<html>")?a.createElement(a.Fragment,null,t.formatMessage({id:"[placeholder]",defaultMessage:e})):a.createElement(a.Fragment,null,e):null}},19341:function(e,t,l){l.r(t);var n=l(19183),a=l(89507),r=l(69508),i=l(79765),o=l(30758);let u=(0,r.Ay)("div")(({theme:e})=>({display:"flex",alignItems:"center"}));t.default=({children:e,name:t,showErrorTooltip:l})=>{let[r,s]=(0,o.useState)(!1),[,d]=(0,i.Mt)(t);return l?o.createElement(a.A,{disableHoverListener:!0,open:r&&!!(null==d?void 0:d.error),onClose:()=>s(!1),onOpen:()=>s(!0),componentsProps:{tooltip:{sx:{backgroundColor:e=>e.palette.background.paper,borderStyle:"solid",color:e=>e.palette.error.main,"& .MuiTooltip-arrow":{color:e=>e.palette.error.main}}}},title:o.createElement(u,null,o.createElement(n.A,{sx:{marginRight:.5},fontSize:"inherit"})," ",null==d?void 0:d.error)},e):e}},19955:function(e,t,l){l.d(t,{CZ:function(){return c},Cq:function(){return d},T3:function(){return s}}),l(90372);var n=l(66521),a=l.n(n);l(4633),l(81330),l(21814);var r=l(24229),i=l.n(r),o=l(1855),u=l.n(o);function s(e,t="-"){if(!e)return"";let l={"&":"and"};return encodeURIComponent(e=(e=(e=(e=(e=e.replace(/[&]/g,e=>l[e])).toLowerCase().replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a").replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e").replace(/ì|í|ị|ỉ|ĩ/g,"i").replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o").replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u").replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y").replace(/đ/g,"d").replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"").replace(/\u02C6|\u0306|\u031B/g,"")).normalize("NFKD").replace(/\p{Diacritic}/gu,"")).replace(/[^a-zA-Z0-9 ]/g,"")).trim().replaceAll(/\s+/g,t))}function d(e,t=[],l="-"){if(!e)return"";let n="[]";t&&a()(t)&&(n=`[${t.join("")}]`);let r=RegExp(n,"g");return(e=e.trim().replaceAll(/\s+/g,l)).replaceAll(r,l)}function c({number:e,thousand_separator:t=",",decimal_separator:l=".",precision:n}){(i()(e)||!u()(e))&&(e=0);let a=(e=n?e.toFixed(n):e).toString().split("."),r=a[0],o=a[1];return r.replace(/\B(?=(\d{3})+(?!\d))/g,t)+(o?`${l}${o}`:"")}l(4239),l(89346),l(43044)},23718:function(e,t,l){l.d(t,{A:function(){return m}});var n=l(43961),a=l(89271),r=l(99221),i=l(66521),o=l.n(i),u=l(4239),s=l.n(u),d=l(30758),c=l(32758);function m({text:e,sx:t,error:l=!1,component:i="span"}){let{i18n:u}=(0,n.PCX)();if(!e)return null;if(s()(e)&&e.startsWith("<html>"))return d.createElement(a.A,{sx:t,error:l},u.formatMessage({id:"[placeholder]",defaultMessage:e}));let m=o()(e)?e[0]:e;return d.createElement(a.A,{sx:t,error:l},d.createElement(r.A,{component:i,sx:{whiteSpace:"normal",wordBreak:"break-word",mb:.5}},d.createElement(c.Ay,{html:m})))}},24933:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var n=l(98791),a=l(98982),r=l(43961),i=l(25304),o=l(99221),u=l(86725),s=l(18851),d=l(69508),c=l(30758);let m=(0,d.Ay)(o.A,{name:"Form",slot:"Header"})({display:"block",flexShrink:1}),p=({icon:e="ico-arrow-left",...t})=>{let{navigate:l}=(0,r.PCX)();return c.createElement(u.A,{size:"small",role:"button",id:"back","data-testid":"buttonBack",sx:{transform:"translate(-7px,0)"},onClick:()=>{l(-1)},...t},c.createElement(i.s4,{icon:e}))};function f({config:e}){let{sx:t}=e,{title:l,backProps:r,noHeader:i,noTitle:o,description:u,dialog:d,onCancel:f}=(0,a.$J)();return d?c.createElement(n.L3,{onCancel:f},l):i?null:c.createElement(m,{sx:t},l&&!o?c.createElement(s.A,{component:"h1",variant:"h3",sx:{display:"flex"}},!d&&r?c.createElement(p,r):null,l):null,u?c.createElement(s.A,{component:"p",variant:"body2",sx:{whiteSpace:"pre-line"}},u):null)}},28120:function(e,t,l){l.d(t,{A:function(){return i}});var n=l(93132),a=l(30758),r=l(32758);function i({warning:e}){return e?a.createElement(n.A,{color:"warning",variant:"standard",sx:{fontSize:"small",my:1,p:.5,alignItems:"center"}},a.createElement(r.Ay,{html:e||""})):null}},35396:function(e,t,l){l.r(t);var n=l(43961),a=l(25304),r=l(99221),i=l(32367),o=l(9447),u=l(85481),s=l(36694),d=l(89271),c=l(79765),m=l(98002),p=l.n(m),f=l(4633),v=l.n(f),g=l(57717),h=l.n(g),E=l(30758);let b=(e,t)=>E.createElement("li",{"data-value":null==t?void 0:t.value,...e},E.createElement(r.A,{sx:{overflow:"hidden"}},E.createElement(a.mE,{lines:1},t.label),t.caption?E.createElement(r.A,null,E.createElement(a.mE,{lines:1,color:"text.secondary",variant:"body2",fontSize:12,component:"span"},t.caption)):null));t.default=({config:e,name:t,disabled:l,required:a,formik:m})=>{let{variant:f="outlined",label:g,size:y="medium",fieldValue:x="value",margin:A="normal",sxFieldWrapper:C,disabled:w,placeholder:k,required:S,fullWidth:_=!0,search_endpoint:M,search_params:T,option_default:F=[]}=e,{values:R}=(0,c.j7)(),{compactData:I,i18n:z}=(0,n.PCX)(),[P,$,{setValue:O,setTouched:B}]=(0,c.Mt)(t||"autoComplete"),[D,W]=E.useState(null),L=!!($.error&&($.touched||m.submitCount)),q=E.useMemo(()=>I(T,R),[T,R]),[j,H]=(0,n.Pth)({apiUrl:M,initialParams:q,option_default:F});E.useEffect(()=>{P.value&&"object"==typeof P.value&&!Array.isArray(P.value)&&O(P.value?P.value[x]:null)},[]),E.useEffect(()=>{if(!P.value)return void W(null);h()(P.value)?W(P.value):W(j.items.filter(e=>e.value==P.value)[0])},[P.value,null==j?void 0:j.items]);let N=()=>{v()(F)&&H("")};return E.createElement(i.A,{variant:f,margin:A,fullWidth:_,required:S||a,size:y,"data-testid":p()(`field ${t}`),error:L,sx:C},E.createElement(o.A,{autoHighlight:!0,openOnFocus:!0,onBlur:e=>{P.onBlur(e),B(!0)},onChange:(e,t)=>{O((null==t?void 0:t[x])||null),W(t)},noOptionsText:z.formatMessage({id:"no_options"}),disabled:w||l||m.isSubmitting,value:D,placeholder:k,getOptionLabel:e=>null==e?void 0:e.label,options:j.items,loading:j.loading,renderOption:b,loadingText:E.createElement(r.A,{sx:{display:"flex",justifyContent:"center"}},E.createElement(u.A,null)),renderInput:e=>E.createElement(s.A,{onFocus:N,onChange:e=>{var t;H((null==(t=e.target)?void 0:t.value)||"")},...e,label:g,"data-testid":p()(`field ${t}`),error:L,size:y,required:S||a,InputProps:{...e.InputProps}})}),L&&E.createElement(d.A,null,null==$?void 0:$.error))}},39817:function(e,t,l){l.r(t);var n=l(69508),a=l(79765),r=l(98002),i=l.n(r),o=l(67194),u=l.n(o),s=l(30758),d=l(98982);let c=(0,n.Ay)(a.lV,{name:"Form",slot:"Root",shouldForwardProp:e=>!/horizontal|align/i.test(e)})(({theme:e,horizontal:t})=>({display:"flex",...t?{flexDirection:"row",flexWrap:"wrap","& > div":{minHeight:e.spacing(5),paddingRight:e.spacing(1)}}:{flexDirection:"column",flex:1,width:"100%"}}));t.default=({config:e})=>{let{elements:t,variant:l="vertical",role:n="form",title:a,sx:r,testid:o}=e;return s.createElement(c,{horizontal:"horizontal"===l,"data-testid":i()(null!=o?o:"form"),role:n,sx:r,"aria-label":a,id:null!=o?o:"form"},u()(t,(e,t)=>s.createElement(d.Hg,{key:t.toString(),config:e})))}},46264:function(e,t,l){l.r(t),l.d(t,{default:function(){return k}});var n=l(69508),a=l(99221),r=l(18851),i=l(58875),o=l(79765),u=l(98002),s=l.n(u),d=l(30758),c=l(43961),m=l(25304),p=l(86725),f=l(63478),v=l(4633),g=l.n(v);let h=(0,n.Ay)("div",{name:"SimpleCategoryField",slot:"itemLink",overridesResolver(e,t){return[t.itemLink]}})(({theme:e})=>({cursor:"pointer",fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"}));function E({item:e,handleSelect:t,active:l,classes:n}){var a;let[r,i]=d.useState(!1),{usePageParams:o}=(0,c.PCX)(),{category_id:u,forum_id:s}=o(),v=null!=u?u:s,[b,y]=d.useState(!1);d.useEffect(()=>{var t;if((null==e||null==(t=e.subs)?void 0:t.length)>0&&e.subs.filter(e=>e.id.toString()===v).length>0){i(!0),y(!0);return}y(!1)},[v]);let x=d.useCallback(()=>{i(e=>!e)},[]);return d.createElement("div",{className:n.item},d.createElement("div",{className:(0,f.A)(!g()(e.subs)&&n.hasSubs,(l||b&&!r)&&n.itemActive)},d.createElement(h,{"data-testid":"itemCategory",onClick:()=>t(e.id,e.resource_name),className:n.link,color:"inherit","aria-selected":l,"aria-label":e.name},d.createElement("span",{className:n.span},e.name)),g()(e.subs)?null:d.createElement(p.A,{size:"small",className:n.icon,onClick:x},d.createElement(m.s4,{icon:r?"ico-angle-up":"ico-angle-down"}))),r&&(null==e||null==(a=e.subs)?void 0:a.length)>0?d.createElement("ul",{className:n.subCategory},null==e?void 0:e.subs.map((e,l)=>d.createElement(E,{item:e,key:l.toString(),classes:n,handleSelect:()=>t(e.id,e.resource_name),active:e.id.toString()===v}))):null)}var b=l(28606),y=l(94215),x=(0,b.A)(e=>(0,y.A)({item:{"& $link":{height:e.spacing(7),padding:e.spacing(0,0,0,2),flex:1,minWidth:0,"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}},hasSubs:{display:"flex",alignItems:"center"},link:{},itemActive:{"& $link":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}},span:{},subCategory:{paddingLeft:e.spacing(0),margin:0,listStyle:"none","& span":{paddingLeft:e.spacing(2)}},icon:{position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}}}));let A="SimpleCategoryField",C=(0,n.Ay)(a.A,{name:A,slot:"boxDivider",overridesResolver(e,t){return[t.boxDivider]}})(({theme:e})=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)})),w=(0,n.Ay)(r.A,{name:A,slot:"titleCategoryField",overridesResolver(e,t){return[t.titleCategoryField]}})(({theme:e})=>({paddingBottom:e.spacing(1)}));function k({config:{label:e,dataSource:t=[],defaultValue:l},name:n}){let a=x(),[r,,{setValue:u}]=(0,o.Mt)(n),c=d.useCallback(e=>{u(e)},[]);return d.createElement("div",{"data-testid":s()(`field ${n}`)},d.createElement(C,null,d.createElement(i.A,null)),d.createElement(w,{component:"h4",variant:"h4",color:"textPrimary"},e),d.createElement("div",null,t.map(e=>d.createElement(E,{classes:a,item:e,handleSelect:c,key:e.id,active:e.id===r.value}))))}},49697:function(e,t,l){l.r(t),t.default=(0,l(71145).Ay)({resolved:{},chunkName(){return"FormEditor"},isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!l.m[t]},importAsync:()=>Promise.all([l.e("vendors-node_modules_pnpm_lexical_code_0_23_1_node_modules_lexical_code_LexicalCode_prod_mjs--6e2171"),l.e("FormEditor")]).then(l.bind(l,8941)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return l(this.resolve(e))},resolve(){return 8941}})},49800:function(e,t,l){l.r(t),l.d(t,{StyledTextField:function(){return b},default:function(){return x}});var n=l(43961),a=l(69508),r=l(36694),i=l(9447),o=l(79765),u=l(98002),s=l.n(u),d=l(82645),c=l.n(d),m=l(66521),p=l.n(m),f=l(30758),v=l(25304),g=l(99221);let h=(0,a.Ay)("div",{name:"ItemWrapper"})(({theme:e})=>({marginLeft:e.spacing(1),flex:1,minWidth:0}));var E=({props:e,value:t})=>{if(!t)return null;let{statistic:l,full_name:n,title:a}=t;return f.createElement(g.A,{component:"div",...e},f.createElement(v.Qm,null,f.createElement(v.H8,{user:t,size:40})),f.createElement(h,null,f.createElement(v.p4,null,f.createElement(v.Et,null,n||a),f.createElement(v.CN,null,f.createElement(v.C8,{values:l,display:"total_mutual"})))))};let b=(0,a.Ay)(r.A,{name:"StyledTextField"})(({theme:e})=>({"& input::placeholder":{color:e.palette.text.secondary},"& .MuiInputLabel-outlined":{transform:"translate(16px, 16px)"},"& .MuiInputLabel-outlined.MuiInputLabel-shrink":{transform:"translate(14px, -6px) scale(0.8667)",backgroundColor:e.palette.background.paper,paddingRight:e.spacing(.5)},"& .MuiOutlinedInput-root":{minHeight:e.spacing(6),borderRadius:e.spacing(.5),paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"& .MuiFormHelperText-root":{color:e.palette.grey[500]},"& .MuiOutlinedInput-input":{padding:e.spacing(0,2),height:13}})),y=(0,a.Ay)("div",{name:"FriendPickerField"})(({theme:e})=>({padding:e.spacing(2,0,1)}));var x=({config:e,name:t,disabled:l,formik:a})=>{let{label:r,placeholder:u,multiple:d,disabled:m,api_endpoint:v="/friend",apiParams:g={limit:10},resetWhenUnmount:h=!1,noOptionsText:x}=e,A=f.useRef(""),[C,w,{setValue:k,setTouched:S}]=(0,o.Mt)(null!=t?t:"FriendPickerField"),{apiClient:_,i18n:M}=(0,n.PCX)(),[T,F]=f.useState([]),[R,I]=f.useState(d?[]:null),[z,P]=f.useState(!1),$=f.useMemo(()=>c()(()=>{P(!0),_.get(v,{params:{...g,q:A.current||void 0}}).then(e=>e.data.data).then(e=>p()(e)&&F(e)).finally(()=>{P(!1)})},200),[_,A]),O=e=>{13===e.keyCode&&e.preventDefault()};return(0,f.useEffect)(()=>{$()},[]),(0,f.useEffect)(()=>{if(C.value)return I(C.value),()=>{h&&k({})}},[]),f.createElement(y,null,f.createElement(i.A,{clearText:M.formatMessage({id:"clear"}),closeText:M.formatMessage({id:"close"}),openText:M.formatMessage({id:"open"}),multiple:d,id:C.name,options:T,loading:z,loadingText:M.formatMessage({id:"loading_dots"}),disabled:m||l||a.isSubmitting,value:R,onChange:(e,t)=>{(null==w?void 0:w.touched)||S(!0),t&&(I(t),k(t))},onInputChange:(e,t)=>{A.current=t,$()},"data-testid":s()(`field ${t}`),disableCloseOnSelect:d,limitTags:3,isOptionEqualToValue:(e,t)=>(null==e?void 0:e.id)===(null==t?void 0:t.id),getOptionLabel:e=>{var t,l;return null!=(l=null!=(t=null==e?void 0:e.full_name)?t:null==e?void 0:e.title)?l:""},filterSelectedOptions:d,noOptionsText:x||M.formatMessage({id:"no_friends_found"}),renderOption:(e,t)=>f.createElement(E,{key:t.id,props:e,value:t}),renderInput:e=>f.createElement(b,{...e,onKeyDown:O,variant:"outlined",label:r,"data-testid":s()(`input ${t}`),placeholder:d&&(null==R?void 0:R.length)?"":u})}))}},51025:function(e,t,l){l.r(t);var n=l(43961),a=l(36694),r=l(32367),i=l(9447),o=l(18851),u=l(69508),s=l(79765),d=l(98002),c=l.n(d),m=l(66521),p=l.n(m),f=l(51703),v=l.n(f),g=l(30758),h=l(58797);let E=(0,u.Ay)(a.A,{name:"Text"})(({theme:e})=>({"& p, input::placeholder":{color:e.palette.text.hint}})),b={size:"small",variant:"outlined",color:"chip"},y=e=>e.filter(e=>e.trim().length>0);t.default=function({config:e,name:t,disabled:l,formik:a}){let{variant:u="outlined",label:d,size:m="medium",margin:f="normal",disabled:x,placeholder:A,description:C,required:w,fullWidth:k=!0,search_endpoint:S,disableSuggestion:_=!1,allowSpaceNewTag:M=!1}=e,{i18n:T}=(0,n.PCX)(),[F,R,{setValue:I,setTouched:z}]=(0,s.Mt)(null!=t?t:"tags"),[P,$]=g.useState(""),O=(null==F?void 0:F.value)||[],B=!!(R.error&&(R.touched||a.submitCount)),D=g.useMemo(()=>F.value&&p()(F.value)?F.value:[],[]),W=(e,t)=>{null==e||e.preventDefault(),(null==e?void 0:e.type)!=="blur"&&(I(y(t)),$(""))},[L,q]=(0,n.Pth)({apiUrl:S}),j=e=>{if(P)switch(null==e?void 0:e.keyCode){case 9:if(e.preventDefault(),(F.value||[]).includes(P))break;W(e,(F.value||[]).concat([P])),$("");break;case 32:if(M){if(e.preventDefault(),(F.value||[]).includes(P))break;W(e,(F.value||[]).concat([P])),$("")}}};return g.createElement(r.A,{variant:u,margin:f,fullWidth:k,size:m,"data-testid":c()(`field ${t}`)},g.createElement(i.A,{clearText:T.formatMessage({id:"clear"}),closeText:T.formatMessage({id:"close"}),openText:T.formatMessage({id:"open"}),multiple:!0,freeSolo:!0,autoSelect:!0,value:F.value||[],selectOnFocus:!1,filterSelectedOptions:!0,onBlur:e=>{F.onBlur(e),z(!0),P&&!(F.value||[]).includes(P)&&(I(y((F.value||[]).concat([P]))),$(""))},id:`tags-${t}`,options:_?[]:L.items,ChipProps:b,disabled:x||l||a.isSubmitting,onInputChange:(e,t)=>{let l=t.split(",");if(l.length>1)return void W(e,O.concat(v()(l.map(e=>e.trim())).filter(e=>e&&!O.includes(e))));$(t||""),_||q(t,{})},inputValue:P||"",defaultValue:D,onChange:(e,t)=>W(e,t),renderInput:e=>{var l;return g.createElement(E,{...e,required:w,label:d,placeholder:(null==F||null==(l=F.value)?void 0:l.length)?"":A,inputProps:{...e.inputProps,"data-testid":c()(`input ${t}`)},error:B,onKeyDown:j})}}),B?g.createElement(h.A,{error:R.error}):null,C?g.createElement(o.A,{sx:{fontSize:"13px"},color:"text.hint",mt:1},C):null)}},52415:function(e,t,l){l.r(t);var n=l(43961),a=l(99221),r=l(85481),i=l(32367),o=l(9447),u=l(36694),s=l(89271),d=l(79765),c=l(98002),m=l.n(c),p=l(20644),f=l.n(p),v=l(39419),g=l.n(v),h=l(57717),E=l.n(h),b=l(82645),y=l.n(b),x=l(37562),A=l.n(x),C=l(68651),w=l.n(C),k=l(57468),S=l.n(k),_=l(30758);let M=(e,t)=>f()(e,"value")==f()(t,"value"),T=(e,t)=>_.createElement(a.A,{"data-value":null==t?void 0:t.value,component:"li",...e,key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`},t.label);t.default=({config:e,name:t,disabled:l,formik:c})=>{var p,f;let{variant:v="outlined",label:h,size:b="medium",margin:x="normal",disabled:C,placeholder:k,required:F,fullWidth:R=!0,search_endpoint:I,search_params:z}=e,{values:P}=(0,d.j7)(),{compactData:$}=(0,n.PCX)(),[O,B]=_.useState(""),D=_.useRef(!1),W=D.current,[L,q]=_.useState(1),[j,H,{setValue:N}]=(0,d.Mt)(t||"autoComplete"),X=!!(H.error&&(H.touched||c.submitCount)),V=_.useMemo(()=>{let e=E()(P)?P:{};return A()($(z,g()(e,["q",D.current?t:void 0])),w())},[z,P,O]),U=(0,n.ZCR)(V),[K,Z]=(0,n.Pth)({apiUrl:I,initialParams:V}),G=_.useMemo(()=>y()(()=>{Z(O,V)},200),[O,V]);return(_.useEffect(()=>{W&&G()},[O]),_.useEffect(()=>{!W||S()(V,U)||G()},[V]),_.useEffect(()=>{j.value||B("")},[j.value]),_.useEffect(()=>{var e;if(W)return;let t=!j.value||(null==K?void 0:K.loading)?"":K.items.find(e=>e.value==j.value);if(t){D.current=!0,B(null==t?void 0:t.label);return}(null==K?void 0:K.loading)&&!((null==K||null==(e=K.items)?void 0:e.length)>0)||(q(Math.random()),D.current=!0)},[null==K?void 0:K.items,W]),W)?O||(null==(p=K.items)?void 0:p.length)||K.loading?_.createElement(i.A,{variant:v,margin:x,fullWidth:R,required:F,size:b,"data-testid":m()(`field ${t}`),error:X},_.createElement(o.A,{freeSolo:!0,key:L,autoHighlight:!0,openOnFocus:!0,onBlur:e=>{j.onBlur(e),O||N(null)},onFocus:()=>{G()},onChange:(e,t)=>{N(null==t?void 0:t.value)},renderOption:T,disabled:C||l||c.isSubmitting,placeholder:k,isOptionEqualToValue:M,options:null==(f=K.items)?void 0:f.slice(0,20),loading:K.loading,loadingText:_.createElement(a.A,{sx:{display:"flex",justifyContent:"center"}},_.createElement(r.A,null)),onInputChange:(e,t)=>{B(t)},inputValue:O||"",renderInput:e=>_.createElement(u.A,{...e,label:h,"data-testid":m()(`field ${t}`),error:X})}),X&&_.createElement(s.A,null,null==H?void 0:H.error)):null:_.createElement(a.A,{sx:{textAlign:"center"}},_.createElement(r.A,{color:"inherit",size:20}))}},58797:function(e,t,l){l.d(t,{A:function(){return o}});var n=l(30758),a=l(57717),r=l.n(a);let i=e=>e?r()(e)?i(Object.values(e)[0]):e.toString():null;function o({error:e,className:t="invalid-feedback order-last"}){return e?n.createElement("div",{"data-testid":"error",className:t},i(e)):null}},62415:function(e,t,l){l.r(t);var n=l(43961),a=l(32367),r=l(9447),i=l(36694),o=l(99221),u=l(79765),s=l(98002),d=l.n(s),c=l(30758);t.default=({name:e,config:t,disabled:l,required:s,formik:m})=>{let{margin:p="normal",fieldLabel:f="label",fieldValue:v="value",options:g,disabled:h,suboptions:E,countryFieldName:b,stateFieldName:y,cityFieldName:x="country_city_code",required:A,label:C,size:w,sx:k,sxFieldWrapper:S,fullWidth:_,inline:M}=t,{i18n:T}=(0,n.PCX)(),[F,R,{setValue:I,setTouched:z}]=(0,u.Mt)(b),[P,,{setValue:$}]=(0,u.Mt)(y),O=c.useMemo(()=>F.value?g.find(e=>(null==e?void 0:e.value)===F.value):null,[F.value,g]),B=c.useMemo(()=>{var e;return F.value&&(null==(e=E[F.value])?void 0:e.find(e=>(null==e?void 0:e.value)==P.value))||null},[P.value,E,F]),D=E[F.value],W=e=>{R.touched||z(!0),I((null==e?void 0:e[v])||null),$(null),x&&m.setFieldValue(x,null)},L=e=>{$((null==e?void 0:e[v])||null),x&&m.setFieldValue(x,null)},q=e=>e[f],j=()=>{z(!0)},H=!!(R.error&&(R.touched||m.submitCount));return M?c.createElement(c.Fragment,null,c.createElement(a.A,{margin:p,fullWidth:_,"data-testid":d()(`field ${e}`),sx:S},c.createElement(r.A,{sx:k,openOnFocus:!0,autoHighlight:!0,value:O,disabled:h||l||m.isSubmitting,onChange:(e,t)=>W(t),onBlur:F.onBlur,id:d()(`select-${e}`),multiple:!1,options:g,noOptionsText:T.formatMessage({id:"no_options"}),getOptionLabel:q,renderInput:t=>c.createElement(i.A,{"data-testid":d()(`field ${e}`),label:C,required:A||s,error:H,helperText:H?R.error:null,onBlur:j,...t,size:w})})),(null==D?void 0:D.length)>0&&c.createElement(a.A,{margin:p,fullWidth:_,"data-testid":d()(`field ${y}`),sx:S},c.createElement(o.A,null,c.createElement(r.A,{sx:k,openOnFocus:!0,autoHighlight:!0,disabled:h||l||m.isSubmitting,value:B,onChange:(e,t)=>L(t),onBlur:P.onBlur,id:`select-${e}`,multiple:!1,getOptionLabel:q,options:D,noOptionsText:T.formatMessage({id:"no_options"}),renderInput:e=>c.createElement(i.A,{label:T.formatMessage({id:"state"}),...e,size:w})})))):c.createElement(a.A,{margin:p,fullWidth:_,"data-testid":d()(`field ${e}`),sx:S},c.createElement(r.A,{sx:k,openOnFocus:!0,autoHighlight:!0,value:O,disabled:h||l||m.isSubmitting,onChange:(e,t)=>W(t),onBlur:F.onBlur,id:d()(`select-${e}`),multiple:!1,options:g,noOptionsText:T.formatMessage({id:"no_options"}),getOptionLabel:q,renderInput:t=>c.createElement(i.A,{"data-testid":d()(`field ${e}`),label:C,required:A||s,error:H,helperText:H?R.error:null,onBlur:j,...t,size:w})}),(null==D?void 0:D.length)>0&&c.createElement(o.A,{mt:2},c.createElement(r.A,{sx:k,openOnFocus:!0,autoHighlight:!0,disabled:h||l||m.isSubmitting,value:B,onChange:(e,t)=>L(t),onBlur:P.onBlur,id:`select-${e}`,multiple:!1,getOptionLabel:q,options:D,noOptionsText:T.formatMessage({id:"no_options"}),renderInput:e=>c.createElement(i.A,{label:T.formatMessage({id:"state"}),...e,size:w})})))}},65239:function(e,t,l){l.r(t),l.d(t,{default:function(){return y}});var n=l(79765),a=l(98002),r=l.n(a),i=l(4239),o=l.n(i),u=l(30758),s=l(43961),d=l(25304),c=l(69508),m=l(86725),p=l(89507);let f=(0,c.Ay)(m.A,{name:"TextareaControl",slot:"IconButtonStyled"})(({theme:e})=>({padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center",width:e.spacing(3.5),height:e.spacing(3.5),minWidth:e.spacing(3.5),color:`${e.palette.text.secondary} !important`})),v=(0,c.Ay)(d.s4,{name:"TextAreaControlEmoji",slot:"LineIconStyled"})(({theme:e})=>({fontSize:e.mixins.pxToRem(14),[e.breakpoints.down("sm")]:{fontSize:e.mixins.pxToRem(16)}}));var g=u.forwardRef(function({title:e,icon:t,onClick:l,testid:n},a){return u.createElement(p.A,{title:e},u.createElement(f,{onClick:l,size:"smaller",ref:a,"data-testid":n,role:"button"},u.createElement(v,{icon:t})))}),h=l(36694),E=l(99221);let b=(0,c.Ay)(h.A,{name:"Text"})(({theme:e})=>({"& p, textarea::placeholder":{color:e.palette.text.hint}}));var y=({config:e,disabled:t,required:l,name:a,formik:i})=>{let[d,c,{setValue:m}]=(0,n.Mt)(null!=a?a:"TextField"),p=u.useRef(),{label:f,disabled:v,labelProps:h,placeholder:y,variant:x,margin:A="normal",fullWidth:C,type:w="text",rows:k=5,description:S,autoFocus:_,required:M,maxLength:T,enableEmoji:F=!1}=e,{jsxBackend:R}=(0,s.PCX)(),I=R.get("textArea.control.attachEmoji");if(!d.value){var z;d.value=null!=(z=e.defaultValue)?z:""}let P=!!(c.error&&(c.touched||i.submitCount));return(0,u.createElement)(b,{...d,required:M||l,multiline:!0,disabled:v||t||i.isSubmitting,variant:x,label:f,"data-testid":r()(`field ${a}`),autoFocus:_,inputProps:{"data-testid":r()(`input ${a}`),maxLength:T,ref:p},rows:k,InputLabelProps:h,placeholder:y,margin:A,error:!!P&&c.error,fullWidth:C,type:w,helperText:P?c.error:S,onBlur:e=>{o()(d.value)&&m(d.value.trim()),d.onBlur(e)},InputProps:{endAdornment:F&&I?u.createElement(E.A,{sx:{position:"absolute",bottom:0,right:"8px"}},u.createElement(I,{control:g,onChange:e=>{let t;if(!(null==p?void 0:p.current))return;let l=p.current,n=l.selectionEnd;m(t=n||0===n?l.value.substring(0,n)+e+l.value.substring(n,l.value.length):(l.value||"")+e),l.value=t,l.selectionEnd=n+e.length}})):null}})}},65334:function(e,t,l){l.r(t);var n=l(36694),a=l(32367),r=l(18851),i=l(57955),o=l(69508),u=l(79765),s=l(98002),d=l.n(s),c=l(20644),m=l.n(c),p=l(4633),f=l.n(p),v=l(4239),g=l.n(v),h=l(66086),E=l.n(h),b=l(23718),y=l(19341),x=l(28120),A=l(30758),C=l(43961),w=l(19955),k=l(32758);let S=(0,o.Ay)(n.A,{name:"Text"})(({theme:e})=>({"& p, input::placeholder":{color:e.palette.text.hint}}));t.default=({config:e,disabled:t,required:l,name:n,formik:o})=>{var s,c;let[p,v,{setValue:h}]=(0,u.Mt)(null!=n?n:"TextField"),[_]=(0,u.Mt)(null==e?void 0:e.relatedFieldName),{relatedFieldConfigs:M}=e,T=_?m()(M,null==_?void 0:_.value):{},{label:F,disabled:R,autoComplete:I,placeholder:z,variant:P,margin:$,fullWidth:O,type:B="number",rows:D,size:W,required:L,multiline:q,description:j,autoFocus:H,readOnly:N,maxLength:X,hasFormLabel:V=!1,showErrorTooltip:U=!1,sx:K,sxFieldWrapper:Z,preventScrolling:G=!1,startAdornment:J,endAdornment:Q,min:Y,max:ee,warning:et,defaultValue:el,inputLabelProps:en={},className:ea,balanceDescription:er,amountCalculation:ei,...eo}={...e,...T},{percentageFee:eu,currencyFormattedPattern:es,totalPhrase:ed,description:ec}=ei||{},{i18n:em}=(0,C.PCX)(),ep="number"===B,ef=!!(v.error&&(v.touched||o.submitCount));I&&H&&(ef=ef&&void 0!==p.value),A.useEffect(()=>{void 0===p.value&&o.submitCount&&I&&H&&h("")},[o.submitCount]);let ev=!U&&ef&&v.error;return A.createElement(a.A,{margin:$,variant:P,fullWidth:O,"data-testid":d()(`field ${n}`),sx:Z,id:n},er?A.createElement(r.A,{mb:2},A.createElement(k.Ay,{html:er||""})):null,A.createElement(y.default,{name:p.name,showErrorTooltip:U},A.createElement(S,{...eo,value:null!=(s=p.value)?s:"",name:p.name,onChange:p.onChange,onKeyDown:ep?e=>{e.ctrlKey||e.metaKey||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Delete"===e.key||"Backspace"===e.key||"Tab"===e.key||"Enter"===e.key||"."===e.key||/[0-9]/.test(e.key)||e.preventDefault()}:void 0,onWheel:e=>{var t;return G&&(null==(t=e.target)?void 0:t.blur())},error:ef,multiline:!!(D&&q),disabled:R||t||o.isSubmitting,required:L||l,size:W,onBlur:e=>{g()(p.value)&&h(p.value.trim()),p.onBlur(e)},InputProps:{startAdornment:J?A.createElement(i.A,{position:"start"},J):null,endAdornment:Q?A.createElement(i.A,{position:"end"},Q):null},inputProps:{..."number"===B?{min:Y,max:ee}:{},readOnly:N,autoFocus:H,autoComplete:I,maxLength:X,"data-testid":d()(`input ${n}`)},InputLabelProps:{shrink:p.value||ep&&ef||void 0,...Object.assign({},en)},label:V?void 0:F,rows:D,placeholder:null!=z?z:F,type:B,defaultValue:null!=(c=p.value)?c:el,helperText:A.createElement(A.Fragment,null,j?A.createElement(b.A,{text:j}):null,ev?A.createElement(b.A,{text:v.error,error:!0}):null),variant:P,sx:K,className:ea})),ec?A.createElement(r.A,{mt:1},A.createElement(k.Ay,{html:ec||""})):null,ed?A.createElement(r.A,{mt:1},A.createElement("div",{dangerouslySetInnerHTML:{__html:em.formatMessage({id:ed},{value:(({price:e,pattern:t})=>!e||f()(t)?0:t.replace(/{3\}/gi,`<b>${e}</b>`))({price:(0,w.CZ)({number:E()(p.value||0)*(1-eu),thousand_separator:null==es?void 0:es.thousand_separator,precision:null==es?void 0:es.precision,decimal_separator:null==es?void 0:es.decimal_separator}),pattern:null==es?void 0:es.pattern})})}})):null,A.createElement(x.A,{warning:et}))}},70737:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var n=l(98791),a=l(98982),r=l(1530),i=l(18851),o=l(69508),u=l(67194),s=l.n(u),d=l(30758);let c=(0,o.Ay)("div",{name:"Form",slot:"ContentRoot",shouldForwardProp:e=>"isSidePlacement"!==e&&"horizontal"!==e})(({theme:e,isSidePlacement:t})=>({display:"block",flexGrow:2,...t&&{overflow:"auto",paddingRight:0,"& > *:first-of-type":{height:"100% !important"}}}));function m({config:{description:e,label:t,elements:l}}){let{dialog:o,isSidePlacement:u,dialogEmbedItem:m}=(0,a.$J)(),p=o?n.Cf:c,f=u?r.P:d.Fragment;return d.createElement(p,{isSidePlacement:u},t||e?d.createElement("div",{className:"pt2 pb0"},t?d.createElement(i.A,{component:"div",color:"textPrimary",variant:"subtitle1"},t):null,e?d.createElement(i.A,{component:"p",color:"textPrimary",variant:"body2"},e):null):null,o&&m?m:null,d.createElement(f,u?{autoHeight:!0,autoHeightMax:"100%",autoHeightMin:"100%"}:null,s()(l,(e,t)=>d.createElement(a.Hg,{key:t.toString(),config:e}))))}},77664:function(e,t,l){l.r(t),l.d(t,{default:function(){return z}});var n,a=l(69508),r=l(56332),i=l(99221),o=l(36694),u=l(89507),s=l(32367),d=l(79765),c=l(98002),m=l.n(c),p=l(98497),f=l.n(p),v=l(4633),g=l.n(v),h=l(57468),E=l.n(h),b=l(58791),y=l.n(b),x=l(30758),A=l(25304),C=l(43961),w=l(58797),k=l(45940),S=l(32501);let _=(0,a.Ay)(i.A,{name:"FieldStyled",slot:"FieldSortable",shouldForwardProp:e=>"error"!==e})(({theme:e,error:t})=>({width:"100%",display:"flex",alignItems:"center",padding:e.spacing(1),"&:hover":{cursor:"move",backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius},...t&&{flexDirection:"column"}})),M=(0,a.Ay)(i.A)(({theme:e})=>({display:"flex",alignItems:"center",width:32,minWidth:32,padding:e.spacing(1.25,.5),textAlign:"left",justifyContent:"left",overflow:"hidden"}));var T=function({id:e,children:t,index:l,moveRow:n,handleDrop:a,sortable:r=!1,error:o,disable:u=!1}){let s=x.useRef(null),[{handlerId:d},c]=(0,k.H)({accept:"row",collect(e){return{handlerId:e.getHandlerId()}},drop(){a()},hover(e,t){var a;if(!s.current)return;let r=e.index;if(r===l)return;let i=null==(a=s.current)?void 0:a.getBoundingClientRect(),o=(i.bottom-i.top)/2,u=t.getClientOffset().y-i.top;(!(r<l)||!(u<o))&&(r>l&&u>o||(n(r,l),e.index=l))}}),[{isDragging:m},p]=(0,S.i)({type:"row",item:()=>({id:e,index:l}),collect:e=>({isDragging:e.isDragging()}),canDrag:!u,end:(e,t)=>{t.didDrop()||a()}});return(p(c(s)),r)?x.createElement(_,{pt:2,ref:s,"data-handler-id":d,style:{opacity:+!m},error:o},x.createElement(i.A,{sx:{display:"flex",width:"100%"}},x.createElement(M,null,x.createElement(A.s4,{icon:"ico-arrows-move"})),t),!g()(o)&&x.createElement(i.A,{pl:4,width:"100%"},x.createElement(w.A,{error:o}))):x.createElement(i.A,{pt:2},t)},F=((n=F||{}).Create="new",n.Remove="remove",n.Edit="update",n);let R=(0,a.Ay)(r.A)(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center",marginTop:e.spacing(.5),width:"fit-content","&:hover":{textDecoration:"underline"}})),I=(0,a.Ay)("div",{name:"AnswerItem",slot:"IconClose",shouldForwardProp:e=>"enable"!==e})(({theme:e,enable:t})=>({cursor:t?"pointer":"default",pointerEvents:t?"auto":"none",display:"flex",justifyContent:"center",alignItems:"center",width:e.spacing(5),height:e.spacing(5),margin:e.spacing(0,.5),"& .ico":{fontSize:e.mixins.pxToRem(16),color:e.palette.text.hint}}));var z=({config:e,disabled:t,name:l,formik:n})=>{let{margin:a,disabled:r,fullWidth:c,hiddenLabel:p,required:v,variant:h,size:b,style:k,minLength:S,sxFieldWrapper:_,sortable:M=!0}=e,[F,z,{setValue:P,setTouched:$}]=(0,d.Mt)(null!=l?l:"DropdownField"),{i18n:O}=(0,C.PCX)(),B=x.useRef(F.value);x.useEffect(()=>{if(!F.value){var e;P([{label:"",status:"new",ordering:(null==(e=F.value)?void 0:e.length)||1}])}},[F.value]);let D=(e,t)=>{let l=[...F.value];l.splice(t,0,l.splice(e,1)[0]),P(l=null==l?void 0:l.map((e,t)=>({...e,ordering:t+1})))},W=()=>{if(!(g()(F.value)||E()(B.current,F.value)))try{let e=f()(B.current,F.value,E()),t=[...F.value];t=null==t?void 0:t.map(t=>{let l=e.findIndex(e=>(null==t?void 0:t.id)===(null==e?void 0:e.id)),n=B.current.findIndex(e=>(null==t?void 0:t.id)===(null==e?void 0:e.id));if((null==t?void 0:t.id)&&(null==t?void 0:t.status)!=="remove"&&l>-1){var a;return E()(y()(null==(a=B.current)?void 0:a[n],["id","ordering","label"]),y()(t,["id","ordering","label"]))?(delete t.status,t):{...t,status:"update"}}return t}),P(t)}catch(e){}};return x.createElement(s.A,{margin:null!=a?a:"none",disabled:r,fullWidth:c,hiddenLabel:p,required:v,style:k,size:b,variant:h,"data-testid":m()(`field ${l}`),sx:_},x.createElement(i.A,{ml:2},(F.value||[]).map((e,t)=>{var l,a,r;return e&&(null==e?void 0:e.status)!=="remove"?x.createElement(T,{sortable:M,key:null==e?void 0:e.id,index:t,id:null==e?void 0:e.id,error:z.error&&(null==(l=z.error[t])?void 0:l.label),moveRow:D,handleDrop:W,disable:n.isSubmitting},x.createElement(i.A,{sx:{display:"flex",width:"100%"}},x.createElement(o.A,{size:"small",fullWidth:!0,id:"outlined-basic",value:e.label,variant:"outlined",onChange:e=>((e,t)=>{let l=[...F.value];l[t].label=e.target.value,"new"!==F.value[t].status&&(l[t].status="update"),P(l)})(e,t),error:(null==z||null==(a=z.error)?void 0:a.length)&&z.error[t],disabled:n.isSubmitting}),x.createElement(I,{onClick:()=>(e=>{if(n.isSubmitting)return;let t=[...F.value];"new"===F.value[e].status?t.splice(e,1):t[e].status="remove",P(t)})(t),enable:F.value.filter(e=>"remove"!==e.status).length>S},x.createElement(u.A,{title:O.formatMessage({id:"remove"}),placement:"top"},x.createElement(A.s4,{icon:"ico-close"})))),!M&&z.error&&x.createElement(i.A,{ml:1},x.createElement(w.A,{error:null==(r=z.error[t])?void 0:r.label}))):null}),x.createElement(R,{onClick:()=>{var e,t,l;let n=(null==(l=F.value)||null==(e=l[(null==(t=F.value)?void 0:t.length)-1])?void 0:e.ordering)+1||1;P([...F.value,{label:"",status:"new",ordering:n}])},variant:"text",color:"primary",size:"small",disabled:n.isSubmitting},O.formatMessage({id:"add_options"}))))}},88290:function(e,t,l){l.r(t);var n=l(70826),a=l(99221),r=l(18851),i=l(85179),o=l(69508),u=l(79765),s=l(30758);let d=(0,o.Ay)(n.A,{slot:"StackContent"})(({theme:e})=>({flexWrap:"wrap","& .MuiChip-root":{margin:e.spacing(.5)}}));t.default=({config:e,name:t})=>{let[l,,{setValue:n}]=(0,u.Mt)(null!=t?t:"ChipField"),{options:o=[],direction:c="row",spacing:m=1,label:p}=e;if(!l.value){var f;l.value=null!=(f=e.defaultValue)?f:""}return s.createElement(a.A,null,p&&s.createElement(r.A,{sx:{paddingBottom:1},variant:"h5"},p),s.createElement(d,{direction:c,spacing:m},o.map((e,t)=>s.createElement(i.A,{onClick:()=>{n(e)},key:t,label:e.title,variant:"outlined"}))))}},89788:function(e,t,l){l.r(t);var n=l(43961),a=l(99221),r=l(85481),i=l(32367),o=l(9447),u=l(36694),s=l(89271),d=l(79765),c=l(98002),m=l.n(c),p=l(20644),f=l.n(p),v=l(39419),g=l.n(v),h=l(57717),E=l.n(h),b=l(82645),y=l.n(b),x=l(37562),A=l.n(x),C=l(68651),w=l.n(C),k=l(57468),S=l.n(k),_=l(30758);let M=(e,t)=>f()(e,"value")==f()(t,"value"),T=(e,t)=>_.createElement(a.A,{"data-value":null==t?void 0:t.value,component:"li",...e,key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`},t.label);t.default=({config:e,name:t,disabled:l,formik:c})=>{var p,f;let{variant:v="outlined",label:h,size:b="medium",margin:x="normal",disabled:C,placeholder:k,required:F,fullWidth:R=!0,search_endpoint:I,search_params:z,sxFieldWrapper:P}=e,{values:$}=(0,d.j7)(),{compactData:O}=(0,n.PCX)(),[B,D]=_.useState(""),W=_.useRef(!1),L=W.current,[q,j]=_.useState(1),[H,N,{setValue:X}]=(0,d.Mt)(t||"autoComplete"),V=!!(N.error&&(N.touched||c.submitCount)),U=_.useMemo(()=>{let e=E()($)?$:{};return A()(O(z,g()(e,["q",W.current?t:void 0])),w())},[z,$,B]),K=(0,n.ZCR)(U),[Z,G]=(0,n.Pth)({apiUrl:I,initialParams:U}),J=_.useMemo(()=>y()(()=>{G(B,U)},200),[B,U]);return(_.useEffect(()=>{L&&J()},[B]),_.useEffect(()=>{!L||S()(U,K)||J()},[U]),_.useEffect(()=>{H.value||D("")},[H.value]),_.useEffect(()=>{var e;if(L)return;let t=!H.value||(null==Z?void 0:Z.loading)?"":Z.items.find(e=>e.value==H.value);if(t){W.current=!0,D(null==t?void 0:t.label);return}(null==Z?void 0:Z.loading)&&!((null==Z||null==(e=Z.items)?void 0:e.length)>0)||(j(Math.random()),W.current=!0)},[null==Z?void 0:Z.items,L]),L)?B||(null==(p=Z.items)?void 0:p.length)||Z.loading?_.createElement(i.A,{variant:v,margin:x,fullWidth:R,required:F,size:b,"data-testid":m()(`field ${t}`),error:V,sx:P},_.createElement(o.A,{freeSolo:!0,key:q,size:b,autoHighlight:!0,openOnFocus:!0,onBlur:e=>{H.onBlur(e),B||X(null)},onFocus:()=>{J()},onChange:(e,t)=>{X(null==t?void 0:t.value)},renderOption:T,disabled:C||l||c.isSubmitting,placeholder:k,isOptionEqualToValue:M,options:null==(f=Z.items)?void 0:f.slice(0,20),loading:Z.loading,loadingText:_.createElement(a.A,{sx:{display:"flex",justifyContent:"center"}},_.createElement(r.A,null)),onInputChange:(e,t)=>{D(t)},inputValue:B||"",renderInput:e=>_.createElement(u.A,{...e,label:h,"data-testid":m()(`field ${t}`),error:V})}),V&&_.createElement(s.A,null,null==N?void 0:N.error)):null:_.createElement(a.A,{sx:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"}},_.createElement(r.A,{color:"inherit",size:20}))}},97055:function(e,t,l){l.r(t),l.d(t,{default:function(){return x}});var n=l(43961),a=l(25304),r=l(41349),i=l(99221),o=l(86725),u=l(32367),s=l(69508),d=l(79765),c=l(98002),m=l.n(c),p=l(1384),f=l.n(p),v=l(30758),g=l(58797);let h={width:2,position:"absolute",right:0,opacity:0},E=(0,s.Ay)(i.A,{name:"AvatarWrapper"})(({theme:e})=>({borderRadius:"100%",position:"relative",background:"dark"===e.palette.mode?e.palette.grey[600]:e.palette.grey[100]})),b=(0,s.Ay)(o.A,{name:"AvatarButtonIcon"})(({theme:e})=>({width:"100%",height:"100%",fontSize:"40px",position:"absolute",left:0,top:0,zIndex:3})),y=(0,s.Ay)(o.A,{name:"AvatarRemoveButton"})(({theme:e})=>({width:"100%",height:"100%",fontSize:"40px",position:"absolute",left:0,top:0,zIndex:3,opacity:0,"&:hover":{opacity:1}}));function x({config:e,name:t,disabled:l,formik:i}){let{dialogBackend:o,i18n:s}=(0,n.PCX)(),[c,p,{setValue:x}]=(0,d.Mt)(null!=t?t:"avatarUpload"),{item_type:A,max_upload_filesize:C,disabled:w,accept:k,margin:S}=e,[_,M]=(0,v.useState)(c.value),T=(0,v.useRef)();(0,v.useEffect)(()=>{(null==_?void 0:_.file)?R(null==_?void 0:_.file,e=>{x({base64:e})}):(null==_?void 0:_.url)?x({}):x({is_delete:!0})},[_]);let F=(0,v.useCallback)(()=>{M(null)},[]),R=async(e,t)=>{e&&t(await new Promise(t=>{let l=new FileReader;l.addEventListener("load",()=>t(l.result),!1),l.readAsDataURL(e)}))},I=(0,v.useCallback)(()=>{let e,t=T.current.files;if(0===t.length)return;if(e=t.item(0).type,k&&!(k.replace(/\s/g,"").split(",").filter(t=>new RegExp(t.replace("*",".*")).test(e)).length>0)){o.alert({message:s.formatMessage({id:"picture_format_is_not_correct"})}),T.current.value=null;return}let l={file_name:t.item(0).name,download_url:URL.createObjectURL(t.item(0)),file:t.item(0),key:f()("file"),fileItemType:A},n=l.file.size,a=l.file_name;if(n>C&&0!==C)return void o.alert({message:s.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.Tu)(a,30),fileSize:(0,r.lT)(l.file.size),maxSize:(0,r.lT)(C)})});l&&M(l)},[_]),z=(0,v.useCallback)(()=>{T.current.click()},[]),P=!!(p.error&&(p.touched||i.submitCount));return v.createElement(u.A,{margin:S,"data-testid":m()(`field ${t}`)},v.createElement(E,{sx:{width:"160px",height:"160px"}},(null==_?void 0:_.download_url)||(null==_?void 0:_.url)?v.createElement(v.Fragment,null,v.createElement(a._V,{shape:"circle",src:(null==_?void 0:_.download_url)||(null==_?void 0:_.url),aspectRatio:"11"}),v.createElement(y,{onClick:()=>F(),disabled:w||l||i.isSubmitting,sx:{color:"white",background:"rgba(0,0,0,0.3)"}},v.createElement(a.s4,{icon:"ico-trash"}))):v.createElement(b,{"data-testid":m()(`button ${t}`),onClick:z,disabled:w||l||i.isSubmitting},v.createElement(a.s4,{icon:"ico-camera"}))),P&&v.createElement(g.A,{error:p.error}),v.createElement("input",{onClick:e=>{e.currentTarget.value=null},"data-testid":m()(`input ${t}`),ref:T,style:h,accept:k,"aria-hidden":!0,type:"file",multiple:!1,onChange:I,hidden:!0}))}},99359:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var n=l(43961),a=l(69508),r=l(99221),i=l(32367),o=l(56332),u=l(79765),s=l(30758),d=l(98002),c=l.n(d),m=l(4633),p=l.n(m),f=l(20644),v=l.n(f),g=l(25304);l(13889),l(70737),l(7985),l(24933);var h=l(23718);l(39817),l(18162);let E=(0,a.Ay)(r.A,{name:"Item"})(({theme:e})=>({display:"block","& iframe":{maxWidth:"none"}}));function b(e){let{dialogBackend:t,setNavigationConfirm:l,jsxBackend:a}=(0,n.PCX)(),{config:r,name:d,disabled:m,formik:f}=e,{gateway_field_name:b,gateway_id:y,variant:x,fullWidth:A=!0,margin:C="normal",disabled:w,label:k,size:S,confirmation:_,description:M,icon:T,button_props:F={}}=r,[R,,{setValue:I}]=(0,u.Mt)(null!=b?b:"PaymentGatewayField"),z=s.useRef(!1),P=a.get(`payment.element.GatewayButton.${x}`),{errors:$,initialValues:O}=(0,u.j7)(),[B,D]=s.useState(!0);s.useEffect(()=>{if(z.current&&(null==R?void 0:R.value)===y){if(_)return void t.confirm(_).then(e=>{if(!e)return void I(v()(O,d));f.submitForm().finally(()=>{I(void 0),l(!1)})});f.submitForm().finally(()=>{I(void 0),l(!1)})}},[null==R?void 0:R.value,z.current]);let W=()=>{p()($)&&(z.current=!0,I(y))};return B?s.createElement(i.A,{fullWidth:A,margin:C,size:S,"data-testid":c()(`field ${d}`)},s.createElement(E,null,P?s.createElement(P,{...e,setShow:D,handleClickDefault:W}):s.createElement(o.A,{variant:"outlined",fullWidth:A,disabled:w||m||f.isSubmitting,"data-testid":c()(`button ${d}`),onClick:W,startIcon:s.createElement(g.s4,{icon:T}),...F||{}},k)),M?s.createElement(h.A,{text:M}):null):null}}}]);