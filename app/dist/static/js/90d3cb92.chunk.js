"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-ui-SmartDataGrid-FeedHeadlineInfoCell-FeedHeadlineInfoCell"],{7176:function(e,t,n){n.d(t,{A:function(){return r}});let l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){let n,l=[],r=!0,a=!1;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(l.push(i.value),!t||l.length!==t);r=!0);}catch(e){a=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw n}}return l}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){return e?e.split(";").reduce((e,t)=>{let n=l(t.split(/^([^:]+):/).filter((e,t)=>t>0).map(e=>e.trim().toLowerCase()),2),r=n[0],a=n[1];return void 0===a||(e[r=r.replace(/^-ms-/,"ms-").replace(/-(.)/g,(e,t)=>t.toUpperCase())]=a),e},{}):{}}},67931:function(e,t,n){n.r(t),n.d(t,{ProfileLink:function(){return w},default:function(){return A}});var l=n(43961),r=n(69508),a=n(99221),i=n(20644),o=n.n(i),u=n(4633),s=n.n(u),d=n(4239),c=n.n(d),m=n(30758),f=n(32758),_=n(18851),v=n(7176);let h=["video","img","iframe","table"],p=(e,t)=>{let{style:n}=e.attribs||{};if("tag"===e.type&&h.includes(e.name))return null;if("tag"===e.type){var l,r;let a=e.children.filter(e=>!h.includes(e.name)).map((e,t)=>(0,f.$S)(e,t,p)),i=null==(l=e.name)?void 0:l.toLowerCase();if(["h1","h2","h3","h4","h5","h6"].includes(i))return(0,m.createElement)(_.A,{variant:i,...e.attribs,style:(0,v.A)(n)},a);if("a"===e.name&&e.attribs&&e.attribs.href){let l=e.children.filter(e=>!h.includes(e.name)).map((e,t)=>(0,f.$S)(e,t,p));return(0,m.createElement)("div",{...e.attribs,key:`n${t}`,className:null==(r=e.attribs)?void 0:r.class,style:(0,v.A)(n)},l)}}};function g({users:e,className:t,total:n,item_type:r,item_id:i}){let{i18n:o}=(0,l.PCX)();return 1===n?m.createElement("span",null,o.formatMessage({id:"with_tagged_friend"},{user0:()=>m.createElement(w,{user:e[0],className:t}),value:n-1})):2===n?m.createElement("span",null,o.formatMessage({id:"with_tagged_friend_and_user"},{user0:()=>m.createElement(w,{user:e[0],className:t}),user1:()=>m.createElement(w,{user:e[1],className:t})})):m.createElement("span",null,o.formatMessage({id:"with_tagged_friend_and_others"},{user0:()=>m.createElement(w,{user:e[0],className:t}),others:e=>m.createElement(a.A,{component:"span"},e),value:n-1}))}let b=(0,r.Ay)("span",{name:"StyledBox"})(({truncateLines:e})=>({height:"100%",...e&&{wordBreak:"break-word",whiteSpace:"normal",display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:`${e}`}})),y=(0,r.Ay)("span")(({theme:e})=>({color:e.palette.text.secondary,"& > *:not(.withoutDot):last-child::after":{content:"'.'",display:"inline-block"}})),E=(0,r.Ay)("span",{name:"HeadlineSpan"})(({theme:e})=>({color:e.palette.text.secondary}));function w({user:e,className:t}){return e?m.createElement(a.A,{component:"span",className:t},(null==e?void 0:e.full_name)||(null==e?void 0:e.title)):null}function A({row:e,colDef:{field:t,truncateLines:n}}){let{i18n:r,useSession:i}=(0,l.PCX)(),{user:u}=i(),d=o()(e,t,null),_=o()(e,"sx"),v=o()(_,t),h=o()(e,"parent_user",null),A=o()(e,"owner",null),k=o()(e,"user",null);void 0===h&&(null==A?void 0:A.id)!==(null==k?void 0:k.id)&&(h=A);let N=o()(e,"tagged_friends",null),x=o()(e,"embed_object",null),C=o()(e,"embed_object.relation_with",null),S=Number(null==h?void 0:h.id)===Number(null==u?void 0:u.id),L=Number(null==k?void 0:k.id)===Number(null==u?void 0:u.id),M={appName:"feed",friend_add:()=>m.createElement(w,{user:x}),profile:()=>m.createElement(E,null,m.createElement(w,{user:h})),relation_with:()=>m.createElement(w,{user:C}),album_link:()=>m.createElement(a.A,{component:"span"},null==x?void 0:x.name),isOwnerTagged:+(null!=e&&!!e.is_owner_tagged),isAuthUser:0,isAuthParent:+!!S,isCreator:0,isOwner:+!!L,fromResource:(null==e?void 0:e.from_resource)||"feed",parentType:(null==h?void 0:h.module_name)||0,currentGender:null==x?void 0:x.gender,isParentProfile:0,isStreaming:+(null!=x&&!!x.is_streaming),hasRelationWith:(null==x?void 0:x.resource_name)==="user_relation_history"&&(null==x?void 0:x.relation_with)?1:0,isShared:0},P=c()(d)&&d?r.formatMessage({id:d},M):d,I=r.formatMessage({id:"feed_tagged_friends_and_location"},{hasInfo:+!!s()(P),hasTagFriend:(null==N?void 0:N.length)&&!(null==e?void 0:e.is_hide_tagged_headline)?1:0,hasLocation:(null==e?void 0:e.location)&&(null==e?void 0:e.is_show_location)?1:0,tag_friend:()=>m.createElement(E,null,m.createElement(g,{item_type:(null==e?void 0:e.item_type)||(null==e?void 0:e.resource_name),item_id:e.item_id||(null==e?void 0:e.id),total:null==e?void 0:e.total_friends_tagged,users:N})),location:()=>{var t;return m.createElement(E,null,r.formatMessage({id:"at_tagged_place"},{name:null==e||null==(t=e.location)?void 0:t.address,bold:()=>{var t;return m.createElement(a.A,{component:"span"},null==e||null==(t=e.location)?void 0:t.address)}}))}});return(null==x?void 0:x.error)||!(null==N?void 0:N.length)&&!(null==e?void 0:e.location)&&(c()(P)&&s()(null==P?void 0:P.trim())||!P)?null:m.createElement(b,{truncateLines:n,sx:v},m.createElement(E,null,m.createElement(w,{user:k})," "),m.createElement(y,null,P?m.createElement(E,{className:""},c()(P)?m.createElement(f.Ay,{html:P,transform:p}):P):null,(null==N?void 0:N.length)||(null==e?void 0:e.location)?I:null))}}}]);