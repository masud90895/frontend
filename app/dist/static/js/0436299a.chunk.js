"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-activity-point-blocks-Dashboard-Block"],{7048:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(43961),r=a(99922),i=a(69508),l=a(99221),o=a(18851),c=a(89507),s=a(1530),m=a(30758),d=a(25304),u=a(45126);let p=(0,i.Ay)(l.A,{name:"StatisticPointWrapper"})(()=>({display:"flex",flexWrap:"wrap",marginBottom:"-48px",marginTop:"40px"})),g=(0,i.Ay)(l.A,{name:"ActivityPoint",slot:"statisticPoint",overridesResolver(e,t){return[t.statisticPoint]}})(({theme:e})=>({paddingBottom:e.spacing(6),width:"25%",[e.breakpoints.down("sm")]:{width:"50%"}})),y=(0,i.Ay)(l.A,{name:"Wrapper"})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap","& .MuiAvatar-root":{marginRight:e.spacing(4)},[e.breakpoints.down("sm")]:{flexDirection:"column",alignItems:"flex-start","& .MuiAvatar-root":{marginRight:e.spacing(0),marginBottom:e.spacing(2)}}})),v=(0,i.Ay)(o.A,{name:"numberStyle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(40)})),f=(0,i.Ay)(l.A,{name:"ActivityPoint",slot:"activityDashboard",overridesResolver(e,t){return[t.activityDashboard]}})(({theme:e})=>({padding:e.spacing(4)})),A=({data:e})=>{let{useIsMobile:t}=(0,n.PCX)(),a=t(),{label:r,value:i,hint:l}=e;return m.createElement(g,null,m.createElement(o.A,{variant:"body1",color:"text.secondary",sx:{mb:1}},r,m.createElement(c.A,{title:l,enterTouchDelay:500*!a},m.createElement(d.s4,{sx:{ml:1},icon:" ico-question-circle-o"}))),m.createElement(v,null,i?m.createElement(d.K2,{value:i}):0))};function E({title:e,emptyPage:t="core.block.no_results",...a}){let{useFetchDetail:i,usePageParams:c,i18n:g,jsxBackend:E,dispatch:x}=(0,n.PCX)(),h=c(),[b,k,_,w]=i({dataSource:(0,n.IgF)(r.Oy,r.Oy,"getStatistic"),pageParams:{id:h.authId,purchase_id:h.purchase_id}});(0,m.useEffect)(()=>{var e;(null==w||null==(e=w.data)?void 0:e.message)&&x({type:"@handleActionFeedback",payload:w})},[w]);let P=null,{items:B,user:D,available_points:W}=Object.assign({},b);return B&&D||(P=E.render({component:t})),B&&D&&(P=m.createElement(m.Fragment,null,m.createElement(y,null,m.createElement(l.A,{width:"100%"},m.createElement(o.A,{sx:{fontWeight:"fontWeightRegular",fontSize:"1.5rem"}},g.formatMessage({id:"current_points"})),m.createElement(v,null,W?m.createElement(d.K2,{value:W}):0),m.createElement(o.A,{variant:"body1",color:"text.secondary"},g.formatMessage({id:"current_points_description"}))),m.createElement(l.A,null,m.createElement(n.vxq,{sx:{mt:2},variant:"outlined",startIcon:m.createElement(d.s4,{icon:"ico-text-file-search"}),to:"/activitypoint/transactions-history"},g.formatMessage({id:"view_all_transactions"})))),m.createElement(p,null,B.map((e,t)=>m.createElement(A,{data:e,key:t}))))),m.createElement(s.eB,{testid:"activityPointBlock",...a},m.createElement(s.Tw,{title:e}),m.createElement(s.tD,null,m.createElement(f,null,m.createElement(u.A,{loading:k,error:_},P))))}E.displayName="ActivityPoint_Dashboard";var x=(0,n.WvA)({extendBlock:E})}}]);