"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-layout-LayoutSlot-SlotWithEditingLayout"],{19690:function(t,e,o){o.d(e,{A:function(){return a}});var r=o(99221),i=o(18851),n=o(30758);function a({slotName:t,children:e}){return n.createElement(r.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},n.createElement(i.A,{component:"span",variant:"body1"},t),e)}},49580:function(t,e,o){o.d(e,{DX:function(){return d},QG:function(){return c},QS:function(){return u},Re:function(){return p},c8:function(){return g},uW:function(){return m},v5:function(){return s}});var r=o(63027),i=o(99221),n=o(69508),a=o(41349);let l="LayoutSlot",d=(0,n.Ay)(r.Ay,{name:l,slot:"root",shouldForwardProp:t=>"maxWidth"!==t&&"minWidth"!==t&&"minHeight"!==t&&"flexWeight"!==t&&"name"!==t&&"useFlex"!==t,overridesResolver:(t,e)=>[e.content,e[(0,a.L4)("root",t.name)]]})(({theme:t,maxWidth:e,minWidth:o,minHeight:r,flexWeight:i,useFlex:n})=>({display:"block",flexBasis:"100%",position:"relative",..."screen"===r&&{minHeight:"100vh"},...r&&"screen"!==r&&{minHeight:r},...e&&{maxWidth:`${t.layoutSlot.points[e]}px !important`},...o&&{minWidth:`${t.layoutSlot.points[o]}px !important`},...n&&{flex:null!=i?i:1,minWidth:0}})),s=(0,n.Ay)(i.A,{name:l,slot:"stage",shouldForwardProp:t=>"maxWidth"!==t&&"minWidth"!==t&&"minHeight"!==t&&"controller"!==t&&"sticky"!==t&&"name"!==t&&"liveEdit"!==t,overridesResolver:(t,e)=>[e.stage,e[(0,a.L4)("stage",t.name)]]})(({theme:t,minHeight:e,fixed:o,maxWidth:r,minWidth:i,liveEdit:n,controller:a,sticky:l})=>({display:"block",flexBasis:"100%",...o&&{position:"fixed"},..."screen"===e&&{minHeight:"100vh"},...r&&{maxWidth:t.layoutSlot.points[r]},...i&&{maxWidth:t.layoutSlot.points[i]},...n&&{position:"relative",minHeight:t.spacing(6)},...a&&{position:"relative",marginBottom:t.spacing(1),padding:t.spacing(1),minHeight:t.spacing(8),borderColor:t.palette.text.primary,borderStyle:"dotted",borderWidth:1},..."static"===l&&{position:"sticky",top:0},..."dynamic"===l&&{position:"sticky"}}));(0,n.Ay)(i.A,{name:l,slot:"preview",shouldForwardProp:t=>"name"!==t})(({name:t,theme:e})=>({fontSize:"0.8125rem",fontWeight:e.typography.fontWeightMedium,height:80,textTransform:"lowercase",alignItems:"center",justifyContent:"center",display:"flex"}));let u=(0,n.Ay)(i.A,{name:l,slot:"Content",shouldForwardProp:t=>"maxWidth"!==t&&"minWidth"!==t&&"minHeight"!==t&&"name"!==t&&"fixed"!==t,overridesResolver:(t,e)=>[e.content,e[(0,a.L4)("content",t.name)]]})(({theme:t,minHeight:e,maxWidth:o,minWidth:r})=>({display:"block",flexBasis:"100%",marginLeft:"auto",marginRight:"auto",..."screen"===e&&{minHeight:"100vh"},...o&&{maxWidth:t.layoutSlot.points[o]},...r&&{maxWidth:t.layoutSlot.points[r]}})),p=(0,n.Ay)("div",{name:l,slot:"fixedStage",overridesResolver(t,e){return[e.fixedStage]}})({display:"flex",height:"100%",flexDirection:"column"}),c=(0,n.Ay)("div",{name:l,slot:"fixedContent",overridesResolver(t,e){return[e.fixedContent]}})({flex:1,minHeight:0}),m=(0,n.Ay)("div",{name:l,slot:"fixedHeader",overridesResolver(t,e){return[e.fixedHeader]}})({}),g=(0,n.Ay)("div",{name:l,slot:"fixedFooter",overridesResolver(t,e){return[e.fixedFooter]}})({})},53151:function(t,e,o){o.d(e,{A:function(){return B}});var r=o(30758),i=o(13526),n=o(85206),a=o(1161),l=o(96238),d=o(69508),s=o(24521),u=o(10512),p=o(78473),c=o(67864),m=o(98216);function g(t){return(0,m.Ay)("MuiButtonGroup",t)}let f=(0,c.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var h=o(31484),v=o(46056),y=o(86070);let x=(0,d.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:o}=t;return[{[`& .${f.grouped}`]:e.grouped},{[`& .${f.grouped}`]:e[`grouped${(0,l.A)(o.orientation)}`]},{[`& .${f.grouped}`]:e[`grouped${(0,l.A)(o.variant)}`]},{[`& .${f.grouped}`]:e[`grouped${(0,l.A)(o.variant)}${(0,l.A)(o.orientation)}`]},{[`& .${f.grouped}`]:e[`grouped${(0,l.A)(o.variant)}${(0,l.A)(o.color)}`]},{[`& .${f.firstButton}`]:e.firstButton},{[`& .${f.lastButton}`]:e.lastButton},{[`& .${f.middleButton}`]:e.middleButton},e.root,e[o.variant],!0===o.disableElevation&&e.disableElevation,o.fullWidth&&e.fullWidth,"vertical"===o.orientation&&e.vertical]}})((0,s.A)(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${f.lastButton},& .${f.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${f.firstButton},& .${f.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${f.lastButton},& .${f.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${f.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${f.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter((0,u.A)()).flatMap(([e])=>[{props:{variant:"text",color:e},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.5)`:(0,a.X4)(t.palette[e].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${f.lastButton},& .${f.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${f.lastButton},& .${f.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${f.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${f.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter((0,u.A)(["dark"])).map(([e])=>({props:{variant:"contained",color:e},style:{[`& .${f.firstButton},& .${f.middleButton}`]:{borderColor:(t.vars||t).palette[e].dark}}}))],[`& .${f.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}})));var B=r.forwardRef(function(t,e){let o=(0,p.b)({props:t,name:"MuiButtonGroup"}),{children:a,className:d,color:s="primary",component:u="div",disabled:c=!1,disableElevation:m=!1,disableFocusRipple:f=!1,disableRipple:B=!1,fullWidth:$=!1,orientation:b="horizontal",size:A="medium",variant:R="outlined",...C}=o,S={...o,color:s,component:u,disabled:c,disableElevation:m,disableFocusRipple:f,disableRipple:B,fullWidth:$,orientation:b,size:A,variant:R},W=(t=>{let{classes:e,color:o,disabled:r,disableElevation:i,fullWidth:a,orientation:d,variant:s}=t,u={root:["root",s,d,a&&"fullWidth",i&&"disableElevation",`color${(0,l.A)(o)}`],grouped:["grouped",`grouped${(0,l.A)(d)}`,`grouped${(0,l.A)(s)}`,`grouped${(0,l.A)(s)}${(0,l.A)(d)}`,`grouped${(0,l.A)(s)}${(0,l.A)(o)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,n.A)(u,g,e)})(S),E=r.useMemo(()=>({className:W.grouped,color:s,disabled:c,disableElevation:m,disableFocusRipple:f,disableRipple:B,fullWidth:$,size:A,variant:R}),[s,c,m,f,B,$,A,R,W.grouped]),k=r.Children.toArray(a).filter(t=>r.isValidElement(t)),w=k.length;return(0,y.jsx)(x,{as:u,role:"group",className:(0,i.A)(W.root,d),ref:e,ownerState:S,...C,children:(0,y.jsx)(h.A.Provider,{value:E,children:k.map((t,e)=>(0,y.jsx)(v.A.Provider,{value:(t=>{let e=0===t,o=t===w-1;return e&&o?"":e?W.firstButton:o?W.lastButton:W.middleButton})(e),children:t},e))})})})},89479:function(t,e,o){o.r(e),o.d(e,{default:function(){return $}});var r=o(43961),i=o(25304),n=o(53151),a=o(56332),l=o(89507),d=o(63027),s=o(99221),u=o(69508),p=o(98002),c=o.n(p),m=o(30758),g=o(45940),f=o(27395),h=o(41371),v=o(19690),y=o(49580);let x=(0,u.Ay)("div")(({theme:t})=>({textAlign:"right",padding:t.spacing(1),"&:hover":{opacity:1}})),B=t=>{let{dispatch:e,i18n:o}=(0,r.PCX)(),d=o=>e({type:o,payload:t});return m.createElement(x,null,m.createElement(n.A,{size:"small",color:"primary"},m.createElement(a.A,{onClick:()=>d("@layout/editSlot")},m.createElement(l.A,{enterDelay:0,title:o.formatMessage({id:"edit_layout_slot"})},m.createElement(i.s4,{icon:"ico-pencilline-o"}))),m.createElement(a.A,{onClick:()=>d("@layout/deleteSlot")},m.createElement(l.A,{title:o.formatMessage({id:"delete_layout_slot"})},m.createElement(i.s4,{icon:"ico-trash-o"})))))};function $({elementPath:t,templateName:e,slotName:o,flexWeight:i,xs:n,rootStyle:a,stageStyle:l,contentStyle:u,elements:p}){let x=m.useRef(),{pageSize:$,pageName:b,blocks:A}=(0,h.A)(),{jsxBackend:R,layoutBackend:C}=(0,r.PCX)(),S=A.filter(t=>t.slotName===o),W=S.length,[,E]=(0,g.H)({accept:f.X,collect:t=>({isOver:t.isOver(),canDrop:t.canDrop()}),canDrop:()=>!0,drop:(t,r)=>{if(r.didDrop())return;let i=function(t,e,o){if(!e)return 0;let r=o?t.height/o:-1;return Math.floor((e.y-t.y)/r)}(x.current.getBoundingClientRect(),r.getClientOffset(),W),n={blockId:t.blockId,order:i,slotName:o,templateName:e,pageSize:$,pageName:b};return C.updateBlockPosition(n),n}}),k="0"<i||!n;return m.createElement(y.DX,{name:o,item:!0,useFlex:k,flexWeight:i,xs:k?void 0:n,ref:E,"data-testid":c()(`LayoutSlot_${o}`),...a},m.createElement(y.v5,{name:o,controller:!0,...l},m.createElement(v.A,{slotName:o},m.createElement(B,{elementPath:t,pageName:b,templateName:e,slotName:o,pageSize:$})),m.createElement(y.QS,{name:o,ref:x,...u},(null==p?void 0:p.length)?m.createElement(d.Ay,{container:!0},R.render(p)):null,m.createElement(s.A,null,R.render(S)))))}}}]);