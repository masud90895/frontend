(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-AppBarMiniBlock-Block"],{20136:function(e,t,r){"use strict";r.d(t,{A:function(){return b}});var a=r(30758),o=r(13526),n=r(85206),i=r(69508),l=r(24521),s=r(78473),p=r(96238),c=r(10512),d=r(27759),u=r(67864),m=r(98216);function g(e){return(0,m.Ay)("MuiAppBar",e)}(0,u.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var h=r(86070);let f=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,x=(0,i.Ay)(d.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`position${(0,p.A)(r.position)}`],t[`color${(0,p.A)(r.color)}`]]}})((0,l.A)(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter((0,c.A)(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?f(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?f(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]})));var b=a.forwardRef(function(e,t){let r=(0,s.b)({props:e,name:"MuiAppBar"}),{className:a,color:i="primary",enableColorOnDark:l=!1,position:c="fixed",...d}=r,u={...r,color:i,position:c,enableColorOnDark:l},m=(e=>{let{color:t,position:r,classes:a}=e,o={root:["root",`color${(0,p.A)(t)}`,`position${(0,p.A)(r)}`]};return(0,n.A)(o,g,a)})(u);return(0,h.jsx)(x,{square:!0,component:"header",ownerState:u,elevation:4,className:(0,o.A)(m.root,a,"fixed"===c&&"mui-fixed"),ref:t,...d})})},34082:function(e,t,r){var a=r(59020),o=r(23480),n=r(3978),i=r(64139),l=r(87604),s=r(38752),p=r(68382);e.exports=function(e,t,r){if((e=p(e))&&(r||void 0===t))return o(e);if(!e||!(t=a(t)))return e;var c=s(e),d=s(t),u=l(c,d),m=i(c,d)+1;return n(c,u,m).join("")}},39630:function(e,t,r){"use strict";r.d(t,{A:function(){return d}});var a=r(43961),o=r(98982),n=r(30758),i=r(56332),l=r(22463),s=r(69508),p=r(52520);let c=(0,s.Ay)(i.A,{name:"ButtonSignIn"})(({theme:e})=>({fontSize:15,height:32,padding:e.spacing(0,3),textTransform:"capitalize",position:"absolute",right:e.spacing(2)}));function d(){let e=(0,a.EkY)("user","user","small_login"),{navigate:t,i18n:r}=(0,a.PCX)(),i=(0,l.A)();return(0,p.A)(i.breakpoints.down("lg"))?n.createElement(c,{variant:"contained",color:"primary",size:"small",onClick:()=>{t({pathname:"/login"})},disableElevation:!0,type:"submit"},r.formatMessage({id:"sign_in"})):n.createElement(o.ok,{formSchema:e,navigationConfirmWhenDirty:!1})}},47464:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(43961),o=r(1530),n=r(99221),i=r(20136),l=r(70368),s=r(69508),p=r(53665),c=r(30758),d=r(39630),u=r(70709),m=r(49362),g=r(92376),h=r(57688);let f=(0,s.Ay)(n.A,{name:"MfMiniAppBarBlock",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>{var t,r;return{height:null!=(t=e.appBarHeight.normal)?t:58,minHeight:null!=(r=e.appBarHeight.normal)?r:58,minWidth:1,position:"relative",margin:0,padding:0,flexGrow:1,flexBasis:"100%",width:"100%"}});function x(e){let{searchPlacement:t}=(0,p.A)({props:e,name:"MfAppBarMini"}),{useLoggedIn:r,usePageParams:o,getSetting:s}=(0,a.PCX)(),x=r(),{menuHeaderGuestLogin:b}=o(),v=c.useMemo(()=>b?c.createElement(u.A,null):c.createElement(d.A,null),[b]);return s("core.offline")?c.createElement(h.A,null,c.createElement(f,{"data-testid":"appbar"},c.createElement(i.A,null,c.createElement(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}})))):c.createElement(h.A,null,c.createElement(f,{"data-testid":"appbar"},c.createElement(i.A,null,c.createElement(l.A,null,x?c.createElement(c.Fragment,null,c.createElement(m.A,{placement:t}),c.createElement(n.A,{flex:1}),c.createElement(g.A,null)):v))))}var b=(0,a.WvA)({extendBlock:()=>c.createElement(o.eB,null,c.createElement(o.tD,null,c.createElement(x,null))),defaults:{}})},49362:function(e,t,r){"use strict";r.d(t,{A:function(){return N}});var a=r(43961),o=r(25304),n=r(99221),i=r(12695),l=r(69508),s=r(34082),p=r.n(s),c=r(4239),d=r.n(c),u=r(30758),m=r(28606),g=r(94215);let h=(0,m.A)(e=>{var t,r,a,o;return(0,g.A)({root:{width:320,position:"absolute",left:"50%",transform:"translateX(-50%)",top:0,paddingTop:13,overflow:"hidden",zIndex:e.zIndex.appBar},rootOpen:{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}},form:{width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"}},formFocused:{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:`${e.spacing(.5,1,.75,1)} !important`,boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"32px"},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightBold},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{display:"none"},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null==(t=e.palette.border)?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.2,2),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null==(r=e.palette.border)?void 0:r.secondary},clearButton:{fontWeight:"normal !important"},recentItem:{padding:e.spacing(1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null==(a=e.palette.border)?void 0:a.secondary}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center",borderTop:"solid 1px",borderTopColor:null==(o=e.palette.border)?void 0:o.secondary},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"}})},{name:"AppBar"});var f=r(56332),x=r(86725),b=r(13526),v=r(4633),y=r.n(v),A=r(24009),k=u.forwardRef(function({onSearch:e,limit:t=5,classes:r},n){let{dispatch:i,i18n:l}=(0,a.PCX)(),[s,p]=u.useState(-1),c=[],{data:d,loaded:m}=(0,A.d4)(e=>e.search.recentSearch);u.useImperativeHandle(n,()=>({moveNext:()=>{if(!(null==d?void 0:d.length))return;let e=Math.min(d.length,t);e&&p(t=>(t+1+e)%e)},movePrev:()=>{if(!(null==d?void 0:d.length))return;let e=Math.min(d.length,t);e&&p(t=>(Math.max(0,t)-1+e)%e)},selected:()=>s>-1?d[s]:void 0})),u.useEffect(()=>{p(-1)},[d]),u.useEffect(()=>{m||i({type:"recentSearch/INIT",payload:{}})},[i,m]);let g=u.useCallback((e,t)=>{e&&(e.preventDefault(),e.stopPropagation()),i({type:"recentSearch/REMOVE",payload:{text:t}})},[]),h=u.useCallback(()=>{i({type:"recentSearch/CLEAR",payload:{}})},[i]);return y()(d)?u.createElement("div",{className:r.menuList,"data-testid":"noRecentSearches"},u.createElement("span",{className:r.noOptions},l.formatMessage({id:"no_recent_searches"}))):m?u.createElement(u.Fragment,null,u.createElement("div",{className:(0,b.A)(r.headerPopup,r.headerRecent)},u.createElement("span",null,l.formatMessage({id:"recents"})),u.createElement(f.A,{onClick:h,className:r.clearButton,tabIndex:-1,size:"medium"},l.formatMessage({id:"clear"}))),u.createElement("div",{className:r.menuList},d.slice(0,5).map((t,a)=>u.createElement("div",{role:"option",tabIndex:-1,ref:e=>{c[a]=e},"aria-selected":s===a,key:t.toString(),onClick:()=>e(t),onMouseOver:()=>p(a),onMouseLeave:()=>p(-1),className:(0,b.A)(r.recentItem,s===a&&r.focusedItem)},u.createElement("span",{className:r.recentLabel},t),u.createElement(x.A,{tabIndex:-1,size:"smaller",onClick:e=>g(e,t),sx:{fontSize:16}},u.createElement(o.s4,{color:"textSecondary",icon:"ico-close"})))))):null}),w=r(41349),I=r(18851),R=r(64487),B=r(85481);let C=e=>e.search.suggestions;var S=u.forwardRef(function({limit:e=6,text:t,classes:r,onSearch:o,isActionSearch:i,blurSearch:l},s){let{i18n:p}=(0,a.PCX)(),[c,d]=u.useState(-1),{data:m,loaded:g}=Object.assign({},(0,A.d4)(C)[t]);return u.useImperativeHandle(s,()=>({moveNext:()=>{if(!(null==m?void 0:m.length))return;let t=Math.min(m.length,e);t&&d(e=>(e+1+t)%t)},movePrev:()=>{if(!(null==m?void 0:m.length))return;let t=Math.min(m.length,e);t&&d(e=>(Math.max(0,e)-1+t)%t)},selected:()=>c>-1?m[c]:void 0})),u.createElement(u.Fragment,null,!!t&&u.createElement(I.A,{paragraph:!0,padding:"16px",margin:"0",sx:{cursor:"pointer"}},i&&u.createElement("span",{onClick:()=>{"function"==typeof o&&o(t)}},`${p.formatMessage({id:"search"})} “${t}”`)),u.createElement("div",{className:r.menuList,"data-testid":"suggestions"},g&&m.length?m.slice(0,e).map((e,t)=>u.createElement(a.Wti,{role:"option","data-testid":"suggestion",key:e.to,to:e.to,onClick:l,onMouseOver:()=>d(t),onMouseLeave:()=>d(-1),className:(0,b.A)(r.searchItem,c===t&&r.focusedItem)},u.createElement(R.A,{className:r.searchAvatar,src:(0,w.AE)(null==e?void 0:e.image,"200"),children:(0,w.cb)(e.title),style:{backgroundColor:w.m6.hex((0,w.cb)(e.title)||"")}}),u.createElement("div",{className:r.searchContent},u.createElement(I.A,{variant:"h5",className:r.searchTitle},e.title),u.createElement("div",{className:r.searchNote},e.note)))):null,g?null:u.createElement(n.A,{sx:{display:"flex",justifyContent:"center",pb:2,color:"text.disabled"}},u.createElement(B.A,{variant:"indeterminate",color:"inherit"}))))}),E=r(76534);let T="search",z="MfHeaderSearchForm",M=(0,l.Ay)(n.A,{name:z,slot:"Root",overridesResolver:({placement:e},t)=>[t.root,"left"===e&&t.rootPlacementLeft,"float-left"===e&&t.rootPlacementFloatLeft,"center"===e&&t.rootPlacementCenter,"right"===e&&t.rootPlacementRight]})(({theme:e,open:t,placement:r})=>({width:320,position:"absolute",top:0,paddingTop:13,zIndex:e.zIndex.appBar,transform:"translateX(-50%)",left:"50%",...t&&{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}}})),W=(0,l.Ay)("form",{name:z,slot:"Form",skipSx:!0,skipVariantsResolver:!0,shouldForwardProp:e=>"focused"!==e,overridesResolver:(e,t)=>[t.form]})(({theme:e,focused:t})=>({width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"},...t&&{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"}})),L=(0,l.Ay)(i.Ay,{name:z,slot:"Input"})(({theme:e})=>({color:`${e.palette.text.secondary} !important`,width:"100%","& input::placeholder":{color:e.palette.text.hint}})),$=(0,l.Ay)(n.A,{name:z,slot:"ResultWrapper"})(({open:e})=>({display:e?"block":"none"})),P=(0,l.Ay)(o.s4,{name:z,slot:"SearchIcon",shouldForwardProp:e=>"active"!==e})(({active:e,theme:t})=>({color:t.palette.text.hint,...e&&{color:t.palette.primary.main}}));function N({openSearch:e,minimize:t,closeSearch:r,placement:n,menuRef:i}){var l;let s=h(),{dispatch:c,usePageParams:m,i18n:g,eventCenter:f,navigate:x,location:b,getSetting:v}=(0,a.PCX)(),y=(0,a.IgF)(T,T,"searchHashtagItem"),A=(0,a.IgF)(T,T,"viewAll"),{pathname:I}=b,{q:R}=m(),B=u.useMemo(()=>/^\/hashtag\/search/.test(I)?R?`#${R}`:"":/^\/search/.test(I)?R:"",[I,R]),[C,z]=u.useState({open:!1,text:B,focus:!1,minimize:!!t}),N=v("search"),F=g.formatMessage({id:"search"}),O=u.useRef(),D=u.useRef(),H=u.useRef();u.useEffect(()=>{let e=f.on("minimizeGlobalSearchForm",()=>{z(e=>({...e,minimize:!0}))});return()=>{f.off("minimizeGlobalSearchForm",e)}},[]),u.useEffect(()=>{!0===e&&Y()},[e]);let j=u.useCallback(e=>{if(z(t=>({...t,text:e})),e&&c({type:"recentSearch/ADD",payload:{text:p()(e)}}),e.startsWith("#")&&e.substring(1)){let t={q:e.substring(1),...null==y?void 0:y.pageParams},r=null==A?void 0:A.apiRules,a=(0,w.FI)(t,r);x({pathname:"/hashtag/search",search:E.stringify(a)},{replace:!0})}else x(`/search/?q=${e}`);(null==D?void 0:D.current)&&D.current.blur(),q()},[]),G=u.useCallback(()=>{z(e=>({...e,focus:!1,open:!1}))},[]),_=u.useCallback(()=>{var e;(null==(e=O.current)?void 0:e.movePrev)&&O.current.movePrev()},[]),X=u.useCallback(()=>{var e;(null==(e=O.current)?void 0:e.moveNext)&&O.current.moveNext()},[]),q=u.useCallback(()=>{z(e=>({...e,focus:!1,open:!1})),r&&r()},[r]),K=u.useCallback(e=>{var t;let a=null==(t=D.current)?void 0:t.value;if("#"===a)return;e&&(e.preventDefault(),e.stopPropagation());let o=p()(a);o||q(),o&&(c({type:"recentSearch/ADD",payload:{text:o}}),j(o)),r&&r()},[r]),U=u.useCallback(e=>{let t=e.currentTarget.value;z(e=>({...e,text:t,selectedIndex:0})),c({type:"suggestions/QUERY",payload:{text:t}})},[]),Y=u.useCallback(()=>{if(!C.open&&(z(e=>({...e,focus:!0,open:!0})),D.current)){var e;null==(e=D.current)||e.focus()}c({type:"suggestions/QUERY",payload:{text:C.text}})},[C.open,C.text]),Q=u.useCallback(()=>{r&&r(),z(e=>({...e,open:!1,focus:!1}))},[r]),V=u.useCallback(()=>{var e,t;let r=null==(e=O.current)?void 0:e.selected();if(r){null==(t=D.current)||t.blur(),d()(r)?j(r):x(null==r?void 0:r.to);return}K()},[C.text]),Z=u.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),J=u.useCallback(e=>{let t=null==e?void 0:e.keyCode;if(!e.metaKey&&!e.ctrlKey)switch(t){case 9:G();break;case 27:G(),Z(e);break;case 13:V(),Z(e);break;case 38:_(),Z(e);break;case 40:X(),Z(e);break;default:C.open||Y()}},[C.open]);return(u.useEffect(()=>{let e=["/search","/hashtag/search"].some(e=>I.startsWith(e));z(t=>({...t,text:e?B:""}))},[I,B]),N)?u.createElement(o.qB,{onClickAway:Q,excludeRef:i},u.createElement(M,{ref:H,"data-testid":"formSearch",open:C.open,placement:null!=n?n:"center",role:"search",id:"globalSearchBox"},u.createElement(W,{method:"get",focused:!!C.open,"aria-expanded":!C.minimize,onSubmit:K},u.createElement(L,{startAdornment:u.createElement(P,{active:!!C.open,icon:"ico-search-o"}),placeholder:F,classes:{root:s.inputRoot,input:s.inputInput},autoComplete:"off",value:C.text,name:"globalSearch",inputProps:{"aria-label":"search","data-testid":"searchBox",autoComplete:"off",autoCapitalize:"off"},inputRef:D,onFocus:Y,onChange:U,onKeyDown:J})),C.open?u.createElement($,{open:C.open},C.text?u.createElement(S,{ref:O,onSearch:j,classes:s,text:C.text,isActionSearch:(null==(l=D.current)?void 0:l.value)!=="#",blurSearch:Q}):u.createElement(k,{onSearch:j,ref:O,classes:s})):null)):null}},53665:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var a=r(87997),o=r(63193),n=r(59556);function i({props:e,name:t}){return(0,a.A)({props:e,name:t,defaultTheme:o.A,themeId:n.A})}},57688:function(e,t,r){"use strict";var a=r(43562),o=r(30758);t.A=function({children:e}){let t=o.useState(!0);return o.createElement(a.A.Provider,{value:t},e)}},64139:function(e,t,r){var a=r(31451);e.exports=function(e,t){for(var r=e.length;r--&&a(t,e[r],0)>-1;);return r}},70368:function(e,t,r){"use strict";r.d(t,{A:function(){return g}});var a=r(30758),o=r(13526),n=r(85206),i=r(69508),l=r(24521),s=r(78473),p=r(67864),c=r(98216);function d(e){return(0,c.Ay)("MuiToolbar",e)}(0,p.A)("MuiToolbar",["root","gutters","regular","dense"]);var u=r(86070);let m=(0,i.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((0,l.A)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]})));var g=a.forwardRef(function(e,t){let r=(0,s.b)({props:e,name:"MuiToolbar"}),{className:a,component:i="div",disableGutters:l=!1,variant:p="regular",...c}=r,g={...r,component:i,disableGutters:l,variant:p},h=(e=>{let{classes:t,disableGutters:r,variant:a}=e;return(0,n.A)({root:["root",!r&&"gutters",a]},d,t)})(g);return(0,u.jsx)(m,{as:i,className:(0,o.A)(h.root,a),ref:t,ownerState:g,...c})})},70709:function(e,t,r){"use strict";r.d(t,{A:function(){return c}});var a=r(43961),o=r(30758),n=r(99221),i=r(86633),l=r(19857);let s=(0,i.A)(a.Wti)(({theme:e})=>({marginLeft:e.spacing(2),fontSize:e.mixins.pxToRem(16)})),p=(0,i.A)(n.A)(({theme:e})=>({display:"flex",alignItems:"center",marginLeft:"auto"}));function c(){let e=(0,a.cbF)(l.wk,"headerSignInMenu").items;return o.createElement(p,null,e.map((e,t)=>o.createElement(s,{key:t,to:e.to,color:"primary"},e.label)))}},86633:function(e,t,r){"use strict";t.A=(0,r(31489).Ay)()},87604:function(e,t,r){var a=r(31451);e.exports=function(e,t){for(var r=-1,o=e.length;++r<o&&a(t,e[r],0)>-1;);return r}},87997:function(e,t,r){"use strict";r.d(t,{A:function(){return n}});var a=r(45510),o=r(25631);function n({props:e,name:t,defaultTheme:r,themeId:n}){let i=(0,o.A)(r);return n&&(i=i[n]||i),(0,a.A)({theme:i,name:t,props:e})}},92376:function(e,t,r){"use strict";r.d(t,{A:function(){return g}});var a=r(43961),o=r(25304),n=r(41349),i=r(85179),l=r(99221),s=r(30758),p=r(2675),c=r(28606),d=r(94215);let u=(0,c.A)(e=>{var t,r,a,o,n,i;return(0,d.A)({blockHeader:{height:e.appBarHeight.normal},rootHeader:{height:null!=(n=e.appBarHeight.normal)?n:58,boxShadow:"none",borderBottom:"solid 1px rgba(0, 0, 0, 0.1)","& .MuiToolbar-root":{minHeight:0,maxHeight:null!=(i=e.appBarHeight.normal)?i:58}},isGuest:{"& .MuiToolbar-gutters":{paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}},leftPane:{flex:1,display:"flex",flexDirection:"row"},rightPane:{display:"flex",flexDirection:"row",flex:1,justifyContent:"flex-end"},centerPane:{display:"flex",justifyContent:"center"},fixedAwareBottom:{position:"relative",height:e.appBarHeight.normal,backgroundColor:"transparent"},left:{display:"flex",alignItems:"center",minHeight:"40px",paddingLeft:e.spacing(2.5)},middle:{},right:{paddingRight:e.spacing(2.5)},logo:{height:"32px",display:"inline-block"},shortcutLink:{margin:e.spacing("auto",1),padding:e.spacing(.5,0),color:e.palette.text.secondary,flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center",height:"60px",borderBottom:"2px solid transparent",borderTop:"2px solid transparent","&:hover $tabLink":{background:e.palette.background.default}},menuButton:{padding:e.spacing(.5,0),flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center","&:hover $tabLink":{background:e.palette.background.default}},smallMenuButton:{width:e.spacing(5),height:e.spacing(5),cursor:"pointer",marginLeft:e.spacing(.5),color:e.palette.text.secondary,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:e.mixins.pxToRem(16),transition:"all 0.1s","& .MuiBadge-badge":{marginTop:0},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:"50%"}},activeMenu:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},menuButtonActive:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},smallMenuIcon:{fontSize:e.mixins.pxToRem(24),color:e.palette.text.secondary,"&.ico-caret-down":{fontSize:e.mixins.pxToRem(16)}},menuActive:{borderBottom:"2px solid",borderBottomColor:e.palette.primary.main,color:e.palette.primary.main},menuButtonIcon:{fontSize:e.mixins.pxToRem(28)},tabLink:{display:"block",width:"100%",height:"100%",textAlign:"center",padding:e.spacing(1),borderRadius:e.shape.borderRadius},rightMenu:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},userAvatarButton:{display:"flex",textDecoration:"none",alignItems:"center","& > .MuiAvatar-root":{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary}},userAvatarSpan:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,display:"inline-block",marginLeft:e.spacing(1),fontWeight:"bold",borderBottom:"solid 1px",borderBottomColor:"transparent"},userAvatar:{width:"32px",height:"32px",fontSize:"12px"},title:{flexGrow:1,display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",background:e.palette.action.selected,borderRadius:"999px",height:e.spacing(4),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{width:"288px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& #global-search":{marginLeft:"20px"}},searchFocused:{border:e.mixins.border("primary"),background:"white"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:e.spacing(1,2,1,0),boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"30px",[e.breakpoints.up("sm")]:{maxWidth:"288px",width:"100%","&:focus":{maxWidth:"288px"}}},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightRegular},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{paddingTop:e.spacing(1),minWidth:"288px",zIndex:e.zIndex.snackbar},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null==(t=e.palette.border)?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.5),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null==(r=e.palette.border)?void 0:r.secondary},clearButton:{textTransform:"capitalize",color:e.palette.primary.main,fontWeight:"normal",minWidth:"inherit"},recentItem:{padding:e.spacing(1,1,1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null==(a=e.palette.border)?void 0:a.secondary},"&:hover":{background:e.palette.action.selected}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},loadingItem:{padding:e.spacing(2)},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center","& + $searchItem":{borderTop:"solid 1px",borderTopColor:null==(o=e.palette.border)?void 0:o.secondary},"&:hover":{background:e.palette.action.selected}},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},openPopup:{height:"32px","& $inputRoot":{maxWidth:"237px",width:"100%",opacity:1}},searchForm:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:0},menuRefIndex:{display:"inline-flex"},popper:{width:290,maxHeight:"500px",boxShadow:e.shadows[20],borderRadius:e.shape.borderRadius,overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:e.spacing(-1)},moreHeaderMenu:{position:"relative",marginRight:e.spacing(1),"& $popper":{minWidth:200,boxShadow:"0px 2px 30px 0 rgba(0, 0, 0, 0.1)"}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"},searchBackdrop:{minHeight:"1000000vh",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,marginTop:"-5px",zIndex:1099,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}})},{name:"AppBar"}),m=(0,r(69508).Ay)(i.A,{name:"OfflineMode"})(({theme:e})=>({width:"fit-content",backgroundColor:e.palette.warning.main,color:"#fff",cursor:"pointer"}));function g(){let{useActionControl:e,getAcl:t,useSession:r,getSetting:i,usePageParams:c,i18n:d}=(0,a.PCX)(),g=c(),h=r(),f=t(),x=i(),{pathname:b,state:v}=(0,p.zy)(),[y]=e(null,{}),A=(0,a.cbF)("core","headerSubMenu"),k=u(),w=(null==v?void 0:v.as)||b,I=t("core.admincp.has_admin_access"),R=i("core.offline");if(!A||!A.items)return null;let B=(0,n.Ue)(A.items,{acl:f,setting:x,session:h,params:g});return s.createElement(l.A,{sx:{display:"flex",alignItems:"center",marginLeft:"auto"},"data-testid":"menuAppBar"},I&&R&&s.createElement("a",{href:a.vl,target:"_blank",rel:"noreferrer"},s.createElement(m,{size:"small",label:d.formatMessage({id:"offline_mode"})})),s.createElement(o.c,{prefixName:"appbar.item.",fallbackName:"popover",items:B,handleAction:y,classes:k,pathname:w}))}}}]);