"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-search-blocks-SearchListing-Block"],{24806:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var r=a(43961),n=a(1530),i=a(69508),l=a(99221),o=a(30758),c=a(41349),s=a(7096),d=a.n(s),m=a(39419),h=a.n(m),u=a(56332),p=a(76534);let g=(0,i.Ay)(l.A,{name:"SearchItem",slot:"Root",overridesResolver(e,t){return[t.root]}})(({theme:e})=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(1),[e.breakpoints.up("sm")]:{width:e.layoutSlot.points.sm,maxWidth:"100%"},[e.breakpoints.down("sm")]:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}));function f({item:e,searchSectionAction:t="viewAll",searchPreviewAction:a,isLimitMode:i}){let l=(0,n.HX)(),{ListView:s,navigate:m,i18n:f,layoutBackend:y,jsxBackend:v}=(0,r.PCX)(),{appName:b,resourceName:k,is_hashtag:S}=l,{view:w,id:A}=(0,n.HX)(),C=(0,r.zy2)(),E=e?h()(e,["id"]):{item_type:w},{item_type:L}=Object.assign({},E),$=!i||"feed"===L,M=a||t;t="all"!==w||$?t:M;let _=(0,r.IgF)(b,k,t),x={canLoadMore:!0,canLoadSmooth:!0};$||(x={canLoadMore:!1,canLoadSmooth:!1});let B=y.getItemPreset(`${d()(L)} - Search Card`)?`${d()(L)} - Search Card`:`${d()(L)} - Main Card`,P=v.has(`${L}.itemView.searchCard`)?`${L}.itemView.searchCard`:`${L}.itemView.mainCard`;return o.createElement(g,null,o.createElement(n.eB,null,o.createElement(n.tD,null,o.createElement(s,{testid:"searchListing",blockLayout:"Search Main Lists",gridLayout:"Search - Main Card",itemLayout:B,itemView:P,dataSource:{apiUrl:_.apiUrl,apiParams:(0,c.A8)(_.apiParams,{...l,...E})},...x}),!$&&o.createElement(u.A,{variant:"link",onClick:()=>{let e=p.stringify(Object.assign({},p.parse(C.search),{view:L})),t=A?`/${b}/search/${A}?${e}`:`/search/${L}${C.search}`;S&&(t=`/hashtag/search?${e}`),m(t)}},f.formatMessage({id:"view_all_results_for_item"},{label:e.label})))))}var y=a(18851),v=a(88107),b=a(66521),k=a.n(b),S=a(84742),w=a(45126);let A=(0,i.Ay)(y.A,{name:"SearchItem",slot:"TitleSearchContentItem",shouldForwardProp:e=>"isMobile"!==e,overridesResolver(e,t){return[t.TitleSearchContentItem]}})(({theme:e,isMobile:t})=>({paddingLeft:t?e.spacing(2):0,paddingTop:e.spacing(2)}));function C({searchAllAction:e="viewSections",...t}){let a=(0,n.HX)(),{useIsMobile:i}=(0,r.PCX)(),{appName:c,resourceName:s}=a,d=(0,r.IgF)(c,s,e),m=i(),[h,u,g]=(0,S.B6)({dataSource:d,pageParams:a,cachePrefix:"search",cacheKey:p.stringify(a),ttl:36e5,forceReload:!1});return o.createElement(w.A,{error:g,loading:u,emptyComponent:(null==h?void 0:h.length)>0?void 0:"core.block.no_results"},o.createElement(l.A,{sx:{maxWidth:"100%"}},o.createElement(v.A,{disablePadding:!0},k()(h)?h.map((e,a)=>o.createElement(l.A,{key:a},o.createElement(A,{variant:"h4",isMobile:m},e.label),o.createElement(f,{item:e,isLimitMode:!0,...t}))):null)))}let E=(0,i.Ay)(l.A,{name:"GlobalSearchResult",slot:"wrapper",overridesResolver(e,t){return[t.wrapper]}})(({theme:e})=>({"& .error404Block":{"& img":{display:"none"}},[e.breakpoints.up("sm")]:{display:"flex",justifyContent:"center","& .error404Block":{"& h2":{fontSize:e.typography.h3.fontSize}}}}));var L=(0,r.WvA)({name:"GlobalSearchResultBlock",extendBlock:function(e){let{view:t}=(0,n.HX)();return o.useEffect(()=>{window.scrollTo(0,0)},[t]),o.createElement(E,null,"all"===t?o.createElement(C,e):o.createElement(f,e))},overrides:{contentType:"search",blockLayout:"Search Main Lists"}})},84742:function(e,t,a){a.d(t,{B6:function(){return n.A},e6:function(){return r.A}}),a(1368),a(19579);var r=a(61747),n=a(29817)}}]);