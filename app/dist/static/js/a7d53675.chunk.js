"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-form-elements-AttachPollField-AttachPollField"],{58797:function(e,t,l){l.d(t,{A:function(){return i}});var a=l(30758),r=l(57717),n=l.n(r);let o=e=>e?n()(e)?o(Object.values(e)[0]):e.toString():null;function i({error:e,className:t="invalid-feedback order-last"}){return e?a.createElement("div",{"data-testid":"error",className:t},o(e)):null}},81065:function(e,t,l){l.r(t);var a=l(43961),r=l(79765),n=l(30758),o=l(58797),i=l(56332),c=l(32367),d=l(99221),u=l(69508),s=l(98002),m=l.n(s),h=l(25304);let f=(0,u.Ay)(i.A,{name:"AttachPollButton"})(()=>({fontWeight:"bold"}));t.default=({config:e,name:t,disabled:l,formik:i})=>{var u;let{jsxBackend:s,dialogBackend:p,i18n:v}=(0,a.PCX)(),{disabled:A,formUrl:b,fullWidth:g=!0,margin:E="normal",size:P}=e,[k,C,{setValue:_}]=(0,r.Mt)(null!=t?t:"AttachPollField"),w=e.placeholder||v.formatMessage({id:"attach_poll"}),x=n.useCallback(()=>{p.present({component:"poll.dialog.AttachPollDialog",props:{formUrl:b}}).then(e=>{e&&_(e)})},[p,b,_]),F=null==k?void 0:k.value,S=C.error;return n.createElement(c.A,{fullWidth:g,margin:E,size:P,"data-testid":m()(`field ${t}`)},n.createElement("div",null,n.createElement(f,{variant:"outlined",size:"small",color:"primary","data-testid":m()(`button ${t}`),onClick:x,disabled:A||l||i.isSubmitting||!!F,startIcon:n.createElement(h.s4,{icon:"ico-barchart-o"})},w)),F?n.createElement(d.A,{mt:2},s.render({component:"AttachPollPreview",props:{value:F,formUrl:b,handleRemove:()=>_(null),handleEdit:_}})):null,C.error&&!S?n.createElement(o.A,{error:null==(u=C.error)?void 0:u.toString()}):null)}}}]);