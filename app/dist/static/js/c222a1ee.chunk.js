"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-StatusComposerControlAttachedPoll"],{95335:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var l=n(43961),a=n(25304),o=n(99221),i=n(56332),r=n(18851),s=n(69508),m=n(20644),c=n.n(m),p=n(21658),d=n.n(p),u=n(30758);let f=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),padding:e.spacing(3),margin:e.spacing(2)})),g=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:e.shape.borderRadius/2,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)})),h=(0,s.Ay)(o.A,{name:"AttachmentItem",slot:"FormItem"})(({theme:e})=>({display:"flex",margin:e.spacing(1,0),fontSize:e.mixins.pxToRem(13),lineHeight:1.5,"& .info":{display:"flex"}})),x=(0,s.Ay)(a.s4,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)}));function A({composerRef:e}){var t;let n=c()(e.current.state,"attachments.poll.value"),{i18n:o,dialogBackend:s}=(0,l.PCX)();return n?u.createElement(f,null,u.createElement(a.mE,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2},fontWeight:600},n.poll_question),u.createElement("div",null,null==(t=n.poll_answers)?void 0:t.map((e,t)=>e.answer?u.createElement(g,{key:t.toString()},e.answer):null)),n.poll_attachments&&n.poll_attachments.map((e,t)=>u.createElement(h,{key:t},u.createElement("div",{className:"info"},u.createElement(x,{icon:"ico-paperclip-alt"}),u.createElement("div",null,e.file_name)))),u.createElement(a.Fu,{sx:{pb:3,pt:1}},u.createElement(i.A,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:()=>{s.present({component:"poll.dialog.AddPollToStatusComposerDialog",props:{initialValues:n,isEdit:!0}}).then(t=>{t&&e.current.setAttachments("poll","poll",{value:t,as:"StatusComposerControlAttachedPoll"})})}},o.formatMessage({id:"edit"})),u.createElement(i.A,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:()=>{e.current.removeAttachmentName("poll")}},o.formatMessage({id:"remove"}))),n.poll_close_time&&n.enable_close?u.createElement(r.A,{variant:"body2",color:"text.hint",fontWeight:"bold"},o.formatMessage({id:"expire_on"})," ",d()(n.poll_close_time).format("LLL")):null):null}}}]);