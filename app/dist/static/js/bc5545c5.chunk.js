"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["listview"],{44925:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});var n=l(43961),r=l(1530),a=l(99221),i=l(63027),o=l(66521),s=l.n(o),c=l(3029),m=l.n(c),u=l(20644),d=l.n(u),p=l(30758),E=l(24009),g=(0,n.hS2)(function({title:e,itemView:t,itemProps:l={},gridItemProps:o={},gridContainerProps:c={spacing:2},pagingId:u,collapsible:g,numberOfItemsPerPage:f,emptyPage:y="core.block.no_content",emptyPageProps:w,errorPage:h,loadMore:k}){let{jsxBackend:A,i18n:P}=(0,n.PCX)(),v=A.get(t),x=A.get(`${t}.skeleton`),{limit:b=10,as:_}=g||{},S=A.get(_),[T,C]=p.useState(!0),B=(0,E.d4)(e=>(0,n.qRQ)(e,u))||(0,n.KCW)(),{refreshing:D,error:I,ended:K,initialized:$,dirty:M}=null!=B?B:{},W=B.ids.slice(0,f||B.ids.length),q=g&&B.ids.length>b,N=q&&T;if(q&&(W=N?B.ids.slice(0,b):B.ids),p.useEffect(()=>{D&&!M&&k()},[$,D]),!v)return null;if(o.xs||(o.xs=12),I){if("hide"===h)return null;let e=d()(I,"response.data.error")||d()(I,"response.data.message"),t=403===d()(I,"response.status")?"core.block.error403":"core.block.error404",l=A.get(t);return p.createElement(l,{title:e})}if(!W.length&&(K||I)){if("hide"===y)return null;if("string"!=typeof y)return y;let t=A.get(y);if(!t)return null;let{noBlock:l,contentStyle:n}=w||{};return l?p.createElement(a.A,null,p.createElement(t,w)):p.createElement(r.eB,null,p.createElement(r.Tw,{title:e}),p.createElement(r.tD,n,p.createElement(t,{...w})))}return $?p.createElement(r.eB,null,p.createElement(r.Tw,{title:e,data:W}),p.createElement(r.tD,null,p.createElement(i.Ay,{container:!0,...c},s()(W)&&W.map((e,t)=>p.createElement(v,{index:t,identity:e,itemProps:l,key:e.toString(),wrapAs:i.Ay,wrapProps:o,pagingId:u}))),q&&S?p.createElement(S,{setCollapsed:C,collapsed:T}):null)):x?p.createElement(r.eB,null,p.createElement(r.Tw,{title:e}),p.createElement(r.tD,null,p.createElement(i.Ay,{container:!0,sx:{"&:empty":{display:"none"}},...c},m()(0,b).map(e=>p.createElement(x,{wrapAs:i.Ay,wrapProps:o,itemProps:l,key:e.toString()}))))):p.createElement("div",null,P.formatMessage({id:"loading_dots"}))})},82320:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});var n=l(43961),r=l(1530),a=l(71827),i=l(63027),o=l(99221),s=l(66521),c=l.n(s),m=l(3029),u=l.n(m),d=l(20644),p=l.n(d),E=l(30758),g=l(24009),f=l(25304),y=l(43975);function w(e){let{blockId:t,title:l,itemView:s,itemProps:m={},gridItemProps:d={},gridContainerProps:w={spacing:2},displayLimit:h=4,displayRowsLimit:k,pagingId:A,canLoadMore:P,buttonMessageLoadmore:v="view_more",canLoadSmooth:x,loadMore:b,numberOfItemsPerPage:_,emptyPage:S="core.block.no_content",emptyPageProps:T,loadMoreTypeProp:C,isLoadMoreScroll:B,isLoadMoreButton:D,errorPage:I,errorPageProps:K,handleActionItem:$,cachedEmpty:M}=e,{jsxBackend:W,i18n:q,useWidthBreakpoint:N,useCachedBlockEmpty:Q,useTheme:R}=(0,n.PCX)(),X=W.get(s),F=W.get(`${s}.skeleton`),L=N(),O=[...R().breakpoints.keys],z=(0,a.hz)(L,d,O),V=k?k*z:h,[Y,j]=Q(`${A}_${t}`),[G,H]=(0,y.Wx)({threshold:0}),[J,U]=E.useState(1),Z=(0,g.d4)(e=>(0,n.qRQ)(e,A))||(0,n.KCW)(),ee=E.useCallback(()=>{B&&J<=Z.page&&U(e=>e+1)},[B,J,Z.page]);(0,n.ksV)(ee);let et=E.useCallback(()=>{b(),U(e=>e+1)},[A,b]),{loading:el,refreshing:en,error:er,ended:ea,initialized:ei,dirty:eo}=null!=Z?Z:{};E.useEffect(()=>{B&&H&&!el&&!ea&&et()},[H,el,et,B,ea]);let es=2*z;!P&&V&&(es=V);let ec=B&&!ea,em=D&&el,eu=!ea&&ec,ed=P?Z.ids.slice(0,J*(_||20)):Z.ids.slice(0,V||Z.ids.length);if(E.useEffect(()=>{en&&!eo&&b()},[ei,en]),E.useEffect(()=>{Y&&ed.length&&j(!1)},[Y,ed.length]),!X)return null;if(d.xs||(d.xs=12),er){if("hide"===I)return null;let e=p()(er,"response.data.error")||p()(er,"response.data.message")||p()(er,"response.data.meta.title"),t=p()(er,"response.data.meta.description"),n=403===p()(er,"response.status")?"core.block.error403":"core.block.error404",a=W.get(n),{hideContent:i=!1}=K||{};return"default"===I?E.createElement(r.eB,null,E.createElement(r.Tw,{title:l,data:ed}),i?null:E.createElement(r.tD,null,E.createElement(a,{title:e,content:t}))):E.createElement(a,{title:e,content:t})}if(!ed.length&&(ea||M&&Y)||er){if(Y||j(!0),"hide"===S)return null;if("string"!=typeof S)return S;let e=W.get(S);if(!e)return null;let{noBlock:t,contentStyle:n}=T||{};return t?E.createElement(e,T):E.createElement(r.eB,null,E.createElement(r.Tw,{title:l}),E.createElement(r.tD,n,E.createElement(e,{...T})))}return ei?E.createElement(r.eB,null,E.createElement(r.Tw,{title:l,data:ed}),E.createElement(r.tD,null,E.createElement(i.Ay,{container:!0,...w},c()(ed)&&ed.map((e,t)=>E.createElement(X,{index:t,identity:e,itemProps:m,key:e.toString(),wrapAs:i.Ay,wrapProps:d,pagingId:A,handleActionItem:$})),eu?E.createElement(o.A,{ref:G,sx:{width:"0 !important",height:"0 !important"}}):null,x&&(ec||em)&&F?E.createElement(E.Fragment,null,u()(0,es).map(e=>E.createElement(F,{wrapAs:i.Ay,wrapProps:d,itemProps:m,key:e.toString()}))):null),D&&(!ea&&!el||J<(null==Z?void 0:Z.page))?E.createElement(f.YL,{handleClick:et,message:v,loadMoreTypeProp:C}):null)):F?E.createElement(r.eB,null,E.createElement(r.Tw,{title:l}),E.createElement(r.tD,null,E.createElement(i.Ay,{container:!0,sx:{"&:empty":{display:"none"}},...w},u()(0,es).map(e=>E.createElement(F,{testid:"loadingIndicator",wrapAs:i.Ay,wrapProps:d,itemProps:m,key:e.toString()}))))):E.createElement("div",{"data-testid":"loadingIndicator"},q.formatMessage({id:"loading_dots"}))}var h=l(75969);let k=({pagesOffset:e,data:t,loading:l})=>{let{blockProps:{titleStyle:n={component:"h2",sx:{mt:0,mb:.5}}}={}}=(0,r.lA)(),{title:a,description:i}=e||{};return l?E.createElement(r.Tw,{children:E.createElement(o.A,{sx:{display:"block",flex:1}},E.createElement(h.A,{height:24,width:160}))}):E.createElement(r.Tw,{data:t},E.createElement(o.A,{sx:{display:"block",flex:1}},E.createElement(o.A,n,a),i?E.createElement(o.A,{color:"text.secondary"},i):null))};var A=function({title:e,itemView:t,itemProps:l={},gridItemProps:a={},gridContainerProps:o={spacing:2},pagingId:s,messagePagination:m,handleUpdateLastRead:d,loadMore:y,numberOfItemsPerPage:w,emptyPage:h="core.block.no_content",emptyPageProps:A,errorPage:P,hasSort:v=!1,titleBackend:x=!1,moduleName:b,resourceName:_,actionSortName:S,handleActionItem:T,hideTopPagination:C,hideBottomPagination:B}){var D,I,K,$,M;let{jsxBackend:W,usePageParams:q,i18n:N}=(0,n.PCX)(),Q=q(),{page:R}=Q,X=W.get(t),F=W.get(`${t}.skeleton`),L=parseInt(R||1,10),[O,z]=E.useState(L),V=(0,g.d4)(e=>(0,n.qRQ)(e,s))||(0,n.KCW)(),{loading:Y,refreshing:j,error:G,ended:H,initialized:J,pagesOffset:U,dirty:Z}=null!=V?V:{},ee=w||20,et=(null==(D=V.pages[O])?void 0:D.ids)||[];if(E.useEffect(()=>{d&&d()},[O]),E.useEffect(()=>{let e=parseInt((null==Q?void 0:Q.page)||(null==U?void 0:U.current_page),10);z(e),e!==(null==Q?void 0:Q.page)&&y()},[null==Q?void 0:Q.page,null==U?void 0:U.current_page]),E.useEffect(()=>{j&&!Z&&y()},[J,j]),!X)return null;if(a.xs||(a.xs=12),G){if("hide"===P)return null;let t=p()(G,"response.data.error")||p()(G,"response.data.message")||p()(G,"response.data.meta.title"),l=p()(G,"response.data.meta.description"),n=403===p()(G,"response.status")?"core.block.error403":"core.block.error404",a=W.get(n);return"default"===P?E.createElement(r.eB,null,E.createElement(r.Tw,{title:e,data:et}),E.createElement(r.tD,null,E.createElement(a,{title:t,content:l}))):E.createElement(a,{title:t,content:l})}if(!et.length&&H||G){if("hide"===h)return null;if("string"!=typeof h)return h;let t=W.get(h);if(!t)return null;let{noBlock:l,contentStyle:n}=A||{};return l?E.createElement(t,A):E.createElement(r.eB,null,x?E.createElement(k,{pagesOffset:U}):E.createElement(r.Tw,{title:e}),E.createElement(r.tD,n,E.createElement(t,{...A})))}return J?E.createElement(r.eB,null,x?E.createElement(k,{pagesOffset:U,data:et}):E.createElement(r.Tw,{title:e,data:et}),E.createElement(r.tD,null,C?null:E.createElement(f.dK,{currentPage:O,from:null==(I=V.pages[O])?void 0:I.from,to:null==(K=V.pages[O])?void 0:K.to,total:(null==U?void 0:U.total_item)||(null==U?void 0:U.total),itemsPerPage:ee,message:m,hasSort:v,moduleName:b,resourceName:_,actionName:S}),E.createElement(i.Ay,{container:!0,...o},c()(et)&&et.map((e,t)=>E.createElement(X,{index:t,identity:e,itemProps:l,key:e.toString(),wrapAs:i.Ay,wrapProps:a,pagingId:s,handleActionItem:T})),Y&&F?E.createElement(E.Fragment,null,u()(0,w).map(e=>E.createElement(F,{wrapAs:i.Ay,wrapProps:a,itemProps:l,key:e.toString()}))):null),B?null:E.createElement(f.dK,{currentPage:O,from:null==($=V.pages[O])?void 0:$.from,to:null==(M=V.pages[O])?void 0:M.to,total:(null==U?void 0:U.total_item)||(null==U?void 0:U.total),itemsPerPage:ee,message:m}))):F?E.createElement(r.eB,null,x?E.createElement(k,{loading:!0}):E.createElement(r.Tw,{title:e}),E.createElement(r.tD,null,E.createElement(i.Ay,{container:!0,sx:{"&:empty":{display:"none"}},...o},u()(0,w).map(e=>E.createElement(F,{testid:"loadingIndicator",wrapAs:i.Ay,wrapProps:a,itemProps:l,key:e.toString()}))))):E.createElement("div",{"data-testid":"loadingIndicator"},N.formatMessage({id:"loading_dots"}))},P=(0,n.hS2)(e=>{let{isLoadMorePagination:t}=e;return t?E.createElement(A,e):E.createElement(w,e)})}}]);