"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-SidebarAppMobile-Block"],{72389:function(e,t,n){n.d(t,{A:function(){return r}});var o=n(30758);function a(e,t){let{disableHysteresis:n=!1,threshold:o=100,target:a}=t,i=e.current;return a&&(e.current=void 0!==a.pageYOffset?a.pageYOffset:a.scrollTop),(!!n||void 0===i||!(e.current<i))&&e.current>o}let i="undefined"!=typeof window?window:null;function r(e={}){let{getTrigger:t=a,target:n=i,...l}=e,p=o.useRef(),[c,u]=o.useState(()=>t(p,l));return o.useEffect(()=>{if(null===n)return u(!1);let e=()=>{u(t(p,{target:n,...l}))};return e(),n.addEventListener("scroll",e,{passive:!0}),()=>{n.removeEventListener("scroll",e,{passive:!0})}},[n,t,JSON.stringify(l)]),c}},93076:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var o=n(43961),a=n(1530),i=n(25304),r=n(69508),l=n(39489),p=n(86725),c=n(99221),u=n(72389),s=n(30758);let m=(0,r.Ay)("div",{name:"Root"})(({theme:e,visibleAppBar:t,minHeight:n})=>({position:"fixed",top:n,left:0,right:0,zIndex:e.zIndex.speedDial,transitionDuration:".5s",boxShadow:"0px 2px 1px 0 rgba(0, 0, 0, 0.05), 0px -2px 1px 0 rgba(0, 0, 0, 0.05)",...!t&&{top:0}})),d=(0,r.Ay)("div",{name:"HeightFixed"})(({heightApp:e})=>({height:e})),f=(0,r.Ay)(l.Ay,{name:"PopoverWrapper"})(({theme:e,visibleAppBar:t,top:n})=>{var o,a,i,r;return{paddingTop:e.mixins.pxToRem(16),minWidth:"100%",top:null!=(i=null==(o=e.appBarMobileConfig)?void 0:o.brand)?i:"48px",bottom:0,".appbar-bottom &":{bottom:null!=(r=null==(a=e.appBarMobileConfig)?void 0:a.bottom)?r:"48px"},"& .MuiPopover-paper":{maxWidth:"100%",width:"100%",borderRadius:0,top:`${n}px !important`,bottom:0,left:"0 !important"},"& .MuiPaper-elevation8":{overflow:"hidden",boxShadow:"unset"},...!t&&{top:0,bottom:"0 !important"}}}),g=(0,r.Ay)("div",{name:"HeaderBlock"})(({theme:e})=>({width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:e.palette.background.paper,padding:e.spacing(2,2)})),b=(0,r.Ay)(p.A,{name:"IconBack",shouldForwardProp:e=>"backPage"!==e})(({theme:e,backPage:t})=>({marginLeft:e.spacing(-1),marginRight:e.spacing(.5),"& .ico":{fontSize:e.mixins.pxToRem(18),color:e.palette.text.primary,fontWeight:e.typography.fontWeightBold}})),h=(0,r.Ay)(c.A,{name:"TitleWrapper"})(({theme:e})=>({display:"flex",alignItems:"center"})),v=(0,r.Ay)("div",{name:"Title"})(({theme:e})=>({display:"flex",alignItems:"center",fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightMedium})),x=(0,r.Ay)(p.A,{name:"Icon"})(({theme:e})=>({minWidth:e.mixins.pxToRem(32),padding:0})),y=(0,r.Ay)("div",{name:"ContentWrapper"})(({theme:e})=>({width:"100%"}));var A=(0,o.WvA)({extendBlock:function({blockProps:e,appName:t,menuName:n,contents:r,title:l,keepMounted:p=!1}){var A,k;let{usePageParams:E,jsxBackend:w,i18n:M,goSmartBack:B,useTheme:C}=(0,o.PCX)(),R=C(),{appName:S,backPage:W}=E(),z=(0,o.$lg)(S,"homepageHeader"),{pathname:P,search:T,state:H}=(0,o.zy2)(),I=(0,u.A)(),O=null!=(k=null==(A=R.appBarMobileConfig)?void 0:A.nav)?k:48,_=(0,s.useRef)(null),[D,F]=(0,s.useState)(0);(0,s.useEffect)(()=>{F(_.current.clientHeight)},[]);let[L,N]=(0,s.useState)(!1),Y=(0,s.useRef)(null),$=(null==H?void 0:H.as)||P,j=(null==r?void 0:r.length)>0?r.map(e=>({name:w.get(e.name),props:e.props||{}})).filter(e=>e.name):[];if((0,s.useEffect)(()=>()=>{N(!1)},[$,T]),!z)return null;let{title:q}=z;return s.createElement(s.Fragment,null,s.createElement(d,{heightApp:D}),s.createElement(m,{ref:_,minHeight:O,visibleAppBar:!I},s.createElement(c.A,null,s.createElement(g,null,s.createElement(h,null,W?s.createElement(b,{size:"small",onClick:()=>B()},s.createElement(i.s4,{icon:"ico-angle-left"})):null,s.createElement(v,null,M.formatMessage({id:l||q}))),s.createElement(x,{onClick:()=>{N(e=>!e)},variant:"outlined-square",size:"small",color:"primary",ref:Y,disableRipple:"true"},s.createElement(i.s4,{icon:L?"ico-angle-up":"ico-angle-down"})),s.createElement(f,{visibleAppBar:!I,top:D,open:L,keepMounted:p,anchorEl:Y.current,onClose:()=>{N(!1)},disablePortal:!0,transitionDuration:0,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},s.createElement(a.P,{autoHide:!0,autoHeightMax:"100%"},s.createElement(y,null,j.map((e,t)=>s.createElement(e.name,{key:t.toString(),...e.props,isSidebarAppMobile:!0,visibleAppBar:!I})))))))))},defaults:{blockProps:{testid:"sidebarMenu",title:"App Menu Mobile"},contents:[{name:"core.block.searchBox"},{name:"core.block.sidebarAppMenu"},{name:"core.dividerBlock"},{name:"core.categoryBlock"}]}})}}]);