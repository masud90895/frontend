"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["statusComposerControl"],{856:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=o(43961),a=o(20644),r=o.n(a),l=o(30758);function c({control:e,composerRef:t,disabled:o,parentIdentity:a,parentType:c,userIdentity:i}){let{i18n:s,dispatch:u}=(0,n.PCX)(),d=(0,n.dx2)(a),p="group"===c&&(null==d?void 0:d.reg_method)?"member":"other",m=e=>{let{setTags:o}=t.current;o("friends",{as:"StatusComposerControlTaggedFriends",priority:1,value:e})};return l.createElement(e,{icon:"ico-user1-plus-o",testid:"statusTagFriendsButton",disabled:o,title:s.formatMessage({id:o?"this_cant_be_combined":"tag_feed_type"},{tagType:p}),label:s.formatMessage({id:"tag_feed_type"},{tagType:p}),onClick:()=>{u({type:"friend/friendPicker",payload:{forceUpdateValueOnClose:!0,users:r()(t.current.state,"tags.friends.value"),parentIdentity:a,parentType:c,userIdentity:i},meta:{onSuccess:m}})}})}},16178:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=o(43961),a=o(20644),r=o.n(a),l=o(30758);function c({control:e,disabled:t,composerRef:o}){let{i18n:a,dialogBackend:c}=(0,n.PCX)(),{setTags:i}=o.current;return n.uO7?l.createElement(e,{disabled:t,onClick:()=>c.present({component:"core.dialog.PlacePickerDialog",props:{defaultValue:r()(o.current.state,"tags.place.value")}}).then(e=>{!1===e?i("place",{as:"StatusComposerControlTaggedPlace",priority:3,value:void 0}):e&&i("place",{as:"StatusComposerControlTaggedPlace",priority:3,value:e})}),testid:"buttonAttachLocation",icon:"ico-checkin-o",label:a.formatMessage({id:"checkin"}),title:a.formatMessage({id:t?"this_cant_be_combined":"checkin"})}):null}},60275:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var n=o(43961),a=o(69508),r=o(4633),l=o.n(r),c=o(30758),i=o(26327),s=o(78613);function u({onClick:e,testid:t,label:o,canUploadTypes:a}){let{i18n:r}=(0,n.PCX)();return c.createElement(s.A,{sx:{fontWeight:400,cursor:"pointer"},color:"primary",onClick:e,"data-testid":t},r.formatMessage({id:o||"add_photos_video"},a?{allowVideo:+(null!=a&&!!a.video),allowPhoto:+(null!=a&&!!a.photo)}:{}))}let d=(0,a.Ay)("div")(({theme:e})=>({display:"flex",margin:e.spacing(0,1.5)})),p=(0,a.Ay)("div")(({theme:e})=>({display:"flex",flexDirection:"row"}));function m(e){let[t,,o]=(0,i.A)(),{useSession:a,dispatch:r,jsxBackend:s,usePageParams:m}=(0,n.PCX)(),{user:f}=a(),{label:h}=e,{identity:g,resource_name:C}=m();return(o.current.requestComposerUpdate=c.useCallback(()=>{setImmediate(()=>{let{attachmentType:e,attachments:t}=o.current.state;r({type:"statusComposer/onPress/status",payload:{data:{attachmentType:e,attachments:{[e]:t[e]}},parentIdentity:g,parentType:C}})})},[o,r,g,C]),l()(f))?null:c.createElement(p,{"data-testid":"addPhotoButton"},c.createElement(d,{onClick:()=>{o.current.removeAttachments()}},s.render({component:"statusComposer.control.StatusUploadPhotoButton",props:{strategy:"block",composerRef:o,composerState:t,control:u,label:h}})))}},66227:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=o(43961),a=o(20644),r=o.n(a),l=o(30758);function c({control:e,disabled:t,composerRef:o}){let{i18n:a,dispatch:c}=(0,n.PCX)(),{setScheduleTime:i,state:s}=o.current;return l.createElement(e,{disabled:t,onClick:()=>{c({type:"statusComposer/openScheduleFeed",payload:{value:r()(s,"schedule_time.value"),setScheduleTime:i}})},testid:"buttonFeedSchedule",icon:"ico-clock-o",label:a.formatMessage({id:"schedule"}),title:a.formatMessage({id:t?"this_cant_be_combined":"schedule"})})}},85574:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=o(43961),a=o(30758),r=o(75621),l=o(63383);function c(e){let{i18n:t}=(0,n.PCX)(),{control:o,disabled:c,label:i,parentIdentity:s}=e,u=(0,n.dx2)(s),d=a.useRef(),{acceptTypes:p,canUploadVideo:m,canUploadPhoto:f}=(0,l.A)({parentUser:u}),[h,g]=(0,r.A)(e.composerRef,d,{parentUser:u});if(p.length)return a.createElement(a.Fragment,null,a.createElement(o,{disabled:c,testid:"attachPhoto",onClick:g,icon:"ico-photos-alt-o",label:i,title:t.formatMessage({id:c?"this_cant_be_combined":"upload_media"}),canUploadTypes:{video:m,photo:f}}),a.createElement("input",{onChange:h,multiple:!0,onClick:e=>{e.currentTarget.value=null},"data-testid":"inputAttachPhoto",ref:d,className:"srOnly",type:"file",accept:p}))}}}]);