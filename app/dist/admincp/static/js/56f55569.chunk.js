"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-admincp-blocks-AdminSideMenu-AsSubMenu"],{12065:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var o=n(43961),l=n(25304),i=n(30758),a=n(41349),r=n(99221),c=n(27759),m=n(53770),u=n(18851),s=n(69508),d=n(52520),p=n(1530),g=n(84309),b=n.n(g);let f="AdminCpAsSubMenu",h="#354661",A=(0,s.Ay)(r.A,{name:f,slot:"MenuItemStyled",shouldForwardProp:e=>"menuItemMinimize"!==e&&"menuItemMinimizeOpen"!==e&&"menuItemActive"!==e})(({theme:e,menuItemMinimize:t,menuItemMinimizeOpen:n,menuItemActive:o})=>({fontSize:14,display:"flex",alignItems:"center",minHeight:24,justifyContent:"center",cursor:"pointer",userSelect:"none",position:"relative","&:before":{content:'""',position:"absolute",top:0,bottom:0,left:0,width:"3px",background:"transparent"},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:"rgb(238, 238, 238)","&:before":{content:'""',position:"absolute",top:0,bottom:0,left:0,width:"3px",background:e.palette.common.white}},...t&&{"& span.ico":{margin:"0 !important",textAlign:"center"},"& > a":{padding:e.spacing(1.5)}},...n&&{"&:before":{background:e.palette.common.white},"& span.ico":{color:e.palette.common.white}},...o&&{backgroundColor:h,color:e.palette.common.white,"& > a":{color:e.palette.common.white},...t&&{backgroundColor:`${h} !important`,color:"rgb(255, 255, 255)","& span.ico":{color:"rgb(255, 255, 255) !important",textAlign:"center"}}}})),k=(0,s.Ay)(r.A,{name:f,slot:"MenuItemLink"})(({theme:e})=>({padding:e.spacing(1.5),flex:1,display:"flex",alignItems:"center",lineHeight:e.spacing(3),minHeight:48,color:"rgba(238,238,238,0.7)",cursor:"pointer","&:hover":{"& span.ico":{color:e.palette.common.white},color:e.palette.common.white}})),E=(0,s.Ay)(l.s4,{name:f,slot:"MenuItemIcon"})(({theme:e})=>({width:24,fontSize:18,color:"rgb(238, 238, 238,0.6)",display:"inline-block",textAlign:"center"})),y=(0,s.Ay)(c.A,{name:f,slot:"SubMenu"})(({theme:e})=>({background:"rgb(35, 48, 68)",width:"208px",borderRadius:0})),M=(0,s.Ay)(o.Wti,{name:f,slot:"SubMenuItemLink",shouldForwardProp:e=>"minimize"!==e})(({theme:e,minimize:t})=>({padding:e.spacing(1.5,2),color:"rgba(238, 238, 238, 0.7)",fontSize:13,display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:e.palette.common.white},...!t&&{padding:e.spacing(1.5,2,1.5,6)}})),w=(0,s.Ay)(r.A,{name:f,slot:"MenuItemLinkPoper"})(({theme:e})=>({padding:e.spacing(1.5,2),color:"rgba(238, 238, 238, 0.7)",fontSize:13,display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:e.palette.common.white}})),I=(0,s.Ay)(r.A,{name:f,slot:"SubMenuItem",shouldForwardProp:e=>"subMenuItemActive"!==e})(({theme:e,subMenuItemActive:t})=>({...t&&{backgroundColor:h,color:e.palette.common.white,fontWeight:"bold","& > a":{color:e.palette.common.white}}})),v=(0,s.Ay)(l.s4,{name:f,slot:"MenuItemIcon"})(({theme:e})=>({marginLeft:"auto",color:"rgb(238, 238, 238,0.6)",fontSize:13}));function x(e){let{item:t,pathname:n,active:c,minimize:s,activeHover:g,handlePopoverClose:f,handlePopoverOpen:h}=e,x=i.useRef(),{useSession:S,getAcl:z,getSetting:C,useTheme:L}=(0,o.PCX)(),[H,P]=i.useState(c),_=S(),R=z(),F=C(),W=i.useRef(),O=L(),$=i.useRef(),j=(0,d.A)(O.breakpoints.up("md")),q=(0,o.zy2)();i.useEffect(()=>{j||f()},[q.pathname,j]),(0,i.useEffect)(()=>{P(c)},[c]);let B=(0,a.Ue)(null==t?void 0:t.items,{session:_,acl:R,setting:F}),U=s&&g,X=H&&!s;if(!(null==B?void 0:B.length))return null;let D=(null==t?void 0:t.order_by)?b()(B,[null==t?void 0:t.order_by]):B;return i.createElement(i.Fragment,null,i.createElement(A,{menuItemMinimize:s,menuItemMinimizeOpen:U,menuItemActive:c&&s,onClick:s?h:()=>P(e=>!e),"data-testid":t.testid||t.name,onMouseEnter:h,onMouseLeave:f,ref:x},i.createElement(k,null,i.createElement(E,{icon:t.icon}),s?null:i.createElement("span",{style:{marginLeft:8}},t.label),s?null:i.createElement(v,{icon:H?"ico-angle-up":"ico-angle-down"}))),X?i.createElement(r.A,null,D.map((e,t)=>i.createElement(I,{subMenuItemActive:c&&e.to===n,key:t.toString(),onClick:null},i.createElement(M,{minimize:s,to:e.to,"data-testid":e.testid||e.name,target:e.target},i.createElement("span",null,e.label))))):null,U?i.createElement(l.qB,{onClickAway:f,excludeRef:x},i.createElement(m.A,{id:`k${t.name}`,open:U,placement:"right-start",anchorEl:x.current,style:{zIndex:O.zIndex.modal},onMouseEnter:h},i.createElement(y,{ref:W},i.createElement(p.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"70vh",ref:$},i.createElement("div",{onMouseLeave:f},i.createElement(w,null,i.createElement(u.A,{fontWeight:600,sx:{color:"#fff !important"}},t.label)),i.createElement("div",null,D.map((e,t)=>i.createElement(I,{subMenuItemActive:c&&e.to===n,key:t.toString(),onClick:null},i.createElement(M,{minimize:s,to:e.to,"data-testid":e.testid||e.name,target:e.target},i.createElement("span",null,e.label)))))))))):null)}}}]);