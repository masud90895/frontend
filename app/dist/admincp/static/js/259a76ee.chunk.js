"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-ui-SmartDataGrid-IconStatusCell"],{30079:function(e,t,n){t.A=(0,n(30758).createContext)(void 0)},91589:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(30758),a=n(99221),l=n(89507),o=n(69508),u=n(20644),i=n.n(u),c=n(25304),s=n(66846),f=n(43961),d=n(93806);let m=(0,s.i7)`
    0% {transform: rotate(0deg);}
    100% {transform: rotate(360deg);}
`,p=(0,o.Ay)("div",{name:"IconCell",slot:"uiChatMsgSet",shouldForwardProp:e=>"isOwner"!==e&&"spinner"!==e})(({theme:e,spinner:t})=>({display:"inline-flex",alignItems:"center",justifyContent:"center",...t&&{animation:`${m} 1s linear infinite`}}));function C({id:e,row:t,colDef:{field:n,iconConfig:o,iconDefault:u,pollingConfig:s}}){var m;let C=i()(t,n,null),{handleReloadRow:x}=(0,d.A)(),A=null==C?void 0:C.toString(),{apiClient:E,handleActionError:h}=(0,f.PCX)(),v=r.useRef(!1),g=r.useRef(),b=A&&s?null==(m=s[A])?void 0:m.dataSource:"",k=new AbortController;r.useEffect(()=>(b&&!v.current&&(v.current=!0,S()),()=>{clearTimeout(g.current),k.abort()}),[A]);let w=r.useCallback((t={})=>{x("row/updateData",{id:e,...t})},[]),S=r.useCallback(()=>{var e;E.request({url:b.apiUrl,method:null!=(e=null==b?void 0:b.apiMethod)?e:"GET",signal:k.signal}).then(e=>{i()(e,"data.data.retry")?g.current=setTimeout(()=>S(),5e3):w(i()(e,"data.data")||{})}).catch(e=>{"ERR_CANCELED"!==e.code&&(w(),h(e))})},[k]);if(""===A)return null;let{icon:_,color:y,spinner:D,label:R,hidden:I=!1,asText:T}=o[A]||u||{},G=i()(t,"sx"),M=i()(G,n);return I?null:_?r.createElement(a.A,{component:"span",color:y,sx:M},r.createElement(l.A,{title:R||A},T?r.createElement(a.A,{component:"span"},T):r.createElement(p,{spinner:D},r.createElement(c.s4,{sx:{fontSize:"18px"},icon:_})))):r.createElement(a.A,{component:"span",sx:M},A)}},93806:function(e,t,n){n.d(t,{A:function(){return l}});var r=n(30758),a=n(30079);function l(){return(0,r.useContext)(a.A)}}}]);