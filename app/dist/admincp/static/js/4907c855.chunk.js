"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-Verification-Block"],{24220:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(43961),l=n(1530),a=n(98982),i=n(99221),c=n(30758),o=({action:e="resend"})=>{let t=(0,r.EkY)("user","user_verify",e);return t?c.createElement(i.A,{mt:2},c.createElement(a.ok,{navigationConfirmWhenDirty:!1,formSchema:t})):null},u=n(69508),s=n(78613),m=n(85481),f=n(18851),d=n(24009);let p=(0,u.Ay)(s.A)(({theme:e})=>({marginTop:e.spacing(2),color:e.palette.primary.main})),E=(0,u.Ay)(i.A)(({theme:e})=>({display:"flex",justifyContent:"center"})),y=({loading:e,error:t,success:n})=>{let{i18n:l,navigate:a}=(0,r.PCX)(),[i,u]=c.useState(!1);if(e)return c.createElement(E,null,c.createElement(m.A,{variant:"indeterminate",size:38}));if(n)return c.createElement(f.A,null,l.formatMessage({id:"your_account_has_been_verified_successfully"}));if(!t)return a("/",{replace:!0}),null;let{title:s,resend:d,redirect:y,action:_}=t;return y?(a("/",{replace:!0}),null):s&&!d?c.createElement(f.A,null,s):d?c.createElement(c.Fragment,null,c.createElement(f.A,{component:"h1",variant:"h3"},s),c.createElement(p,{component:"button",variant:"body2",onClick:()=>{u(!0)}},l.formatMessage({id:"did_not_receive_resend_verification"})),i?c.createElement(o,{action:_}):null):null};var _=(0,r.WvA)({extendBlock:function({title:e}){let{usePageParams:t,dispatch:n,navigate:a}=(0,r.PCX)(),i=t(),{loading:o,error:u,success:s}=(0,d.d4)(e=>e.user.verify),m=u&&JSON.parse(u),{hash:f}=i;return c.useEffect(()=>{n({type:"user/verification",payload:{hash:f}})},[f]),s&&window.setTimeout(()=>a("/login",{replace:!0}),5e3),c.createElement(l.eB,null,c.createElement(l.Tw,{title:e}),c.createElement(l.tD,null,c.createElement(y,{loading:o,error:m,success:s})))},defaults:{title:"Verification",blockLayout:"Blocker"}})}}]);