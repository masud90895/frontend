"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-blog-blocks-ViewBlog-Block"],{6139:function(e,t,i){i.r(t),i.d(t,{DetailView:function(){return y},LoadingSkeleton:function(){return w}});var n=i(19221),a=i(43961),l=i(32758),o=i(1530),r=i(25304),d=i(41349),m=i(99221),c=i(18851),s=i(69508),g=i(30758);let p="BlogDetailView",u=(0,s.Ay)("div",{name:p,slot:"bgCover",shouldForwardProp:e=>"isModalView"!==e})(({theme:e,isModalView:t})=>({position:"relative",zIndex:2,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",height:320,...t&&{marginLeft:e.spacing(-2),marginRight:e.spacing(-2)},[e.breakpoints.down("sm")]:{height:179}})),h=(0,s.Ay)("div",{name:p,slot:"bgCover",shouldForwardProp:e=>"isModalView"!==e})(({theme:e})=>({position:"absolute",left:0,right:0,bottom:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:1,backgroundColor:e.palette.background.default,filter:"blur(100px)"})),f=(0,s.Ay)("div",{name:p,slot:"blogViewContainer"})(({theme:e})=>({width:"100%",marginLeft:"auto",marginRight:"auto",padding:e.spacing(2),position:"relative",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius})),v=(0,s.Ay)("div",{name:p,slot:"blogContent"})(({theme:e})=>({fontSize:e.mixins.pxToRem(15),lineHeight:1.33})),b=(0,s.Ay)("div",{name:p,slot:"tagItem",overridesResolver(e,t){return[t.tagItem]}})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),fontWeight:e.typography.fontWeightBold,borderRadius:e.shape.borderRadius/2,background:"light"===e.palette.mode?e.palette.background.default:e.palette.action.hover,marginRight:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(0,1.5),height:e.spacing(3),lineHeight:e.spacing(3),display:"block",color:"light"===e.palette.mode?"#121212":"#fff"})),x=(0,s.Ay)("div",{name:p,slot:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(2),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),E=(0,s.Ay)("div",{name:p,slot:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between",[e.breakpoints.down("sm")]:{flexDirection:"column"}})),k=(0,s.Ay)("div",{name:p,slot:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"calc(50% - 8px)",minWidth:300,maxWidth:"100%"}));function w(e){return g.createElement(r.ne,e)}function y({user:e,identity:t,item:i,state:n,actions:s,handleAction:p,isModalView:w}){let{ItemActionMenu:y,ItemDetailInteraction:A,useGetItems:R,i18n:_,jsxBackend:B}=(0,a.PCX)(),I=R(null==i?void 0:i.categories),C=R(null==i?void 0:i.attachments),W=B.get("core.itemView.pendingReviewCard");if(!e||!i)return null;let z=(0,d.AE)(null==i?void 0:i.image,"origin"),{tags:V}=i;return g.createElement(o.eB,{testid:`detailview ${i.resource_name}`},g.createElement(o.tD,null,z?g.createElement(m.A,{sx:{position:"relative",overflow:"hidden"}},g.createElement(u,{isModalView:w,style:{backgroundImage:`url(${z})`}}),g.createElement(h,{style:{backgroundImage:`url(${z})`}})):null,W&&g.createElement(W,{sxWrapper:{p:2,pb:0},item:i}),g.createElement(f,null,g.createElement(r.sZ,{sx:{position:"absolute",top:8,right:8}},g.createElement(y,{identity:t,icon:"ico-dottedmore-vertical-o",state:n,menuName:"detailActionMenu",handleAction:p,size:"smaller"})),g.createElement(r.h4,{data:I,sx:{mb:1,mr:2}}),g.createElement(r.Et,{variant:"h3",component:"div",pr:2,showFull:!0},g.createElement(r.rL,{variant:"itemView",value:i.is_featured}),g.createElement(r.FN,{variant:"itemView",value:i.is_sponsor,item:i}),g.createElement(r.CH,{value:i.is_draft,variant:"h3",component:"span",sx:{verticalAlign:"middle",fontWeight:"normal"}}),g.createElement(c.A,{component:"h1",variant:"h3",sx:{pr:2.5,display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},null==i?void 0:i.title)),g.createElement(r.at,{item:i}),g.createElement(v,null,g.createElement(r.np,null,g.createElement(l.Ay,{html:(null==i?void 0:i.text)||""}))),(null==V?void 0:V.length)>0?g.createElement(m.A,{mt:4,display:"flex",flexWrap:"wrap"},V.map(e=>g.createElement(b,{key:e},g.createElement(a.N_E,{to:`/blog/search?q=%23${encodeURIComponent(e)}`},e)))):null,(null==C?void 0:C.length)>0&&g.createElement(g.Fragment,null,g.createElement(x,null,_.formatMessage({id:"attachments"})),g.createElement(E,null,C.map((e,t)=>g.createElement(k,{key:e.id.toString()},g.createElement(r.Hg,{fileName:e.file_name,downloadUrl:e.download_url,isImage:e.is_image,fileSizeText:e.file_size_text,size:"large",image:null==e?void 0:e.image,identity:null==e?void 0:e._identity,index:t}))))),g.createElement(A,{identity:t,state:n,handleAction:p}))))}y.LoadingSkeleton=w,y.displayName="BlogItem_DetailView";let A=(0,a.$MH)((0,a.FB$)(y,n.A,{categories:!0,attachments:!0}));t.default=(0,a.WvA)({extendBlock:A,defaults:{blockLayout:"Detail - Paper - Radius Bottom"}})},19221:function(e,t,i){i.d(t,{A:function(){return n}});function n(e){return{deleteItem:()=>e("deleteItem"),approveItem:()=>e("approveItem")}}}}]);