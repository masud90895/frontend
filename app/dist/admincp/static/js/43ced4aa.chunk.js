"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-app-blocks-AdminAppStoreShowDetail-AdminAppStoreShowDetail-block"],{7108:function(e,t,n){n.d(t,{FN:function(){return A},Op:function(){return S},eP:function(){return C},eb:function(){return g},gU:function(){return b}});var l=n(30758),a=n(69508),r=n(65599),o=n(87365),i=n(99221),c=n(25304),s=n(98002),d=n.n(s),m=n(62076),u=n.n(m);let p=(0,a.Ay)(r.Ay,{name:"StyledListItem"})(({theme:e})=>{var t;return{borderBottom:"solid 1px",borderBottomColor:null==(t=e.palette.border)?void 0:t.secondary,padding:`${e.spacing(2)} 0`,display:"flex",justifyContent:"space-between","&:first-of-type":{paddingTop:0},"&:last-child":{paddingBottom:0,borderBottom:"none"}}});function g({item:e,onChanged:t}){let[n,a]=l.useState(null==e?void 0:e.value);return l.createElement(p,{"data-testid":d()(`field ${e.var_name}`)},l.createElement(o.A,{primary:e.phrase,sx:{pr:2,with:"50%"}}),l.createElement(i.A,{sx:{width:"50%",textAlign:"end"}},l.createElement(c.LC,{options:null==e?void 0:e.options,value:n,handleChange:n=>{let l=null==n?void 0:n.value;a(l),t(u()(l)?l:parseInt(l,10),null==e?void 0:e.var_name)}})))}(0,a.Ay)(r.Ay,{name:"StyledSwitchList"})(({theme:e})=>{var t;return{borderBottom:"solid 1px",borderBottomColor:null==(t=e.palette.border)?void 0:t.secondary,padding:`${e.spacing(2)} 0 !important`,display:"flex",justifyContent:"space-between","&:first-of-type":{paddingTop:6},"&:last-child":{paddingBottom:6,borderBottom:"none"}}});var f=n(39477);let v="CoreCarousel",x=(0,a.Ay)(i.A,{name:v,slot:"root"})(({theme:e})=>({overflow:"hidden"})),y=(0,a.Ay)(i.A,{name:v,slot:"container",shouldForwardProp:e=>"gap"!==e&&"itemsShow"!==e})(({theme:e,gap:t,itemsShow:n})=>({display:"flex",alignItems:"flex-start",marginLeft:e.spacing(-1*t),"& > *":{flex:`0 0 calc(100% / ${n})`,paddingLeft:e.spacing(t),minWidth:0}}));var A=l.memo(function({children:e,sx:t,sxContainer:n,options:a={},gap:r=1,plugins:o=[],onInit:i,itemsShow:c=1}){let[s,d]=(0,f.A)(a,o),m=l.useRef(!1);return(l.useEffect(()=>{if(!d||m.current||!i)return;m.current=!0;let e=()=>i(d);return d&&i(d),d.on("init",e),()=>{d.off("init",e)}},[d,i]),e)?l.createElement(x,{ref:s,sx:t},l.createElement(y,{gap:r,sx:n,itemsShow:c},e)):null});function b(e){let[t,n]=(0,l.useState)({currentSelected:0,total:0,prevBtnDisabled:!0,nextBtnDisabled:!1}),a=(0,l.useCallback)(e=>{n({total:e.scrollSnapList().length,currentSelected:e.selectedScrollSnap(),prevBtnDisabled:!e.canScrollPrev(),nextBtnDisabled:!e.canScrollNext()})},[]);l.useEffect(()=>{if(!e)return;a(e);let t=()=>a(e),n=()=>a(e);return e.on("select",t),e.on("reInit",n),()=>{e.off("select",t),e.off("reInit",n)}},[e,a]);let r=(0,l.useCallback)(()=>{e&&e.scrollPrev()},[e]),o=(0,l.useCallback)(()=>{e&&e.scrollNext()},[e]);return{...t,carouselApi:e,onPrev:r,onNext:o}}var E=n(43961),h=n(86725);let _=(0,a.Ay)(h.A,{name:"PrevButton"})(({theme:e})=>({color:e.palette.primary.main}));var C=l.memo(function({carousel:e,size:t="medium",children:n,...a}){let{useTheme:r}=(0,E.PCX)(),{direction:o}=r()||{},{onPrev:i,prevBtnDisabled:s}=e;return l.createElement(_,{"data-testid":d()("button Prev Button Carousel"),onClick:i,size:t,disabled:s,...a},n||l.createElement(c.s4,{icon:"rtl"===o?"ico-angle-right":"ico-angle-left"}))});let w=(0,a.Ay)(h.A,{name:"NextButton"})(({theme:e})=>({color:e.palette.primary.main}));var S=l.memo(function({carousel:e,size:t="medium",children:n,...a}){let{useTheme:r}=(0,E.PCX)(),{direction:o}=r()||{},{onNext:i,nextBtnDisabled:s}=e;return l.createElement(w,{"data-testid":d()("button next Button Carousel"),onClick:i,size:t,disabled:s,...a},n||l.createElement(c.s4,{icon:"rtl"===o?"ico-angle-left":"ico-angle-right"}))});(0,a.Ay)(i.A,{name:"SelectedCount"})(({theme:e})=>({fontSize:e.mixins.pxToRem(15),color:e.palette.text.secondary,minWidth:"40px",textAlign:"center"}))},56380:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var l=n(30758),a=n(25304),r=n(43961),o=n(69508),i=n(63027),c=n(99221),s=n(16837),d=n(18851),m=n(41349),u=n(65888),p=n(55347),g=n(32758);let f=(0,o.Ay)(c.A,{name:"whatNewsDescription"})(({theme:e})=>({padding:e.spacing(2),color:"#555",margin:e.spacing(3,0),position:"relative"})),v=(0,o.Ay)(c.A,{name:"ProductStoreDetailInfo"})(({theme:e})=>({"& h1,h2,h3":{margin:"16px 0"},"& h4,h5,h6":{margin:"8px 0"}}));var x=()=>{let e=l.useContext(Z);return l.createElement(v,null,l.createElement(f,null,l.createElement(g.Ay,{html:null==e?void 0:e.description}),l.createElement(c.A,{sx:{position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundColor:"#888",opacity:.1}})),l.createElement(c.A,null,l.createElement(d.A,{variant:"body2",color:"text.secondary"},l.createElement(g.Ay,{html:null==e?void 0:e.text_detail}))))};let y=(0,o.Ay)(c.A,{name:"changelog"})(({theme:e})=>({"& .app_detail_version_history_item":{lineHeight:1.5,paddingBottom:"40px","& h3":{marginBottom:"8px",fontSize:"20px"}}}));var A=()=>{let e=l.useContext(Z);return l.createElement(y,null,l.createElement(d.A,{variant:"body2",color:"text.secondary"},l.createElement(g.Ay,{html:null==e?void 0:e.text_changelog})))};let b=(0,o.Ay)(c.A,{name:"ProductStoreDetailInstallationInfo"})(({theme:e})=>({"& h1,h2,h3":{margin:"16px 0"},"& h4,h5,h6":{margin:"8px 0"}}));var E=()=>{let e=l.useContext(Z);return l.createElement(b,null,l.createElement(d.A,{variant:"body2",color:"text.secondary"},l.createElement(g.Ay,{html:null==e?void 0:e.text_installation})))};function h(e){let{children:t,value:n,index:a,...r}=e;return l.createElement("div",{role:"tabpanel",hidden:n!==a,id:`simple-tabpanel-${a}`,"aria-labelledby":`simple-tab-${a}`,...r},n===a&&l.createElement(c.A,{sx:{p:3}},l.createElement(d.A,null,t)))}function _(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function C(){let{i18n:e}=(0,r.PCX)(),[t,n]=l.useState(0),a=l.useContext(Z);return l.createElement(c.A,{sx:{minHeight:{sm:"50vh",xs:"auto"}}},l.createElement(c.A,{sx:{borderBottom:1,borderColor:"divider"}},l.createElement(u.A,{value:t,onChange:(e,t)=>{n(t)}},l.createElement(p.A,{label:e.formatMessage({id:"app_detail_details"}),..._(0)}),(null==a?void 0:a.text_installation)?l.createElement(p.A,{label:e.formatMessage({id:"app_detail_installation"}),..._(1)}):null,(null==a?void 0:a.text_changelog)?l.createElement(p.A,{label:e.formatMessage({id:"app_detail_changelog"}),..._(3)}):null)),l.createElement(h,{value:t,index:0},l.createElement(x,null)),l.createElement(h,{value:t,index:1},l.createElement(E,null)),l.createElement(h,{value:t,index:2},l.createElement(A,null)))}var w=n(78613);let S=(0,o.Ay)(c.A,{name:"versionWrapper"})(({theme:e})=>({border:"solid 1px rgba(85, 85, 85, 0.1)",width:"100%",maxWidth:"100%",padding:e.spacing(3)})),k=(0,o.Ay)(c.A,{name:"versionInfo"})(({theme:e})=>({alignItems:"center",justifyContent:"space-between",height:"fit-content",display:"flex","&:not(:first-of-type)":{paddingTop:e.spacing(1)}}));var I=()=>{let{i18n:e}=(0,r.PCX)(),t=l.useContext(Z);return l.createElement(S,null,l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"installable_version"})),l.createElement(d.A,{color:"text.secondary",variant:"body2"},null==t?void 0:t.version)),l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"latest_version"})),l.createElement(d.A,{color:"text.secondary",variant:"body2"},null==t?void 0:t.latest_version)),l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"last_updated"})),l.createElement(d.A,{color:"text.secondary",variant:"body2"},new Date(null==t?void 0:t.updated_at).toDateString())),l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"app_compatible"})),l.createElement(d.A,{color:"text.secondary",variant:"body2"},null==t?void 0:t.compatible)),(null==t?void 0:t.mobile_compatible)&&l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"app_mobile_compatible"})),l.createElement(d.A,{color:"text.secondary",variant:"body2"},null==t?void 0:t.mobile_compatible)),(null==t?void 0:t.term_url)&&l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"terms_of_service"})),l.createElement(w.A,{href:t.term_url,target:"_blank",color:"primary"},e.formatMessage({id:"view"}))),(null==t?void 0:t.demo_url)&&l.createElement(k,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"live_demo"})),l.createElement(w.A,{href:null==t?void 0:t.demo_url,target:"_blank",color:"primary"},e.formatMessage({id:"view"}))))},B=n(39583);let M=(0,o.Ay)(c.A,{name:"versionWrapper"})(({theme:e})=>({border:"solid 1px rgba(85, 85, 85, 0.1)",width:"100%",maxWidth:"100%",padding:e.spacing(3)})),P=(0,o.Ay)(c.A,{name:"versionInfo"})(({theme:e})=>({alignItems:"center",justifyContent:"space-between",height:"fit-content",display:"flex","&:not(:first-of-type)":{paddingTop:e.spacing(1)}}));function D(){let{i18n:e}=(0,r.PCX)(),t=l.useContext(Z);return l.createElement(M,null,l.createElement(P,null,l.createElement(d.A,{variant:"subtitle2",color:"text.secondary"},e.formatMessage({id:"rating"})),l.createElement(B.A,{name:"rating",defaultValue:null==t?void 0:t.rated,precision:.1,readOnly:!0})),l.createElement(P,null,(null==t?void 0:t.rated)>0?e.formatMessage({id:"app_detail_rating_info"},{rated:parseFloat(String((null==t?void 0:t.rated)||0)).toFixed(1),total_reviews:null==t?void 0:t.total_reviews}):e.formatMessage({id:"app_detail_no_rating_info"})))}var W=n(56332);let R=(0,o.Ay)(c.A,{name:"versionWrapper"})(({theme:e})=>({border:"solid 1px rgba(85, 85, 85, 0.1)",width:"100%",maxWidth:"100%",padding:e.spacing(3)})),L=(0,o.Ay)(c.A,{name:"versionInfo"})(({theme:e})=>({alignItems:"center",justifyContent:"space-between",height:"fit-content",display:"flex"})),j=(0,o.Ay)(c.A,{name:"divider"})(({theme:e})=>({height:"1px",backgroundColor:"rgba(85, 85, 85, 0.1)",margin:e.spacing(3)}));var $=()=>{let{redirectTo:e,i18n:t}=(0,r.PCX)(),n=l.useContext(Z),{discount:a,price:o,can_install:i,can_purchase:s,pricing_type_label:m,pricing_type:u}=Object.assign({},n);return l.createElement(R,null,l.createElement(L,null,l.createElement(d.A,{variant:"body1",color:"text.hint"},null!=m?m:t.formatMessage({id:u})),l.createElement(c.A,{display:"flex",sx:{alignItems:"center"}},a&&l.createElement(d.A,{sx:{textDecoration:"line-through"},color:"text.hint",variant:"body1"},"$",o),l.createElement(d.A,{color:"warning.main",variant:"h2",ml:1},"$",a||o))),l.createElement(j,null),l.createElement(W.A,{variant:"contained",sx:{width:"100%"},disabled:!(s&&!i),onClick:()=>{(null==n?void 0:n.purchase_url)&&e(n.purchase_url)}},t.formatMessage({id:"purchase"})))},N=n(46542),T=n(4633),z=n.n(T),F=n(7108),X=n(77532);let O="AdminAppStoreShowDetail",H=(0,o.Ay)(i.Ay,{name:"gridStyled"})(({theme:e})=>({width:"100%",marginLeft:0,marginTop:0})),U=(0,o.Ay)(i.Ay,{name:"gridItemStyled"})(({theme:e})=>({paddingRight:e.spacing(2),"& > div":{marginBottom:e.spacing(3)}})),J=(0,o.Ay)(c.A,{name:"cardContentStyled"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"space-between",width:"calc(100% - 120px)",paddingLeft:e.spacing(2),[e.breakpoints.down("sm")]:{flexDirection:"column",alignItems:"flex-start"}})),K=(0,o.Ay)(c.A,{name:"cardImageWrapper"})(({theme:e})=>({display:"flex",alignItems:"center",pl:1,pb:1})),V=(0,o.Ay)(c.A,{name:"sliderWrapper"})(({theme:e})=>({margin:e.spacing(2,0),border:"1px solid",borderColor:e.palette.border.secondary})),Y=(0,o.Ay)(c.A,{name:"Install"})(({theme:e})=>({textAlign:"right",[e.breakpoints.down("sm")]:{paddingTop:e.spacing(1),display:"flex",flexDirection:"column",textAlign:"left","& button":{marginRight:e.spacing(1)}}})),q=e=>({zIndex:99,position:"absolute",top:"50%",transform:"translateY(-50%)",background:"rgba(0,0,0,0.5) !important",color:"white !important",borderColor:"none !important",width:"48px !important",height:"48px !important",display:"inline-flex !important",alignItems:"center !important",justifyContent:"center !important",transition:"all 300ms ease",borderRadius:"0","&:hover":{background:"rgba(0,0,0,0.7) !important"},"&:before":{display:"none !important"},"& span":{padding:e.spacing(1),fontSize:"24px"}}),G=(0,o.Ay)(F.Op,{name:O,slot:"nextButton"})(({theme:e})=>({...q(e),right:0})),Q=(0,o.Ay)(F.eP,{name:O,slot:"prevButton"})(({theme:e})=>({...q(e),left:0})),Z=l.createContext(null);function ee(){var e,t,n,o;let{usePageParams:u,dispatch:p,assetUrl:g,i18n:f,jsxBackend:v}=(0,r.PCX)(),{identity:x,id:y}=u(),A=(0,r.dx2)(x),b=(0,l.useCallback)(()=>{null!=A&&A.is_installing||p({type:"app/store/install",payload:{identity:x}})},[y,A]),[E,h]=l.useState(null),_=(0,F.gU)(E);if(!A)return l.createElement(c.A,{display:"flex",sx:{height:"100px",width:"100%",backgroundColor:"background.paper",justifyContent:"center"}},v.render({component:"form.DefaultLoading"}));let{author:w,installation_status:S}=A,k="installing"===S,B=(null==A||null==(e=A.images)?void 0:e.length)?null==A?void 0:A.images:[g("layout.image_no_results")],M=(null==A?void 0:A.is_installed)?null==A?void 0:A.can_upgrade:null==A?void 0:A.can_install;return l.createElement(Z.Provider,{value:A},l.createElement(H,{container:!0,spacing:2,sx:{background:"#fff"}},l.createElement(i.Ay,{xs:12,sm:12,md:8,lg:8,item:!0,sx:{pr:2}},l.createElement(c.A,{sx:{display:"flex"}},l.createElement(c.A,{sx:{display:"flex",width:"100%"}},l.createElement(K,null,l.createElement(s.A,{component:"img",sx:{width:120,height:120,borderRadius:1},image:(0,m.AE)((null==A?void 0:A.icon)||(null==A?void 0:A.image),"500",g("layout.site_apple_touch_icon"))})),l.createElement(J,null,l.createElement(c.A,{sx:{maxWidth:{sm:"70%",xs:"100%"}}},l.createElement(a.lN,{type:"is_featured",value:null==A?void 0:A.is_featured}),l.createElement(d.A,{component:"div",variant:"h2",sx:{fontWeight:500},color:"#555555"},null==A?void 0:A.name),l.createElement(d.A,{variant:"body2",color:"text.secondary",component:"div"},l.createElement(a.J7,null,null==A||null==(t=A.categories)?void 0:t.map((e,t)=>l.createElement("span",{key:t},e.name)))," ",l.createElement(r.Wti,{target:"_blank",to:w.url},l.createElement(d.A,{variant:"body2",color:"text.secondary",component:"span"},w.name)))),l.createElement(Y,null,l.createElement(N.A,{disableRipple:!0,disableFocusRipple:!0,onClick:b,variant:"contained",disabled:!M||k||z()(null==A?void 0:A.version_detail)||(null==A?void 0:A.version)==="N/A",size:"small",loading:k},A.label_install),l.createElement(d.A,{color:"text.secondary",variant:"body2",sx:{py:1}},f.formatMessage({id:"total_amount_installed"},{value:l.createElement(a.K2,{value:null==A?void 0:A.total_installed})})),!z()(null==A?void 0:A.internal_admincp_url)&&l.createElement(r.Wti,{to:null==A||null==(n=A.internal_admincp_url)?void 0:n.url},null==A||null==(o=A.internal_admincp_url)?void 0:o.label))))),l.createElement(V,null,l.createElement(c.A,{sx:{position:"relative"}},l.createElement(F.FN,{itemsShow:1,gap:2,options:{slidesToScroll:"auto",loop:!0},onInit:e=>{h(e)},plugins:[(0,X.A)({delay:4e3,stopOnInteraction:!1,stopOnMouseEnter:!0})]},B.map((e,t)=>l.createElement(s.A,{key:t,component:"img",sx:{height:"320px",width:"100%",objectFit:"contain"},image:(0,m.AE)(e,"1024")}))),l.createElement(Q,{iconRight:"ico-arrow-right",iconLeft:"ico-arrow-left",carousel:_,disableRipple:!0},l.createElement(a.s4,{icon:"ico-arrow-left"})),l.createElement(G,{iconRight:"ico-arrow-right",iconLeft:"ico-arrow-left",carousel:_,disableRipple:!0},l.createElement(a.s4,{icon:"ico-arrow-right"})))),l.createElement(C,null)),l.createElement(U,{xs:12,sm:12,md:4,lg:4,item:!0},l.createElement($,null),l.createElement(D,null),l.createElement(I,null))))}}}]);