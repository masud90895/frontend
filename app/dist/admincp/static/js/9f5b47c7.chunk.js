"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["sidebar"],{2496:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(43961),a=n(1530),l=n(30758),r=n(25304),o=n(69508),c=n(86725),d=n(13526),m=n(4633),p=n.n(m),u=(e,t)=>{var n;return(null==e?void 0:e.resourceName)===(null==t?void 0:t.resource_name)&&(null==e?void 0:e.appName)===(null==t?void 0:t.module_name)&&(null==e?void 0:e.id)===(null==t||null==(n=t.id)?void 0:n.toString())};let s=(0,o.Ay)("div",{name:"LayoutSlot",slot:"categoryItem",overridesResolver(e,t){return[t.categoryItem]}})(({theme:e})=>({"& a":{minHeight:e.spacing(7),flex:1,minWidth:0,padding:e.spacing(1,2),"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}})),g=(0,o.Ay)("div")(({theme:e})=>({"&.hasSubs":{display:"flex",alignItems:"center","& a":{paddingRight:e.spacing(5)}},"&.itemActive":{"& > a":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}}})),h=(0,o.Ay)(c.A)(({theme:e})=>({position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15),paddingLeft:0}})),f=(0,o.Ay)(i.Wti)(({theme:e})=>({fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"})),x=(0,o.Ay)("ul")(({theme:e})=>({borderLeft:`1px solid ${e.palette.border.secondary}`,listStyle:"none",margin:e.spacing(0,0,0,2),padding:0})),b=(e,t,n)=>(null==e?void 0:e.length)>0&&e.some(e=>{var i;return n===(null==e||null==(i=e.id)?void 0:i.toString())||u(t,e)||b(e.subs,t,n)});function v({name:e,id:t,subs:n,resource_name:a,active:o,classes:c,link:m}){let{usePageParams:y}=(0,i.PCX)(),k=y(),{category:E}=k||{},[A,S]=l.useState(b(n,k,E)),R=l.useCallback(()=>{S(e=>!e)},[]);return l.useEffect(()=>{b(n,k,E)&&S(!0)},[E,null==k?void 0:k.id]),l.createElement(s,null,l.createElement(g,{className:(0,d.A)(!p()(n)&&"hasSubs",o&&"itemActive")},l.createElement(f,{to:m,"data-testid":"itemCategory",color:"inherit","aria-selected":o,"aria-label":e},l.createElement("span",null,e)),p()(n)?null:l.createElement(h,{size:"small",onClick:R},l.createElement(r.s4,{icon:A?"ico-angle-up":"ico-angle-down"}))),A&&n&&(null==n?void 0:n.length)>0?l.createElement(x,null,n.map((e,t)=>l.createElement(v,{key:t.toString(),classes:c,link:(null==e?void 0:e.link)||(null==e?void 0:e.url),active:E===e.id.toString()||u(k,e),...e}))):null)}let y=(0,i.mtG)(function({title:e,sidebarCategory:t,blockProps:n,appName:r}){let{useFetchItems:o,usePageParams:c}=(0,i.PCX)(),d=(null==t?void 0:t.appName)||r,[m]=o({dataSource:(0,i.IgF)(d,(null==t?void 0:t.resourceName)||`${d}_category`,(null==t?void 0:t.actionName)||"viewAll")||(null==t?void 0:t.dataSource),data:[],cache:!0,normalize:!1}),p=c(),{category:s}=p||{};if(!t)return null;let{title:g}=t;return l.createElement(l.Fragment,null,m.length?l.createElement(a.eB,{testid:"blockSidebarCategory"},l.createElement(a.Tw,{title:g||e}),l.createElement(a.tD,null,m.map(e=>l.createElement(v,{id:e.id,name:e.name,resource_name:e.resource_name,key:e.id.toString(),active:s===e.id.toString()||u(p,e),subs:e.subs,link:(null==e?void 0:e.link)||(null==e?void 0:e.url)})))):null)});var k=(0,i.WvA)({extendBlock:y,defaults:{title:"Categories",blockLayout:"sidebar app category"}})},8680:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var i=n(43961),a=n(1530),l=n(41349),r=n(30758),o=n(28606),c=n(94215);let d=(0,o.A)(e=>(0,c.A)({root:{},menu:{},text:{flexGrow:1},colapseIcon:{},icon:{color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(2),lineHeight:"32px"},dropDownIcon:{},menuItemAvatar:{},menuItemIcon:{fontSize:e.mixins.pxToRem(18),display:"inline-block",textAlign:"center",marginRight:e.spacing(1),backgroundColor:"#e0dddd",borderRadius:"50%",lineHeight:"32px",width:e.spacing(4)},menuItem:{height:e.spacing(7),fontWeight:`${e.typography.fontWeightRegular} !important`,margin:`${e.spacing(0,1)} !important`,borderRadius:`${e.spacing(1)} !important`,padding:`${e.spacing(1)} !important`,"& a":{padding:e.spacing(0,2)},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemText:{fontSize:e.mixins.pxToRem(15),fontWeight:`${e.typography.fontWeightRegular} !important`,"& .MuiListItemText-primary":{fontWeight:`${e.typography.fontWeightRegular} !important`}},menuItemLink:{color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,display:"block",height:"100%",lineHeight:`${e.spacing(7)}px`},activeMenuItem:{background:"transparent !important","& $menuItemLink":{color:e.palette.primary.main,fontWeight:"bold"},"& $menuItemIcon":{color:e.palette.background.paper,backgroundColor:e.palette.primary.main},"& $menuItemText .MuiListItemText-primary":{fontWeight:`${e.typography.fontWeightMedium} !important`,color:`${e.palette.primary.main} !important`}},menuItemButton:{marginTop:e.spacing(2),"& .ico":{marginRight:e.spacing(1)}},buttonLink:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",height:e.spacing(5)},headerBlock:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",color:"light"===e.palette.mode?e.palette.text.secondary:e.palette.text.primary,padding:e.spacing(2,0)}}),{name:"SidebarAppMenu"}),m=(0,i.$MH)((0,i.FB$)(function({displayTitle:e,title:t,blockProps:n,appName:o,menuName:c,item:m}){let p=d(),{usePageParams:u,useSession:s,getAcl:g,jsxBackend:h,compactUrl:f,getSetting:x}=(0,i.PCX)(),b=g(),{tab:v,id:y}=u(),{pathname:k}=(0,i.zy2)(),E=s(),A=x(),{appName:S,module_name:R}=u(),I=(0,i.cbF)(o||S||R||"core",c);if(!(null==I?void 0:I.items)||!I.items.length)return null;let W=(0,l.Ue)(I.items,{setting:A,session:E,acl:b,item:m});return W.length?r.createElement(a.eB,{testid:"blockSidebarMenu"},e&&r.createElement(a.Tw,{title:t}),r.createElement(a.tD,null,r.createElement("div",{role:"menu"},W.map((e,t)=>h.render({component:`menuItem.as.${e.as||"sidebarLink"}`,props:{key:t.toString(),variant:"middle",item:{...e,to:e.to?f(e.to,{id:y}):void 0},classes:p,active:v&&v===e.tab||k===e.to}}))))):null},()=>{}));var p=(0,i.WvA)({extendBlock:m,defaults:{title:"Sidebar Menu Settings",menuName:"sidebarMenuSetting",blockLayout:"sidebar app menu"}})},12272:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var i=n(43961),a=n(1530),l=n(58875),r=n(30758),o=(0,i.WvA)({extendBlock:function({dividerVariant:e,blockProps:t}){let{useTheme:n}=(0,i.PCX)(),o=n();return r.createElement(a.eB,{className:"sidebarDivider"},r.createElement(a.tD,null,r.createElement(l.A,{variant:null!=e?e:"inset",sx:{borderColor:o.palette.divider}})))},overrides:{dividerVariant:"middle",noHeader:!0},defaults:{title:"Divider",dividerVariant:"middle",blockLayout:"sidebar divider"}})},12863:function(e,t,n){n.r(t);var i=n(43961),a=n(82861);let l=(0,i.$MH)((0,i.FB$)(a.A,()=>{}));t.default=(0,i.WvA)({extendBlock:l,defaults:{title:"Sidebar App Menu",menuName:"sidebarMenu",blockLayout:"sidebar app menu"}})},74878:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var i=n(43961),a=n(24009),l=n(1530),r=n(30758);let o=(0,a.Ng)(e=>e.core.ui)(function({blockProps:e}){let t=(0,i.cbF)("core","footerMenu");if(!(null==t?void 0:t.items))return null;let{items:n}=t;return r.createElement(l.eB,null,r.createElement(l.tD,null,n.map(e=>r.createElement(i.N_E,{key:e.to,role:"link",variant:"caption",style:{paddingRight:8},color:"textSecondary",...e},e.label)),r.createElement(i.N_E,{role:"link",to:"#",variant:"caption",style:{paddingRight:8},color:"textSecondary"},"Phpfox \xa9 2017")))});var c=(0,i.WvA)({extendBlock:o,defaults:{blockProps:{testid:"sidebarFooterBlock",variant:"plained",paddingLeft:"2",paddingRight:"2"}}})},79850:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(43961),a=n(1530),l=n(69508),r=n(86725),o=n(18851),c=n(30758),d=n(28606),m=n(94215);let p=(0,d.A)(e=>(0,m.A)({root:{padding:e.spacing(2,2,0,2)},header:{display:"flex",alignItems:"center",color:e.palette.primary.main},title:{fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold},text:{flexGrow:1},icon:{fontSize:e.mixins.pxToRem(16),color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(1.5),lineHeight:"32px"},link:{color:e.palette.primary.main,"&:hover":{textDecoration:"underline"}},breadcrumbs:{display:"flex",alignItems:"center"}}),{name:"SideAppHeaderBlock"});var u=n(99221),s=n(25304);function g({data:e,item:t={}}){let n=p(),{compactUrl:a,i18n:l}=(0,i.PCX)();return(null==e?void 0:e.length)?c.createElement(u.A,{sx:{display:"flex",alignItems:"center",flexFlow:"wrap"}},e.map(e=>c.createElement(c.Fragment,null,c.createElement(i.Wti,{to:a(e.to,t||{})||(null==t?void 0:t.link),className:n.link},c.createElement(o.A,{variant:"body2",color:"primary"},l.formatMessage({id:e.title}))),c.createElement(u.A,{mx:1,component:"span",color:"text.hint",sx:{"&:last-child":{display:"none"}}},c.createElement(s.s4,{sx:{fontSize:"10px"},icon:"ico-angle-right"}))))):null}let h=(0,l.Ay)(r.A,{name:"SidebarAppHeader",slot:"styledBackButton",overridesResolver(e,t){return[t.styledBackButton]}})(({theme:e})=>({display:"none"}));function f({blockProps:e,sidebarHeaderName:t="homepageHeader",titleProperty:n}){let l=p(),{usePageParams:r,useFetchDetail:d,compactUrl:m,i18n:u,navigate:f}=(0,i.PCX)(),{appName:x,breadcrumb:b,heading:v,pageTitle:y,id:k,resourceName:E,backPage:A,backPageProps:S}=r(),R=(0,i.$lg)(x,t),[I]=d({dataSource:k&&("page"===E||"group"===E)?{apiUrl:`/${x}/${k}`}:null});if(!R)return null;let{title:W,to:C,breadcrumbsData:B}=R,$=C||(null==I?void 0:I.link),w=n&&I&&I[n],M=w&&`/${E}/${k}`,T=S||{title:y,to:E};if(b||B){var N;return c.createElement(a.eB,{testid:"blockAppHeader"},c.createElement(a.tD,null,B?c.createElement(g,{data:B,item:I}):c.createElement(i.Wti,{to:M||m($,I||{}),className:l.link},c.createElement(o.A,{variant:"body2",color:"primary"},u.formatMessage({id:null!=(N=null!=y?y:w)?N:W}))),v&&"string"==typeof v?c.createElement("div",{className:l.header},c.createElement(o.A,{component:"h1",variant:"h3",color:"textPrimary"},u.formatMessage({id:v}))):null))}return c.createElement(a.eB,{testid:"blockAppHeader"},c.createElement(a.tD,null,A?c.createElement(i.Wti,{to:T.to,className:l.link},c.createElement(o.A,{variant:"body2",color:"primary"},u.formatMessage({id:T.title}))):null,c.createElement("div",{className:l.header},c.createElement(h,{size:"small",role:"button",onClick:()=>f(-1),sx:{mr:1}},c.createElement(s.s4,{icon:"ico-arrow-left"})),c.createElement(o.A,{component:"h1",variant:"h3",color:"textPrimary",className:l.title},u.formatMessage({id:null!=y?y:W})))))}},82861:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(43961),a=n(1530),l=n(41349),r=n(30758),o=n(28606),c=n(94215);let d=(0,o.A)(e=>(0,c.A)({root:{},menu:{},text:{flexGrow:1},colapseIcon:{},icon:{color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(2),lineHeight:"32px"},dropDownIcon:{},menuItemAvatar:{},menuItemIcon:{fontSize:e.mixins.pxToRem(18),display:"inline-block",textAlign:"center",marginRight:e.spacing(1),backgroundColor:"#e0dddd",borderRadius:"50%",lineHeight:"32px",width:e.spacing(4)},menuItem:{height:e.spacing(7),fontWeight:e.typography.fontWeightRegular,margin:e.spacing(0,-1),"& a":{padding:e.spacing(0,1)},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemText:{fontSize:e.mixins.pxToRem(15)},menuItemLink:{color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,display:"block",height:"100%",lineHeight:`${e.spacing(7)}px`},activeMenuItem:{"& $menuItemLink":{color:e.palette.primary.main,fontWeight:"bold"},"& $menuItemIcon":{color:e.palette.background.paper,backgroundColor:e.palette.primary.main}},menuItemButton:{marginTop:e.spacing(2),"& .ico":{marginRight:e.spacing(1)}},buttonLink:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",height:e.spacing(5)},headerBlock:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",color:"light"===e.palette.mode?e.palette.text.secondary:e.palette.text.primary,padding:e.spacing(2,0)}}),{name:"SidebarAppMenu"});var m=n(20644),p=n.n(m);let u={};function s({displayTitle:e,displayViewMore:t=!0,title:n,blockProps:o,appName:c,menuName:m,item:s,displayLimit:g=5}){let h=d(),{usePageParams:f,useSession:x,getAcl:b,jsxBackend:v,compactUrl:y,getSetting:k,i18n:E,location:A,useIsMobile:S}=(0,i.PCX)(),R=S(!0),I=r.useRef(!1),W=b(),{tab:C,pathname:B,id:$}=f(),w=B||(null==A?void 0:A.pathname),M=x(),T=k(),{appName:N,module_name:L}=f(),z=c||N||L||"core",[H,D]=r.useState(p()(u,z)),P=(0,r.useCallback)(()=>{u={[z]:!H},D(e=>!e)},[]),_=(0,i.cbF)(c||N||L||"core",m),F=(0,l.Ue)(null==_?void 0:_.items,{setting:T,session:M,acl:W,item:s,isMobile:R}),X=F.filter(e=>"sidebarButton"===e.as).length,G=(0,r.useMemo)(()=>{let e=[...F];return e.length?(e.length<=g+X||!t||(H?e.splice(e.length-X,0,{icon:"ico-angle-up",testid:"less",label:E.formatMessage({id:"less"}),onClick:P,to:null}):e.splice(g,e.length-(g+X),{icon:"ico-angle-down",testid:"more",label:E.formatMessage({id:"more"}),onClick:P,to:null})),e):[]},[F,g,X,t,H,E,P]),U=(0,r.useMemo)(()=>-1!==F.findIndex(e=>(0,l.w7)(w,e.to)),[F,w]),V=(0,r.useMemo)(()=>!G.some(e=>(0,l.w7)(w,e.to)),[G,w]);return r.useEffect(()=>{!I.current&&U&&V&&P(),I.current=!0},[U,V]),r.createElement(a.eB,{testid:"blockSidebarMenu"},e&&r.createElement(a.Tw,{title:n}),r.createElement(a.tD,null,r.createElement("div",{role:"menu"},G.map((e,t)=>v.render({component:`menuItem.as.${e.as||"sidebarLink"}`,props:{key:t.toString(),variant:"contained",item:{...e,to:e.to?y(e.to,{id:$}):void 0},classes:h,active:C&&C===e.tab||(0,l.w7)(w,e.to)}})))))}},83117:function(e,t,n){n.r(t);var i=n(43961),a=n(79850);t.default=(0,i.WvA)({extendBlock:a.default,defaults:{title:"App Header",blockLayout:"sidebar app header"}})}}]);