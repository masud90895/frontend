"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-feed-components-FeedItemViewModal"],{45129:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(43961),l=a(32758),r=a(1530),i=a(25304),c=a(75969),o=a(28606),m=a(94215),d=a(30758);function s(e){let{useSortComment:t,CommentList:a}=(0,n.PCX)();if(!t||!a)return null;let[l,r]=t();return d.createElement(a,{sortType:l,setSortType:r,...e})}let p=(0,o.A)(e=>(0,m.A)({root:{borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.paper,padding:e.spacing(2),paddingBottom:0,display:"flex",flexFlow:"column",height:"100%",maxHeight:"600px",justifyContent:"space-between",[e.breakpoints.down("xs")]:{width:"100%",maxHeight:"400px"}},rootSkeleton:{padding:e.spacing(2)},header:{display:"flex",flexDirection:"row",marginBottom:e.spacing(2)},headerInfo:{padding:"4px 0",flex:1},headerAvatarHolder:{paddingRight:e.spacing(1.5)},profileLink:{fontWeight:e.typography.fontWeightBold,paddingRight:e.spacing(.5),color:e.palette.text.primary},privacyBlock:{display:"flex",flexDirection:"row",alignItems:"center",color:e.palette.text.secondary},separateSpans:{display:"flex",alignItems:"center","& span + span:before":{content:'"\xb7"',display:"inline-block",padding:`${e.spacing(0,.5)}`}},body:{flexGrow:1},content:{flexGrow:1,display:"flex",flexFlow:"column wrap"},commentListing:{flexGrow:1,overflow:"hidden"},commentReaction:{flexGrow:"initial"},info:{marginBottom:e.spacing(2),fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary}}),{name:"MuiFeedItemViewModal"}),u=({item:e,user:t,identity:a,itemProps:c})=>{var o,m;let{info:u,statistic:f,most_reactions_information:h,item_type:E,item_id:x}=e,{useActionControl:g}=(0,n.PCX)(),v=d.useRef(),{ReactionActButton:y,CommentReaction:w,CommentActButton:A,ShareActButton:k,ItemActionMenu:N,jsxBackend:b}=(0,n.PCX)(),_=p(),[C,S]=g(a,{menuOpened:!1,commentOpened:!0,commentInputRef:v});if(!e)return null;let B=b.get("CommentComposer");return d.createElement("div",{className:_.root},d.createElement("div",{className:_.content},d.createElement("div",{className:_.header},d.createElement("div",{className:_.headerAvatarHolder},d.createElement(i.H8,{user:t,size:48})),d.createElement("div",{className:_.headerInfo},d.createElement("div",null,d.createElement(i.xE,{user:t,className:_.profileLink})),d.createElement("div",{className:_.privacyBlock},d.createElement("span",{className:_.separateSpans},d.createElement(i.s4,{icon:"ico-globe-o",style:{fontSize:12},"aria-label":"share with public",role:"img"}),d.createElement(i.h1,{value:e.creation_date})))),d.createElement(N,{identity:a,state:S,handleAction:C})),d.createElement("div",{className:_.body},d.createElement(r.P,{autoHide:!0},u?d.createElement("div",{className:_.info},d.createElement(l.Ay,{html:u})):null,d.createElement(i.DN,{handleAction:C,identity:a,reactions:h,statistic:f}),w?d.createElement(w,null,(null==(o=e.extra)?void 0:o.can_like)?d.createElement(y,{reacted:e.user_reacted,identity:a,handleAction:C}):null,(null==(m=e.extra)?void 0:m.can_comment)?d.createElement(A,{identity:a,handleAction:C}):null,e.extra.can_share?d.createElement(k,{handleAction:C,identity:a}):null):null,d.createElement(s,{open:!0,handleAction:C,item_type:E,item_id:x,className:_.commentListing,isDetailPage:!0})))),d.createElement(B,{open:S.commentOpened}))};u.LoadingSkeleton=({itemProps:e})=>{let t=p();return d.createElement("div",{className:`${t.root} ${t.rootSkeleton}`},d.createElement("div",{className:t.header},d.createElement("div",{className:t.headerAvatarHolder},d.createElement(c.A,{variant:"circular",width:40,height:40})),d.createElement("div",{className:t.headerInfo},d.createElement("div",null,d.createElement(c.A,{variant:"text",component:"div"})),d.createElement("div",{className:t.privacyBlock},d.createElement(c.A,{variant:"text",width:120})))),d.createElement("div",null,d.createElement(c.A,{variant:"text"}),d.createElement(c.A,{variant:"text"}),d.createElement(c.A,{variant:"text"})))};var f=u}}]);