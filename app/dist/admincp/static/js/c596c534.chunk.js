"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-feed-dialogs-StatusComposer-StatusComposerControlPreviewLink"],{51092:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var n=i(43961),r=i(25304),a=i(28606),l=i(94215),s=i(20644),o=i.n(s),u=i(4633),c=i.n(u),m=i(30758);let d=(0,a.A)(e=>(0,l.A)({root:{position:"relative",margin:e.spacing(1,2,0,2)},removeButtonWrapper:{position:"absolute",top:10,right:10}}),{name:"previewLink"});function v({composerRef:e,isEdit:t}){let i=d(),{i18n:a,jsxBackend:l}=(0,n.PCX)(),s=!c()(o()(e.current.state,"editorStyle"))&&"withBackgroundStatus"===e.current.state.className,u=o()(e.current.state,"attachments.link.value"),v=o()(e.current.state,"post_type"),p=l.get("feedArticle.view.list.embedItem");m.useEffect(()=>{((null==u?void 0:u.is_preview_hidden)||"link"===v)&&t&&e.current.setAttachments("link","link",{as:"StatusComposerControlPreviewLink",value:{...u,is_preview_hidden:!1}})},[]),m.useEffect(()=>{u&&s&&e.current.setAttachments("link","link",{as:"StatusComposerControlPreviewLink",value:{...u,is_preview_hidden:!0}})},[s]);let k=m.useCallback(()=>{e.current.setAttachments("link","link",{as:"StatusComposerControlPreviewLink",value:{...u,is_preview_hidden:!0}})},[u]);return(null==u?void 0:u.is_preview_hidden)||c()(null==u?void 0:u.link)?null:m.createElement("div",null,m.createElement("div",{className:i.root},m.createElement(p,{...u,widthImage:"180px"}),m.createElement("div",{className:i.removeButtonWrapper},m.createElement(r.Bj,{color:"inherit",icon:"ico-close",size:"small",title:a.formatMessage({id:"remove_all"}),onClick:k}))))}}}]);